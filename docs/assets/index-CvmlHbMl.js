var z0=i=>{throw TypeError(i)};var bp=(i,e,t)=>e.has(i)||z0("Cannot "+t);var Dt=(i,e,t)=>(bp(i,e,"read from private field"),t?t.call(i):e.get(i)),Ys=(i,e,t)=>e.has(i)?z0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),Hn=(i,e,t,s)=>(bp(i,e,"write to private field"),s?s.call(i,t):e.set(i,t),t),Xs=(i,e,t)=>(bp(i,e,"access private method"),t);var H0=(i,e,t,s)=>({set _(a){Hn(i,e,a,t)},get _(){return Dt(i,e,s)}});function c_(i,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in i)){const r=Object.getOwnPropertyDescriptor(s,a);r&&Object.defineProperty(i,a,r.get?r:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();function Im(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var wp={exports:{}},Pl={};var U0;function d_(){if(U0)return Pl;U0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,r){var l=null;if(r!==void 0&&(l=""+r),a.key!==void 0&&(l=""+a.key),"key"in a){r={};for(var d in a)d!=="key"&&(r[d]=a[d])}else r=a;return a=r.ref,{$$typeof:i,type:s,key:l,ref:a!==void 0?a:null,props:r}}return Pl.Fragment=e,Pl.jsx=t,Pl.jsxs=t,Pl}var V0;function u_(){return V0||(V0=1,wp.exports=d_()),wp.exports}var u=u_(),Sp={exports:{}},Ye={};var $0;function h_(){if($0)return Ye;$0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function C(P,R,B){this.props=P,this.context=R,this.refs=E,this.updater=B||A}C.prototype.isReactComponent={},C.prototype.setState=function(P,R){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,R,"setState")},C.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function _(){}_.prototype=C.prototype;function N(P,R,B){this.props=P,this.context=R,this.refs=E,this.updater=B||A}var j=N.prototype=new _;j.constructor=N,S(j,C.prototype),j.isPureReactComponent=!0;var M=Array.isArray;function L(){}var O={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function z(P,R,B){var q=B.ref;return{$$typeof:i,type:P,key:R,ref:q!==void 0?q:null,props:B}}function $(P,R){return z(P.type,R,P.props)}function Y(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function se(P){var R={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(B){return R[B]})}var re=/\/+/g;function ae(P,R){return typeof P=="object"&&P!==null&&P.key!=null?se(""+P.key):R.toString(36)}function fe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(L,L):(P.status="pending",P.then(function(R){P.status==="pending"&&(P.status="fulfilled",P.value=R)},function(R){P.status==="pending"&&(P.status="rejected",P.reason=R)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function D(P,R,B,q,X){var le=typeof P;(le==="undefined"||le==="boolean")&&(P=null);var Z=!1;if(P===null)Z=!0;else switch(le){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(P.$$typeof){case i:case e:Z=!0;break;case g:return Z=P._init,D(Z(P._payload),R,B,q,X)}}if(Z)return X=X(P),Z=q===""?"."+ae(P,0):q,M(X)?(B="",Z!=null&&(B=Z.replace(re,"$&/")+"/"),D(X,R,B,"",function(Ae){return Ae})):X!=null&&(Y(X)&&(X=$(X,B+(X.key==null||P&&P.key===X.key?"":(""+X.key).replace(re,"$&/")+"/")+Z)),R.push(X)),1;Z=0;var ce=q===""?".":q+":";if(M(P))for(var pe=0;pe<P.length;pe++)q=P[pe],le=ce+ae(q,pe),Z+=D(q,R,B,le,X);else if(pe=w(P),typeof pe=="function")for(P=pe.call(P),pe=0;!(q=P.next()).done;)q=q.value,le=ce+ae(q,pe++),Z+=D(q,R,B,le,X);else if(le==="object"){if(typeof P.then=="function")return D(fe(P),R,B,q,X);throw R=String(P),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return Z}function U(P,R,B){if(P==null)return P;var q=[],X=0;return D(P,q,"","",function(le){return R.call(B,le,X++)}),q}function H(P){if(P._status===-1){var R=P._result;R=R(),R.then(function(B){(P._status===0||P._status===-1)&&(P._status=1,P._result=B)},function(B){(P._status===0||P._status===-1)&&(P._status=2,P._result=B)}),P._status===-1&&(P._status=0,P._result=R)}if(P._status===1)return P._result.default;throw P._result}var F=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},K={map:U,forEach:function(P,R,B){U(P,function(){R.apply(this,arguments)},B)},count:function(P){var R=0;return U(P,function(){R++}),R},toArray:function(P){return U(P,function(R){return R})||[]},only:function(P){if(!Y(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ye.Activity=m,Ye.Children=K,Ye.Component=C,Ye.Fragment=t,Ye.Profiler=a,Ye.PureComponent=N,Ye.StrictMode=s,Ye.Suspense=h,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(P){return O.H.useMemoCache(P)}},Ye.cache=function(P){return function(){return P.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(P,R,B){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var q=S({},P.props),X=P.key;if(R!=null)for(le in R.key!==void 0&&(X=""+R.key),R)!I.call(R,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&R.ref===void 0||(q[le]=R[le]);var le=arguments.length-2;if(le===1)q.children=B;else if(1<le){for(var Z=Array(le),ce=0;ce<le;ce++)Z[ce]=arguments[ce+2];q.children=Z}return z(P.type,X,q)},Ye.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:r,_context:P},P},Ye.createElement=function(P,R,B){var q,X={},le=null;if(R!=null)for(q in R.key!==void 0&&(le=""+R.key),R)I.call(R,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(X[q]=R[q]);var Z=arguments.length-2;if(Z===1)X.children=B;else if(1<Z){for(var ce=Array(Z),pe=0;pe<Z;pe++)ce[pe]=arguments[pe+2];X.children=ce}if(P&&P.defaultProps)for(q in Z=P.defaultProps,Z)X[q]===void 0&&(X[q]=Z[q]);return z(P,le,X)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(P){return{$$typeof:d,render:P}},Ye.isValidElement=Y,Ye.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:H}},Ye.memo=function(P,R){return{$$typeof:p,type:P,compare:R===void 0?null:R}},Ye.startTransition=function(P){var R=O.T,B={};O.T=B;try{var q=P(),X=O.S;X!==null&&X(B,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(L,F)}catch(le){F(le)}finally{R!==null&&B.types!==null&&(R.types=B.types),O.T=R}},Ye.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ye.use=function(P){return O.H.use(P)},Ye.useActionState=function(P,R,B){return O.H.useActionState(P,R,B)},Ye.useCallback=function(P,R){return O.H.useCallback(P,R)},Ye.useContext=function(P){return O.H.useContext(P)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(P,R){return O.H.useDeferredValue(P,R)},Ye.useEffect=function(P,R){return O.H.useEffect(P,R)},Ye.useEffectEvent=function(P){return O.H.useEffectEvent(P)},Ye.useId=function(){return O.H.useId()},Ye.useImperativeHandle=function(P,R,B){return O.H.useImperativeHandle(P,R,B)},Ye.useInsertionEffect=function(P,R){return O.H.useInsertionEffect(P,R)},Ye.useLayoutEffect=function(P,R){return O.H.useLayoutEffect(P,R)},Ye.useMemo=function(P,R){return O.H.useMemo(P,R)},Ye.useOptimistic=function(P,R){return O.H.useOptimistic(P,R)},Ye.useReducer=function(P,R,B){return O.H.useReducer(P,R,B)},Ye.useRef=function(P){return O.H.useRef(P)},Ye.useState=function(P){return O.H.useState(P)},Ye.useSyncExternalStore=function(P,R,B){return O.H.useSyncExternalStore(P,R,B)},Ye.useTransition=function(){return O.H.useTransition()},Ye.version="19.2.3",Ye}var G0;function Fm(){return G0||(G0=1,Sp.exports=h_()),Sp.exports}var b=Fm();const me=Im(b),zm=c_({__proto__:null,default:me},[b]);var Ap={exports:{}},jl={},Cp={exports:{}},Ep={};var q0;function f_(){return q0||(q0=1,(function(i){function e(D,U){var H=D.length;D.push(U);e:for(;0<H;){var F=H-1>>>1,K=D[F];if(0<a(K,U))D[F]=U,D[H]=K,H=F;else break e}}function t(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var U=D[0],H=D.pop();if(H!==U){D[0]=H;e:for(var F=0,K=D.length,P=K>>>1;F<P;){var R=2*(F+1)-1,B=D[R],q=R+1,X=D[q];if(0>a(B,H))q<K&&0>a(X,B)?(D[F]=X,D[q]=H,F=q):(D[F]=B,D[R]=H,F=R);else if(q<K&&0>a(X,H))D[F]=X,D[q]=H,F=q;else break e}}return U}function a(D,U){var H=D.sortIndex-U.sortIndex;return H!==0?H:D.id-U.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var l=Date,d=l.now();i.unstable_now=function(){return l.now()-d}}var h=[],p=[],g=1,m=null,v=3,w=!1,A=!1,S=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function j(D){for(var U=t(p);U!==null;){if(U.callback===null)s(p);else if(U.startTime<=D)s(p),U.sortIndex=U.expirationTime,e(h,U);else break;U=t(p)}}function M(D){if(S=!1,j(D),!A)if(t(h)!==null)A=!0,L||(L=!0,se());else{var U=t(p);U!==null&&fe(M,U.startTime-D)}}var L=!1,O=-1,I=5,z=-1;function $(){return E?!0:!(i.unstable_now()-z<I)}function Y(){if(E=!1,L){var D=i.unstable_now();z=D;var U=!0;try{e:{A=!1,S&&(S=!1,_(O),O=-1),w=!0;var H=v;try{t:{for(j(D),m=t(h);m!==null&&!(m.expirationTime>D&&$());){var F=m.callback;if(typeof F=="function"){m.callback=null,v=m.priorityLevel;var K=F(m.expirationTime<=D);if(D=i.unstable_now(),typeof K=="function"){m.callback=K,j(D),U=!0;break t}m===t(h)&&s(h),j(D)}else s(h);m=t(h)}if(m!==null)U=!0;else{var P=t(p);P!==null&&fe(M,P.startTime-D),U=!1}}break e}finally{m=null,v=H,w=!1}U=void 0}}finally{U?se():L=!1}}}var se;if(typeof N=="function")se=function(){N(Y)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ae=re.port2;re.port1.onmessage=Y,se=function(){ae.postMessage(null)}}else se=function(){C(Y,0)};function fe(D,U){O=C(function(){D(i.unstable_now())},U)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(D){D.callback=null},i.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(D){switch(v){case 1:case 2:case 3:var U=3;break;default:U=v}var H=v;v=U;try{return D()}finally{v=H}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=v;v=D;try{return U()}finally{v=H}},i.unstable_scheduleCallback=function(D,U,H){var F=i.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?F+H:F):H=F,D){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=H+K,D={id:g++,callback:U,priorityLevel:D,startTime:H,expirationTime:K,sortIndex:-1},H>F?(D.sortIndex=H,e(p,D),t(h)===null&&D===t(p)&&(S?(_(O),O=-1):S=!0,fe(M,H-F))):(D.sortIndex=K,e(h,D),A||w||(A=!0,L||(L=!0,se()))),D},i.unstable_shouldYield=$,i.unstable_wrapCallback=function(D){var U=v;return function(){var H=v;v=U;try{return D.apply(this,arguments)}finally{v=H}}}})(Ep)),Ep}var Y0;function p_(){return Y0||(Y0=1,Cp.exports=f_()),Cp.exports}var Tp={exports:{}},_n={};var X0;function m_(){if(X0)return _n;X0=1;var i=Fm();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(h,p,g){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:h,containerInfo:p,implementation:g}}var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_n.createPortal=function(h,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return r(h,p,null,g)},_n.flushSync=function(h){var p=l.T,g=s.p;try{if(l.T=null,s.p=2,h)return h()}finally{l.T=p,s.p=g,s.d.f()}},_n.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(h,p))},_n.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},_n.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var g=p.as,m=d(g,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:w}):g==="script"&&s.d.X(h,{crossOrigin:m,integrity:v,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},_n.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);s.d.M(h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(h)},_n.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,m=d(g,p.crossOrigin);s.d.L(h,g,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},_n.preloadModule=function(h,p){if(typeof h=="string")if(p){var g=d(p.as,p.crossOrigin);s.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(h)},_n.requestFormReset=function(h){s.d.r(h)},_n.unstable_batchedUpdates=function(h,p){return h(p)},_n.useFormState=function(h,p,g){return l.H.useFormState(h,p,g)},_n.useFormStatus=function(){return l.H.useHostTransitionStatus()},_n.version="19.2.3",_n}var W0;function Ub(){if(W0)return Tp.exports;W0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tp.exports=m_(),Tp.exports}var K0;function g_(){if(K0)return jl;K0=1;var i=p_(),e=Fm(),t=Ub();function s(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function r(n){var o=n,c=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(c=o.return),n=o.return;while(n)}return o.tag===3?c:null}function l(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function d(n){if(n.tag===31){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function h(n){if(r(n)!==n)throw Error(s(188))}function p(n){var o=n.alternate;if(!o){if(o=r(n),o===null)throw Error(s(188));return o!==n?null:n}for(var c=n,f=o;;){var x=c.return;if(x===null)break;var y=x.alternate;if(y===null){if(f=x.return,f!==null){c=f;continue}break}if(x.child===y.child){for(y=x.child;y;){if(y===c)return h(x),n;if(y===f)return h(x),o;y=y.sibling}throw Error(s(188))}if(c.return!==f.return)c=x,f=y;else{for(var T=!1,k=x.child;k;){if(k===c){T=!0,c=x,f=y;break}if(k===f){T=!0,f=x,c=y;break}k=k.sibling}if(!T){for(k=y.child;k;){if(k===c){T=!0,c=y,f=x;break}if(k===f){T=!0,f=y,c=x;break}k=k.sibling}if(!T)throw Error(s(189))}}if(c.alternate!==f)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?n:o}function g(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=g(n),o!==null)return o;n=n.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function se(n){return n===null||typeof n!="object"?null:(n=Y&&n[Y]||n["@@iterator"],typeof n=="function"?n:null)}var re=Symbol.for("react.client.reference");function ae(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===re?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case L:return"SuspenseList";case z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case N:return n.displayName||"Context";case _:return(n._context.displayName||"Context")+".Consumer";case j:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return o=n.displayName||null,o!==null?o:ae(n.type)||"Memo";case I:o=n._payload,n=n._init;try{return ae(n(o))}catch{}}return null}var fe=Array.isArray,D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},F=[],K=-1;function P(n){return{current:n}}function R(n){0>K||(n.current=F[K],F[K]=null,K--)}function B(n,o){K++,F[K]=n.current,n.current=o}var q=P(null),X=P(null),le=P(null),Z=P(null);function ce(n,o){switch(B(le,o),B(X,n),B(q,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?c0(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=c0(o),n=d0(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}R(q),B(q,n)}function pe(){R(q),R(X),R(le)}function Ae(n){n.memoizedState!==null&&B(Z,n);var o=q.current,c=d0(o,n.type);o!==c&&(B(X,n),B(q,c))}function ve(n){X.current===n&&(R(q),R(X)),Z.current===n&&(R(Z),El._currentValue=H)}var _e,Oe;function ke(n){if(_e===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);_e=o&&o[1]||"",Oe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+n+Oe}var Q=!1;function Se(n,o){if(!n||Q)return"";Q=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(oe){var ne=oe}Reflect.construct(n,[],he)}else{try{he.call()}catch(oe){ne=oe}n.call(he.prototype)}}else{try{throw Error()}catch(oe){ne=oe}(he=n())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(oe){if(oe&&ne&&typeof oe.stack=="string")return[oe.stack,ne.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),T=y[0],k=y[1];if(T&&k){var V=T.split(`
`),ee=k.split(`
`);for(x=f=0;f<V.length&&!V[f].includes("DetermineComponentFrameRoot");)f++;for(;x<ee.length&&!ee[x].includes("DetermineComponentFrameRoot");)x++;if(f===V.length||x===ee.length)for(f=V.length-1,x=ee.length-1;1<=f&&0<=x&&V[f]!==ee[x];)x--;for(;1<=f&&0<=x;f--,x--)if(V[f]!==ee[x]){if(f!==1||x!==1)do if(f--,x--,0>x||V[f]!==ee[x]){var de=`
`+V[f].replace(" at new "," at ");return n.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",n.displayName)),de}while(1<=f&&0<=x);break}}}finally{Q=!1,Error.prepareStackTrace=c}return(c=n?n.displayName||n.name:"")?ke(c):""}function Le(n,o){switch(n.tag){case 26:case 27:case 5:return ke(n.type);case 16:return ke("Lazy");case 13:return n.child!==o&&o!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return Se(n.type,!1);case 11:return Se(n.type.render,!1);case 1:return Se(n.type,!0);case 31:return ke("Activity");default:return""}}function Je(n){try{var o="",c=null;do o+=Le(n,c),c=n,n=n.return;while(n);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var ct=Object.prototype.hasOwnProperty,mt=i.unstable_scheduleCallback,Bt=i.unstable_cancelCallback,gt=i.unstable_shouldYield,xe=i.unstable_requestPaint,te=i.unstable_now,Ne=i.unstable_getCurrentPriorityLevel,He=i.unstable_ImmediatePriority,dt=i.unstable_UserBlockingPriority,Ct=i.unstable_NormalPriority,Jt=i.unstable_LowPriority,Rt=i.unstable_IdlePriority,ls=i.log,cs=i.unstable_setDisableYieldValue,ho=null,mn=null;function Yn(n){if(typeof ls=="function"&&cs(n),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(ho,n)}catch{}}var rn=Math.clz32?Math.clz32:ds,Fr=Math.log,ja=Math.LN2;function ds(n){return n>>>=0,n===0?32:31-(Fr(n)/ja|0)|0}var qo=256,Yo=262144,fo=4194304;function us(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function $e(n,o,c){var f=n.pendingLanes;if(f===0)return 0;var x=0,y=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var k=f&134217727;return k!==0?(f=k&~y,f!==0?x=us(f):(T&=k,T!==0?x=us(T):c||(c=k&~n,c!==0&&(x=us(c))))):(k=f&~y,k!==0?x=us(k):T!==0?x=us(T):c||(c=f&~n,c!==0&&(x=us(c)))),x===0?0:o!==0&&o!==x&&(o&y)===0&&(y=x&-x,c=o&-o,y>=c||y===32&&(c&4194048)!==0)?o:x}function ge(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function Fe(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ue(){var n=fo;return fo<<=1,(fo&62914560)===0&&(fo=4194304),n}function xt(n){for(var o=[],c=0;31>c;c++)o.push(n);return o}function it(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Tn(n,o,c,f,x,y){var T=n.pendingLanes;n.pendingLanes=c,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=c,n.entangledLanes&=c,n.errorRecoveryDisabledLanes&=c,n.shellSuspendCounter=0;var k=n.entanglements,V=n.expirationTimes,ee=n.hiddenUpdates;for(c=T&~c;0<c;){var de=31-rn(c),he=1<<de;k[de]=0,V[de]=-1;var ne=ee[de];if(ne!==null)for(ee[de]=null,de=0;de<ne.length;de++){var oe=ne[de];oe!==null&&(oe.lane&=-536870913)}c&=~he}f!==0&&Us(n,f,0),y!==0&&x===0&&n.tag!==0&&(n.suspendedLanes|=y&~(T&~o))}function Us(n,o,c){n.pendingLanes|=o,n.suspendedLanes&=~o;var f=31-rn(o);n.entangledLanes|=o,n.entanglements[f]=n.entanglements[f]|1073741824|c&261930}function ln(n,o){var c=n.entangledLanes|=o;for(n=n.entanglements;c;){var f=31-rn(c),x=1<<f;x&o|n[f]&o&&(n[f]|=o),c&=~x}}function zt(n,o){var c=o&-o;return c=(c&42)!==0?1:_s(c),(c&(n.suspendedLanes|o))!==0?0:c}function _s(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ns(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ch(){var n=U.p;return n!==0?n:(n=window.event,n===void 0?32:R0(n.type))}function Wg(n,o){var c=U.p;try{return U.p=n,o()}finally{U.p=c}}var Xo=Math.random().toString(36).slice(2),gn="__reactFiber$"+Xo,Mn="__reactProps$"+Xo,fi="__reactContainer$"+Xo,dh="__reactEvents$"+Xo,ZC="__reactListeners$"+Xo,JC="__reactHandles$"+Xo,Kg="__reactResources$"+Xo,zr="__reactMarker$"+Xo;function uh(n){delete n[gn],delete n[Mn],delete n[dh],delete n[ZC],delete n[JC]}function pi(n){var o=n[gn];if(o)return o;for(var c=n.parentNode;c;){if(o=c[fi]||c[gn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(n=x0(n);n!==null;){if(c=n[gn])return c;n=x0(n)}return o}n=c,c=n.parentNode}return null}function mi(n){if(n=n[gn]||n[fi]){var o=n.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return n}return null}function Hr(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(s(33))}function gi(n){var o=n[Kg];return o||(o=n[Kg]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function cn(n){n[zr]=!0}var Qg=new Set,Zg={};function Da(n,o){xi(n,o),xi(n+"Capture",o)}function xi(n,o){for(Zg[n]=o,n=0;n<o.length;n++)Qg.add(o[n])}var eE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jg={},ex={};function tE(n){return ct.call(ex,n)?!0:ct.call(Jg,n)?!1:eE.test(n)?ex[n]=!0:(Jg[n]=!0,!1)}function xc(n,o,c){if(tE(o))if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+c)}}function vc(n,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+c)}}function po(n,o,c,f){if(f===null)n.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(c);return}n.setAttributeNS(o,c,""+f)}}function hs(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function tx(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function nE(n,o,c){var f=Object.getOwnPropertyDescriptor(n.constructor.prototype,o);if(!n.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,y=f.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return x.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(n,o,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function hh(n){if(!n._valueTracker){var o=tx(n)?"checked":"value";n._valueTracker=nE(n,o,""+n[o])}}function nx(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return n&&(f=tx(n)?n.checked?"true":"false":n.value),n=f,n!==c?(o.setValue(n),!0):!1}function yc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var sE=/[\n"\\]/g;function fs(n){return n.replace(sE,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function fh(n,o,c,f,x,y,T,k){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),o!=null?T==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+hs(o)):n.value!==""+hs(o)&&(n.value=""+hs(o)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),o!=null?ph(n,T,hs(o)):c!=null?ph(n,T,hs(c)):f!=null&&n.removeAttribute("value"),x==null&&y!=null&&(n.defaultChecked=!!y),x!=null&&(n.checked=x&&typeof x!="function"&&typeof x!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?n.name=""+hs(k):n.removeAttribute("name")}function sx(n,o,c,f,x,y,T,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),o!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){hh(n);return}c=c!=null?""+hs(c):"",o=o!=null?""+hs(o):c,k||o===n.value||(n.value=o),n.defaultValue=o}f=f??x,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=k?n.checked:!!f,n.defaultChecked=!!f,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),hh(n)}function ph(n,o,c){o==="number"&&yc(n.ownerDocument)===n||n.defaultValue===""+c||(n.defaultValue=""+c)}function vi(n,o,c,f){if(n=n.options,o){o={};for(var x=0;x<c.length;x++)o["$"+c[x]]=!0;for(c=0;c<n.length;c++)x=o.hasOwnProperty("$"+n[c].value),n[c].selected!==x&&(n[c].selected=x),x&&f&&(n[c].defaultSelected=!0)}else{for(c=""+hs(c),o=null,x=0;x<n.length;x++){if(n[x].value===c){n[x].selected=!0,f&&(n[x].defaultSelected=!0);return}o!==null||n[x].disabled||(o=n[x])}o!==null&&(o.selected=!0)}}function ox(n,o,c){if(o!=null&&(o=""+hs(o),o!==n.value&&(n.value=o),c==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=c!=null?""+hs(c):""}function ax(n,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(s(92));if(fe(f)){if(1<f.length)throw Error(s(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=hs(o),n.defaultValue=c,f=n.textContent,f===c&&f!==""&&f!==null&&(n.value=f),hh(n)}function yi(n,o){if(o){var c=n.firstChild;if(c&&c===n.lastChild&&c.nodeType===3){c.nodeValue=o;return}}n.textContent=o}var oE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ix(n,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":f?n.setProperty(o,c):typeof c!="number"||c===0||oE.has(o)?o==="float"?n.cssFloat=c:n[o]=(""+c).trim():n[o]=c+"px"}function rx(n,o,c){if(o!=null&&typeof o!="object")throw Error(s(62));if(n=n.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var x in o)f=o[x],o.hasOwnProperty(x)&&c[x]!==f&&ix(n,x,f)}else for(var y in o)o.hasOwnProperty(y)&&ix(n,y,o[y])}function mh(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bc(n){return iE.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function mo(){}var gh=null;function xh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var bi=null,wi=null;function lx(n){var o=mi(n);if(o&&(n=o.stateNode)){var c=n[Mn]||null;e:switch(n=o.stateNode,o.type){case"input":if(fh(n,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=n;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+fs(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==n&&f.form===n.form){var x=f[Mn]||null;if(!x)throw Error(s(90));fh(f,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===n.form&&nx(f)}break e;case"textarea":ox(n,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&vi(n,!!c.multiple,o,!1)}}}var vh=!1;function cx(n,o,c){if(vh)return n(o,c);vh=!0;try{var f=n(o);return f}finally{if(vh=!1,(bi!==null||wi!==null)&&(rd(),bi&&(o=bi,n=wi,wi=bi=null,lx(o),n)))for(o=0;o<n.length;o++)lx(n[o])}}function Ur(n,o){var c=n.stateNode;if(c===null)return null;var f=c[Mn]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(c&&typeof c!="function")throw Error(s(231,o,typeof c));return c}var go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yh=!1;if(go)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){yh=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{yh=!1}var Wo=null,bh=null,wc=null;function dx(){if(wc)return wc;var n,o=bh,c=o.length,f,x="value"in Wo?Wo.value:Wo.textContent,y=x.length;for(n=0;n<c&&o[n]===x[n];n++);var T=c-n;for(f=1;f<=T&&o[c-f]===x[y-f];f++);return wc=x.slice(n,1<f?1-f:void 0)}function Sc(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function Ac(){return!0}function ux(){return!1}function On(n){function o(c,f,x,y,T){this._reactName=c,this._targetInst=x,this.type=f,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(c=n[k],this[k]=c?c(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ac:ux,this.isPropagationStopped=ux,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ac)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ac)},persist:function(){},isPersistent:Ac}),o}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cc=On(ka),$r=m({},ka,{view:0,detail:0}),rE=On($r),wh,Sh,Gr,Ec=m({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ch,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gr&&(Gr&&n.type==="mousemove"?(wh=n.screenX-Gr.screenX,Sh=n.screenY-Gr.screenY):Sh=wh=0,Gr=n),wh)},movementY:function(n){return"movementY"in n?n.movementY:Sh}}),hx=On(Ec),lE=m({},Ec,{dataTransfer:0}),cE=On(lE),dE=m({},$r,{relatedTarget:0}),Ah=On(dE),uE=m({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),hE=On(uE),fE=m({},ka,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),pE=On(fE),mE=m({},ka,{data:0}),fx=On(mE),gE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yE(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=vE[n])?!!o[n]:!1}function Ch(){return yE}var bE=m({},$r,{key:function(n){if(n.key){var o=gE[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=Sc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xE[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ch,charCode:function(n){return n.type==="keypress"?Sc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Sc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wE=On(bE),SE=m({},Ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),px=On(SE),AE=m({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ch}),CE=On(AE),EE=m({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),TE=On(EE),_E=m({},Ec,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),NE=On(_E),PE=m({},ka,{newState:0,oldState:0}),jE=On(PE),DE=[9,13,27,32],Eh=go&&"CompositionEvent"in window,qr=null;go&&"documentMode"in document&&(qr=document.documentMode);var kE=go&&"TextEvent"in window&&!qr,mx=go&&(!Eh||qr&&8<qr&&11>=qr),gx=" ",xx=!1;function vx(n,o){switch(n){case"keyup":return DE.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yx(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Si=!1;function RE(n,o){switch(n){case"compositionend":return yx(o);case"keypress":return o.which!==32?null:(xx=!0,gx);case"textInput":return n=o.data,n===gx&&xx?null:n;default:return null}}function ME(n,o){if(Si)return n==="compositionend"||!Eh&&vx(n,o)?(n=dx(),wc=bh=Wo=null,Si=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return mx&&o.locale!=="ko"?null:o.data;default:return null}}var OE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bx(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!OE[n.type]:o==="textarea"}function wx(n,o,c,f){bi?wi?wi.push(f):wi=[f]:bi=f,o=pd(o,"onChange"),0<o.length&&(c=new Cc("onChange","change",null,c,f),n.push({event:c,listeners:o}))}var Yr=null,Xr=null;function LE(n){s0(n,0)}function Tc(n){var o=Hr(n);if(nx(o))return n}function Sx(n,o){if(n==="change")return o}var Ax=!1;if(go){var Th;if(go){var _h="oninput"in document;if(!_h){var Cx=document.createElement("div");Cx.setAttribute("oninput","return;"),_h=typeof Cx.oninput=="function"}Th=_h}else Th=!1;Ax=Th&&(!document.documentMode||9<document.documentMode)}function Ex(){Yr&&(Yr.detachEvent("onpropertychange",Tx),Xr=Yr=null)}function Tx(n){if(n.propertyName==="value"&&Tc(Xr)){var o=[];wx(o,Xr,n,xh(n)),cx(LE,o)}}function BE(n,o,c){n==="focusin"?(Ex(),Yr=o,Xr=c,Yr.attachEvent("onpropertychange",Tx)):n==="focusout"&&Ex()}function IE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Tc(Xr)}function FE(n,o){if(n==="click")return Tc(o)}function zE(n,o){if(n==="input"||n==="change")return Tc(o)}function HE(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Xn=typeof Object.is=="function"?Object.is:HE;function Wr(n,o){if(Xn(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var c=Object.keys(n),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var x=c[f];if(!ct.call(o,x)||!Xn(n[x],o[x]))return!1}return!0}function _x(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Nx(n,o){var c=_x(n);n=0;for(var f;c;){if(c.nodeType===3){if(f=n+c.textContent.length,n<=o&&f>=o)return{node:c,offset:o-n};n=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=_x(c)}}function Px(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Px(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function jx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=yc(n.document);o instanceof n.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)n=o.contentWindow;else break;o=yc(n.document)}return o}function Nh(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var UE=go&&"documentMode"in document&&11>=document.documentMode,Ai=null,Ph=null,Kr=null,jh=!1;function Dx(n,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;jh||Ai==null||Ai!==yc(f)||(f=Ai,"selectionStart"in f&&Nh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Kr&&Wr(Kr,f)||(Kr=f,f=pd(Ph,"onSelect"),0<f.length&&(o=new Cc("onSelect","select",null,o,c),n.push({event:o,listeners:f}),o.target=Ai)))}function Ra(n,o){var c={};return c[n.toLowerCase()]=o.toLowerCase(),c["Webkit"+n]="webkit"+o,c["Moz"+n]="moz"+o,c}var Ci={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},Dh={},kx={};go&&(kx=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Ma(n){if(Dh[n])return Dh[n];if(!Ci[n])return n;var o=Ci[n],c;for(c in o)if(o.hasOwnProperty(c)&&c in kx)return Dh[n]=o[c];return n}var Rx=Ma("animationend"),Mx=Ma("animationiteration"),Ox=Ma("animationstart"),VE=Ma("transitionrun"),$E=Ma("transitionstart"),GE=Ma("transitioncancel"),Lx=Ma("transitionend"),Bx=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function Ps(n,o){Bx.set(n,o),Da(o,[n])}var _c=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ps=[],Ei=0,Rh=0;function Nc(){for(var n=Ei,o=Rh=Ei=0;o<n;){var c=ps[o];ps[o++]=null;var f=ps[o];ps[o++]=null;var x=ps[o];ps[o++]=null;var y=ps[o];if(ps[o++]=null,f!==null&&x!==null){var T=f.pending;T===null?x.next=x:(x.next=T.next,T.next=x),f.pending=x}y!==0&&Ix(c,x,y)}}function Pc(n,o,c,f){ps[Ei++]=n,ps[Ei++]=o,ps[Ei++]=c,ps[Ei++]=f,Rh|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function Mh(n,o,c,f){return Pc(n,o,c,f),jc(n)}function Oa(n,o){return Pc(n,null,null,o),jc(n)}function Ix(n,o,c){n.lanes|=c;var f=n.alternate;f!==null&&(f.lanes|=c);for(var x=!1,y=n.return;y!==null;)y.childLanes|=c,f=y.alternate,f!==null&&(f.childLanes|=c),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(x=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,x&&o!==null&&(x=31-rn(c),n=y.hiddenUpdates,f=n[x],f===null?n[x]=[o]:f.push(o),o.lane=c|536870912),y):null}function jc(n){if(50<vl)throw vl=0,$f=null,Error(s(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var Ti={};function qE(n,o,c,f){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(n,o,c,f){return new qE(n,o,c,f)}function Oh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function xo(n,o){var c=n.alternate;return c===null?(c=Wn(n.tag,o,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=o,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&65011712,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,o=n.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c.refCleanup=n.refCleanup,c}function Fx(n,o){n.flags&=65011714;var c=n.alternate;return c===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=c.childLanes,n.lanes=c.lanes,n.child=c.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,n.type=c.type,o=c.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function Dc(n,o,c,f,x,y){var T=0;if(f=n,typeof n=="function")Oh(n)&&(T=1);else if(typeof n=="string")T=QT(n,c,q.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case z:return n=Wn(31,c,o,x),n.elementType=z,n.lanes=y,n;case S:return La(c.children,x,y,o);case E:T=8,x|=24;break;case C:return n=Wn(12,c,o,x|2),n.elementType=C,n.lanes=y,n;case M:return n=Wn(13,c,o,x),n.elementType=M,n.lanes=y,n;case L:return n=Wn(19,c,o,x),n.elementType=L,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:T=10;break e;case _:T=9;break e;case j:T=11;break e;case O:T=14;break e;case I:T=16,f=null;break e}T=29,c=Error(s(130,n===null?"null":typeof n,"")),f=null}return o=Wn(T,c,o,x),o.elementType=n,o.type=f,o.lanes=y,o}function La(n,o,c,f){return n=Wn(7,n,f,o),n.lanes=c,n}function Lh(n,o,c){return n=Wn(6,n,null,o),n.lanes=c,n}function zx(n){var o=Wn(18,null,null,0);return o.stateNode=n,o}function Bh(n,o,c){return o=Wn(4,n.children!==null?n.children:[],n.key,o),o.lanes=c,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var Hx=new WeakMap;function ms(n,o){if(typeof n=="object"&&n!==null){var c=Hx.get(n);return c!==void 0?c:(o={value:n,source:o,stack:Je(o)},Hx.set(n,o),o)}return{value:n,source:o,stack:Je(o)}}var _i=[],Ni=0,kc=null,Qr=0,gs=[],xs=0,Ko=null,Vs=1,$s="";function vo(n,o){_i[Ni++]=Qr,_i[Ni++]=kc,kc=n,Qr=o}function Ux(n,o,c){gs[xs++]=Vs,gs[xs++]=$s,gs[xs++]=Ko,Ko=n;var f=Vs;n=$s;var x=32-rn(f)-1;f&=~(1<<x),c+=1;var y=32-rn(o)+x;if(30<y){var T=x-x%5;y=(f&(1<<T)-1).toString(32),f>>=T,x-=T,Vs=1<<32-rn(o)+x|c<<x|f,$s=y+n}else Vs=1<<y|c<<x|f,$s=n}function Ih(n){n.return!==null&&(vo(n,1),Ux(n,1,0))}function Fh(n){for(;n===kc;)kc=_i[--Ni],_i[Ni]=null,Qr=_i[--Ni],_i[Ni]=null;for(;n===Ko;)Ko=gs[--xs],gs[xs]=null,$s=gs[--xs],gs[xs]=null,Vs=gs[--xs],gs[xs]=null}function Vx(n,o){gs[xs++]=Vs,gs[xs++]=$s,gs[xs++]=Ko,Vs=o.id,$s=o.overflow,Ko=n}var xn=null,Nt=null,rt=!1,Qo=null,vs=!1,zh=Error(s(519));function Zo(n){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zr(ms(o,n)),zh}function $x(n){var o=n.stateNode,c=n.type,f=n.memoizedProps;switch(o[gn]=n,o[Mn]=f,c){case"dialog":nt("cancel",o),nt("close",o);break;case"iframe":case"object":case"embed":nt("load",o);break;case"video":case"audio":for(c=0;c<bl.length;c++)nt(bl[c],o);break;case"source":nt("error",o);break;case"img":case"image":case"link":nt("error",o),nt("load",o);break;case"details":nt("toggle",o);break;case"input":nt("invalid",o),sx(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":nt("invalid",o);break;case"textarea":nt("invalid",o),ax(o,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||r0(o.textContent,c)?(f.popover!=null&&(nt("beforetoggle",o),nt("toggle",o)),f.onScroll!=null&&nt("scroll",o),f.onScrollEnd!=null&&nt("scrollend",o),f.onClick!=null&&(o.onclick=mo),o=!0):o=!1,o||Zo(n,!0)}function Gx(n){for(xn=n.return;xn;)switch(xn.tag){case 5:case 31:case 13:vs=!1;return;case 27:case 3:vs=!0;return;default:xn=xn.return}}function Pi(n){if(n!==xn)return!1;if(!rt)return Gx(n),rt=!0,!1;var o=n.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=n.type,c=!(c!=="form"&&c!=="button")||ap(n.type,n.memoizedProps)),c=!c),c&&Nt&&Zo(n),Gx(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Nt=g0(n)}else if(o===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Nt=g0(n)}else o===27?(o=Nt,ha(n.type)?(n=dp,dp=null,Nt=n):Nt=o):Nt=xn?bs(n.stateNode.nextSibling):null;return!0}function Ba(){Nt=xn=null,rt=!1}function Hh(){var n=Qo;return n!==null&&(Fn===null?Fn=n:Fn.push.apply(Fn,n),Qo=null),n}function Zr(n){Qo===null?Qo=[n]:Qo.push(n)}var Uh=P(null),Ia=null,yo=null;function Jo(n,o,c){B(Uh,o._currentValue),o._currentValue=c}function bo(n){n._currentValue=Uh.current,R(Uh)}function Vh(n,o,c){for(;n!==null;){var f=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),n===c)break;n=n.return}}function $h(n,o,c,f){var x=n.child;for(x!==null&&(x.return=n);x!==null;){var y=x.dependencies;if(y!==null){var T=x.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=x;for(var V=0;V<o.length;V++)if(k.context===o[V]){y.lanes|=c,k=y.alternate,k!==null&&(k.lanes|=c),Vh(y.return,c,n),f||(T=null);break e}y=k.next}}else if(x.tag===18){if(T=x.return,T===null)throw Error(s(341));T.lanes|=c,y=T.alternate,y!==null&&(y.lanes|=c),Vh(T,c,n),T=null}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===n){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}}function ji(n,o,c,f){n=null;for(var x=o,y=!1;x!==null;){if(!y){if((x.flags&524288)!==0)y=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var T=x.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var k=x.type;Xn(x.pendingProps.value,T.value)||(n!==null?n.push(k):n=[k])}}else if(x===Z.current){if(T=x.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(n!==null?n.push(El):n=[El])}x=x.return}n!==null&&$h(o,n,c,f),o.flags|=262144}function Rc(n){for(n=n.firstContext;n!==null;){if(!Xn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Fa(n){Ia=n,yo=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function vn(n){return qx(Ia,n)}function Mc(n,o){return Ia===null&&Fa(n),qx(n,o)}function qx(n,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},yo===null){if(n===null)throw Error(s(308));yo=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else yo=yo.next=o;return c}var YE=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(c,f){n.push(f)}};this.abort=function(){o.aborted=!0,n.forEach(function(c){return c()})}},XE=i.unstable_scheduleCallback,WE=i.unstable_NormalPriority,Xt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new YE,data:new Map,refCount:0}}function Jr(n){n.refCount--,n.refCount===0&&XE(WE,function(){n.controller.abort()})}var el=null,qh=0,Di=0,ki=null;function KE(n,o){if(el===null){var c=el=[];qh=0,Di=Kf(),ki={status:"pending",value:void 0,then:function(f){c.push(f)}}}return qh++,o.then(Yx,Yx),o}function Yx(){if(--qh===0&&el!==null){ki!==null&&(ki.status="fulfilled");var n=el;el=null,Di=0,ki=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function QE(n,o){var c=[],f={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return n.then(function(){f.status="fulfilled",f.value=o;for(var x=0;x<c.length;x++)(0,c[x])(o)},function(x){for(f.status="rejected",f.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),f}var Xx=D.S;D.S=function(n,o){Dy=te(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&KE(n,o),Xx!==null&&Xx(n,o)};var za=P(null);function Yh(){var n=za.current;return n!==null?n:Et.pooledCache}function Oc(n,o){o===null?B(za,za.current):B(za,o.pool)}function Wx(){var n=Yh();return n===null?null:{parent:Xt._currentValue,pool:n}}var Ri=Error(s(460)),Xh=Error(s(474)),Lc=Error(s(542)),Bc={then:function(){}};function Kx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Qx(n,o,c){switch(c=n[c],c===void 0?n.push(o):c!==o&&(o.then(mo,mo),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Jx(n),n;default:if(typeof o.status=="string")o.then(mo,mo);else{if(n=Et,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=o,n.status="pending",n.then(function(f){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=f}},function(f){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Jx(n),n}throw Ua=o,Ri}}function Ha(n){try{var o=n._init;return o(n._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ua=c,Ri):c}}var Ua=null;function Zx(){if(Ua===null)throw Error(s(459));var n=Ua;return Ua=null,n}function Jx(n){if(n===Ri||n===Lc)throw Error(s(483))}var Mi=null,tl=0;function Ic(n){var o=tl;return tl+=1,Mi===null&&(Mi=[]),Qx(Mi,n,o)}function nl(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function Fc(n,o){throw o.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(o),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function ev(n){function o(W,G){if(n){var J=W.deletions;J===null?(W.deletions=[G],W.flags|=16):J.push(G)}}function c(W,G){if(!n)return null;for(;G!==null;)o(W,G),G=G.sibling;return null}function f(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function x(W,G){return W=xo(W,G),W.index=0,W.sibling=null,W}function y(W,G,J){return W.index=J,n?(J=W.alternate,J!==null?(J=J.index,J<G?(W.flags|=67108866,G):J):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function T(W){return n&&W.alternate===null&&(W.flags|=67108866),W}function k(W,G,J,ue){return G===null||G.tag!==6?(G=Lh(J,W.mode,ue),G.return=W,G):(G=x(G,J),G.return=W,G)}function V(W,G,J,ue){var Re=J.type;return Re===S?de(W,G,J.props.children,ue,J.key):G!==null&&(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===I&&Ha(Re)===G.type)?(G=x(G,J.props),nl(G,J),G.return=W,G):(G=Dc(J.type,J.key,J.props,null,W.mode,ue),nl(G,J),G.return=W,G)}function ee(W,G,J,ue){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=Bh(J,W.mode,ue),G.return=W,G):(G=x(G,J.children||[]),G.return=W,G)}function de(W,G,J,ue,Re){return G===null||G.tag!==7?(G=La(J,W.mode,ue,Re),G.return=W,G):(G=x(G,J),G.return=W,G)}function he(W,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Lh(""+G,W.mode,J),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return J=Dc(G.type,G.key,G.props,null,W.mode,J),nl(J,G),J.return=W,J;case A:return G=Bh(G,W.mode,J),G.return=W,G;case I:return G=Ha(G),he(W,G,J)}if(fe(G)||se(G))return G=La(G,W.mode,J,null),G.return=W,G;if(typeof G.then=="function")return he(W,Ic(G),J);if(G.$$typeof===N)return he(W,Mc(W,G),J);Fc(W,G)}return null}function ne(W,G,J,ue){var Re=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Re!==null?null:k(W,G,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return J.key===Re?V(W,G,J,ue):null;case A:return J.key===Re?ee(W,G,J,ue):null;case I:return J=Ha(J),ne(W,G,J,ue)}if(fe(J)||se(J))return Re!==null?null:de(W,G,J,ue,null);if(typeof J.then=="function")return ne(W,G,Ic(J),ue);if(J.$$typeof===N)return ne(W,G,Mc(W,J),ue);Fc(W,J)}return null}function oe(W,G,J,ue,Re){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return W=W.get(J)||null,k(G,W,""+ue,Re);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return W=W.get(ue.key===null?J:ue.key)||null,V(G,W,ue,Re);case A:return W=W.get(ue.key===null?J:ue.key)||null,ee(G,W,ue,Re);case I:return ue=Ha(ue),oe(W,G,J,ue,Re)}if(fe(ue)||se(ue))return W=W.get(J)||null,de(G,W,ue,Re,null);if(typeof ue.then=="function")return oe(W,G,J,Ic(ue),Re);if(ue.$$typeof===N)return oe(W,G,J,Mc(G,ue),Re);Fc(G,ue)}return null}function Te(W,G,J,ue){for(var Re=null,ut=null,De=G,Qe=G=0,ot=null;De!==null&&Qe<J.length;Qe++){De.index>Qe?(ot=De,De=null):ot=De.sibling;var ht=ne(W,De,J[Qe],ue);if(ht===null){De===null&&(De=ot);break}n&&De&&ht.alternate===null&&o(W,De),G=y(ht,G,Qe),ut===null?Re=ht:ut.sibling=ht,ut=ht,De=ot}if(Qe===J.length)return c(W,De),rt&&vo(W,Qe),Re;if(De===null){for(;Qe<J.length;Qe++)De=he(W,J[Qe],ue),De!==null&&(G=y(De,G,Qe),ut===null?Re=De:ut.sibling=De,ut=De);return rt&&vo(W,Qe),Re}for(De=f(De);Qe<J.length;Qe++)ot=oe(De,W,Qe,J[Qe],ue),ot!==null&&(n&&ot.alternate!==null&&De.delete(ot.key===null?Qe:ot.key),G=y(ot,G,Qe),ut===null?Re=ot:ut.sibling=ot,ut=ot);return n&&De.forEach(function(xa){return o(W,xa)}),rt&&vo(W,Qe),Re}function ze(W,G,J,ue){if(J==null)throw Error(s(151));for(var Re=null,ut=null,De=G,Qe=G=0,ot=null,ht=J.next();De!==null&&!ht.done;Qe++,ht=J.next()){De.index>Qe?(ot=De,De=null):ot=De.sibling;var xa=ne(W,De,ht.value,ue);if(xa===null){De===null&&(De=ot);break}n&&De&&xa.alternate===null&&o(W,De),G=y(xa,G,Qe),ut===null?Re=xa:ut.sibling=xa,ut=xa,De=ot}if(ht.done)return c(W,De),rt&&vo(W,Qe),Re;if(De===null){for(;!ht.done;Qe++,ht=J.next())ht=he(W,ht.value,ue),ht!==null&&(G=y(ht,G,Qe),ut===null?Re=ht:ut.sibling=ht,ut=ht);return rt&&vo(W,Qe),Re}for(De=f(De);!ht.done;Qe++,ht=J.next())ht=oe(De,W,Qe,ht.value,ue),ht!==null&&(n&&ht.alternate!==null&&De.delete(ht.key===null?Qe:ht.key),G=y(ht,G,Qe),ut===null?Re=ht:ut.sibling=ht,ut=ht);return n&&De.forEach(function(l_){return o(W,l_)}),rt&&vo(W,Qe),Re}function St(W,G,J,ue){if(typeof J=="object"&&J!==null&&J.type===S&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case w:e:{for(var Re=J.key;G!==null;){if(G.key===Re){if(Re=J.type,Re===S){if(G.tag===7){c(W,G.sibling),ue=x(G,J.props.children),ue.return=W,W=ue;break e}}else if(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===I&&Ha(Re)===G.type){c(W,G.sibling),ue=x(G,J.props),nl(ue,J),ue.return=W,W=ue;break e}c(W,G);break}else o(W,G);G=G.sibling}J.type===S?(ue=La(J.props.children,W.mode,ue,J.key),ue.return=W,W=ue):(ue=Dc(J.type,J.key,J.props,null,W.mode,ue),nl(ue,J),ue.return=W,W=ue)}return T(W);case A:e:{for(Re=J.key;G!==null;){if(G.key===Re)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){c(W,G.sibling),ue=x(G,J.children||[]),ue.return=W,W=ue;break e}else{c(W,G);break}else o(W,G);G=G.sibling}ue=Bh(J,W.mode,ue),ue.return=W,W=ue}return T(W);case I:return J=Ha(J),St(W,G,J,ue)}if(fe(J))return Te(W,G,J,ue);if(se(J)){if(Re=se(J),typeof Re!="function")throw Error(s(150));return J=Re.call(J),ze(W,G,J,ue)}if(typeof J.then=="function")return St(W,G,Ic(J),ue);if(J.$$typeof===N)return St(W,G,Mc(W,J),ue);Fc(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(c(W,G.sibling),ue=x(G,J),ue.return=W,W=ue):(c(W,G),ue=Lh(J,W.mode,ue),ue.return=W,W=ue),T(W)):c(W,G)}return function(W,G,J,ue){try{tl=0;var Re=St(W,G,J,ue);return Mi=null,Re}catch(De){if(De===Ri||De===Lc)throw De;var ut=Wn(29,De,null,W.mode);return ut.lanes=ue,ut.return=W,ut}}}var Va=ev(!0),tv=ev(!1),ea=!1;function Wh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kh(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ta(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function na(n,o,c){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(pt&2)!==0){var x=f.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),f.pending=o,o=jc(n),Ix(n,null,c),o}return Pc(n,f,o,c),jc(n)}function sl(n,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=n.pendingLanes,c|=f,o.lanes=c,ln(n,c)}}function Qh(n,o){var c=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var x=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?x=y=T:y=y.next=T,c=c.next}while(c!==null);y===null?x=y=o:y=y.next=o}else x=y=o;c={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=o:n.next=o,c.lastBaseUpdate=o}var Zh=!1;function ol(){if(Zh){var n=ki;if(n!==null)throw n}}function al(n,o,c,f){Zh=!1;var x=n.updateQueue;ea=!1;var y=x.firstBaseUpdate,T=x.lastBaseUpdate,k=x.shared.pending;if(k!==null){x.shared.pending=null;var V=k,ee=V.next;V.next=null,T===null?y=ee:T.next=ee,T=V;var de=n.alternate;de!==null&&(de=de.updateQueue,k=de.lastBaseUpdate,k!==T&&(k===null?de.firstBaseUpdate=ee:k.next=ee,de.lastBaseUpdate=V))}if(y!==null){var he=x.baseState;T=0,de=ee=V=null,k=y;do{var ne=k.lane&-536870913,oe=ne!==k.lane;if(oe?(st&ne)===ne:(f&ne)===ne){ne!==0&&ne===Di&&(Zh=!0),de!==null&&(de=de.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Te=n,ze=k;ne=o;var St=c;switch(ze.tag){case 1:if(Te=ze.payload,typeof Te=="function"){he=Te.call(St,he,ne);break e}he=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ze.payload,ne=typeof Te=="function"?Te.call(St,he,ne):Te,ne==null)break e;he=m({},he,ne);break e;case 2:ea=!0}}ne=k.callback,ne!==null&&(n.flags|=64,oe&&(n.flags|=8192),oe=x.callbacks,oe===null?x.callbacks=[ne]:oe.push(ne))}else oe={lane:ne,tag:k.tag,payload:k.payload,callback:k.callback,next:null},de===null?(ee=de=oe,V=he):de=de.next=oe,T|=ne;if(k=k.next,k===null){if(k=x.shared.pending,k===null)break;oe=k,k=oe.next,oe.next=null,x.lastBaseUpdate=oe,x.shared.pending=null}}while(!0);de===null&&(V=he),x.baseState=V,x.firstBaseUpdate=ee,x.lastBaseUpdate=de,y===null&&(x.shared.lanes=0),ra|=T,n.lanes=T,n.memoizedState=he}}function nv(n,o){if(typeof n!="function")throw Error(s(191,n));n.call(o)}function sv(n,o){var c=n.callbacks;if(c!==null)for(n.callbacks=null,n=0;n<c.length;n++)nv(c[n],o)}var Oi=P(null),zc=P(0);function ov(n,o){n=Po,B(zc,n),B(Oi,o),Po=n|o.baseLanes}function Jh(){B(zc,Po),B(Oi,Oi.current)}function ef(){Po=zc.current,R(Oi),R(zc)}var Kn=P(null),ys=null;function sa(n){var o=n.alternate;B(Ht,Ht.current&1),B(Kn,n),ys===null&&(o===null||Oi.current!==null||o.memoizedState!==null)&&(ys=n)}function tf(n){B(Ht,Ht.current),B(Kn,n),ys===null&&(ys=n)}function av(n){n.tag===22?(B(Ht,Ht.current),B(Kn,n),ys===null&&(ys=n)):oa()}function oa(){B(Ht,Ht.current),B(Kn,Kn.current)}function Qn(n){R(Kn),ys===n&&(ys=null),R(Ht)}var Ht=P(0);function Hc(n){for(var o=n;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||lp(c)||cp(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var wo=0,Ke=null,bt=null,Wt=null,Uc=!1,Li=!1,$a=!1,Vc=0,il=0,Bi=null,ZE=0;function It(){throw Error(s(321))}function nf(n,o){if(o===null)return!1;for(var c=0;c<o.length&&c<n.length;c++)if(!Xn(n[c],o[c]))return!1;return!0}function sf(n,o,c,f,x,y){return wo=y,Ke=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,D.H=n===null||n.memoizedState===null?Uv:yf,$a=!1,y=c(f,x),$a=!1,Li&&(y=rv(o,c,f,x)),iv(n),y}function iv(n){D.H=cl;var o=bt!==null&&bt.next!==null;if(wo=0,Wt=bt=Ke=null,Uc=!1,il=0,Bi=null,o)throw Error(s(300));n===null||Kt||(n=n.dependencies,n!==null&&Rc(n)&&(Kt=!0))}function rv(n,o,c,f){Ke=n;var x=0;do{if(Li&&(Bi=null),il=0,Li=!1,25<=x)throw Error(s(301));if(x+=1,Wt=bt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}D.H=Vv,y=o(c,f)}while(Li);return y}function JE(){var n=D.H,o=n.useState()[0];return o=typeof o.then=="function"?rl(o):o,n=n.useState()[0],(bt!==null?bt.memoizedState:null)!==n&&(Ke.flags|=1024),o}function of(){var n=Vc!==0;return Vc=0,n}function af(n,o,c){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~c}function rf(n){if(Uc){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Uc=!1}wo=0,Wt=bt=Ke=null,Li=!1,il=Vc=0,Bi=null}function jn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Ke.memoizedState=Wt=n:Wt=Wt.next=n,Wt}function Ut(){if(bt===null){var n=Ke.alternate;n=n!==null?n.memoizedState:null}else n=bt.next;var o=Wt===null?Ke.memoizedState:Wt.next;if(o!==null)Wt=o,bt=n;else{if(n===null)throw Ke.alternate===null?Error(s(467)):Error(s(310));bt=n,n={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Wt===null?Ke.memoizedState=Wt=n:Wt=Wt.next=n}return Wt}function $c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(n){var o=il;return il+=1,Bi===null&&(Bi=[]),n=Qx(Bi,n,o),o=Ke,(Wt===null?o.memoizedState:Wt.next)===null&&(o=o.alternate,D.H=o===null||o.memoizedState===null?Uv:yf),n}function Gc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return rl(n);if(n.$$typeof===N)return vn(n)}throw Error(s(438,String(n)))}function lf(n){var o=null,c=Ke.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=Ke.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=$c(),Ke.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(n),f=0;f<n;f++)c[f]=$;return o.index++,c}function So(n,o){return typeof o=="function"?o(n):o}function qc(n){var o=Ut();return cf(o,bt,n)}function cf(n,o,c){var f=n.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=c;var x=n.baseQueue,y=f.pending;if(y!==null){if(x!==null){var T=x.next;x.next=y.next,y.next=T}o.baseQueue=x=y,f.pending=null}if(y=n.baseState,x===null)n.memoizedState=y;else{o=x.next;var k=T=null,V=null,ee=o,de=!1;do{var he=ee.lane&-536870913;if(he!==ee.lane?(st&he)===he:(wo&he)===he){var ne=ee.revertLane;if(ne===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),he===Di&&(de=!0);else if((wo&ne)===ne){ee=ee.next,ne===Di&&(de=!0);continue}else he={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},V===null?(k=V=he,T=y):V=V.next=he,Ke.lanes|=ne,ra|=ne;he=ee.action,$a&&c(y,he),y=ee.hasEagerState?ee.eagerState:c(y,he)}else ne={lane:he,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},V===null?(k=V=ne,T=y):V=V.next=ne,Ke.lanes|=he,ra|=he;ee=ee.next}while(ee!==null&&ee!==o);if(V===null?T=y:V.next=k,!Xn(y,n.memoizedState)&&(Kt=!0,de&&(c=ki,c!==null)))throw c;n.memoizedState=y,n.baseState=T,n.baseQueue=V,f.lastRenderedState=y}return x===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function df(n){var o=Ut(),c=o.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=n;var f=c.dispatch,x=c.pending,y=o.memoizedState;if(x!==null){c.pending=null;var T=x=x.next;do y=n(y,T.action),T=T.next;while(T!==x);Xn(y,o.memoizedState)||(Kt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),c.lastRenderedState=y}return[y,f]}function lv(n,o,c){var f=Ke,x=Ut(),y=rt;if(y){if(c===void 0)throw Error(s(407));c=c()}else c=o();var T=!Xn((bt||x).memoizedState,c);if(T&&(x.memoizedState=c,Kt=!0),x=x.queue,ff(uv.bind(null,f,x,n),[n]),x.getSnapshot!==o||T||Wt!==null&&Wt.memoizedState.tag&1){if(f.flags|=2048,Ii(9,{destroy:void 0},dv.bind(null,f,x,c,o),null),Et===null)throw Error(s(349));y||(wo&127)!==0||cv(f,o,c)}return c}function cv(n,o,c){n.flags|=16384,n={getSnapshot:o,value:c},o=Ke.updateQueue,o===null?(o=$c(),Ke.updateQueue=o,o.stores=[n]):(c=o.stores,c===null?o.stores=[n]:c.push(n))}function dv(n,o,c,f){o.value=c,o.getSnapshot=f,hv(o)&&fv(n)}function uv(n,o,c){return c(function(){hv(o)&&fv(n)})}function hv(n){var o=n.getSnapshot;n=n.value;try{var c=o();return!Xn(n,c)}catch{return!0}}function fv(n){var o=Oa(n,2);o!==null&&zn(o,n,2)}function uf(n){var o=jn();if(typeof n=="function"){var c=n;if(n=c(),$a){Yn(!0);try{c()}finally{Yn(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:n},o}function pv(n,o,c,f){return n.baseState=c,cf(n,bt,typeof f=="function"?f:So)}function eT(n,o,c,f,x){if(Wc(n))throw Error(s(485));if(n=o.action,n!==null){var y={payload:x,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};D.T!==null?c(!0):y.isTransition=!1,f(y),c=o.pending,c===null?(y.next=o.pending=y,mv(o,y)):(y.next=c.next,o.pending=c.next=y)}}function mv(n,o){var c=o.action,f=o.payload,x=n.state;if(o.isTransition){var y=D.T,T={};D.T=T;try{var k=c(x,f),V=D.S;V!==null&&V(T,k),gv(n,o,k)}catch(ee){hf(n,o,ee)}finally{y!==null&&T.types!==null&&(y.types=T.types),D.T=y}}else try{y=c(x,f),gv(n,o,y)}catch(ee){hf(n,o,ee)}}function gv(n,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){xv(n,o,f)},function(f){return hf(n,o,f)}):xv(n,o,c)}function xv(n,o,c){o.status="fulfilled",o.value=c,vv(o),n.state=c,o=n.pending,o!==null&&(c=o.next,c===o?n.pending=null:(c=c.next,o.next=c,mv(n,c)))}function hf(n,o,c){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,vv(o),o=o.next;while(o!==f)}n.action=null}function vv(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function yv(n,o){return o}function bv(n,o){if(rt){var c=Et.formState;if(c!==null){e:{var f=Ke;if(rt){if(Nt){t:{for(var x=Nt,y=vs;x.nodeType!==8;){if(!y){x=null;break t}if(x=bs(x.nextSibling),x===null){x=null;break t}}y=x.data,x=y==="F!"||y==="F"?x:null}if(x){Nt=bs(x.nextSibling),f=x.data==="F!";break e}}Zo(f)}f=!1}f&&(o=c[0])}}return c=jn(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yv,lastRenderedState:o},c.queue=f,c=Fv.bind(null,Ke,f),f.dispatch=c,f=uf(!1),y=vf.bind(null,Ke,!1,f.queue),f=jn(),x={state:o,dispatch:null,action:n,pending:null},f.queue=x,c=eT.bind(null,Ke,x,y,c),x.dispatch=c,f.memoizedState=n,[o,c,!1]}function wv(n){var o=Ut();return Sv(o,bt,n)}function Sv(n,o,c){if(o=cf(n,o,yv)[0],n=qc(So)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=rl(o)}catch(T){throw T===Ri?Lc:T}else f=o;o=Ut();var x=o.queue,y=x.dispatch;return c!==o.memoizedState&&(Ke.flags|=2048,Ii(9,{destroy:void 0},tT.bind(null,x,c),null)),[f,y,n]}function tT(n,o){n.action=o}function Av(n){var o=Ut(),c=bt;if(c!==null)return Sv(o,c,n);Ut(),o=o.memoizedState,c=Ut();var f=c.queue.dispatch;return c.memoizedState=n,[o,f,!1]}function Ii(n,o,c,f){return n={tag:n,create:c,deps:f,inst:o,next:null},o=Ke.updateQueue,o===null&&(o=$c(),Ke.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=n.next=n:(f=c.next,c.next=n,n.next=f,o.lastEffect=n),n}function Cv(){return Ut().memoizedState}function Yc(n,o,c,f){var x=jn();Ke.flags|=n,x.memoizedState=Ii(1|o,{destroy:void 0},c,f===void 0?null:f)}function Xc(n,o,c,f){var x=Ut();f=f===void 0?null:f;var y=x.memoizedState.inst;bt!==null&&f!==null&&nf(f,bt.memoizedState.deps)?x.memoizedState=Ii(o,y,c,f):(Ke.flags|=n,x.memoizedState=Ii(1|o,y,c,f))}function Ev(n,o){Yc(8390656,8,n,o)}function ff(n,o){Xc(2048,8,n,o)}function nT(n){Ke.flags|=4;var o=Ke.updateQueue;if(o===null)o=$c(),Ke.updateQueue=o,o.events=[n];else{var c=o.events;c===null?o.events=[n]:c.push(n)}}function Tv(n){var o=Ut().memoizedState;return nT({ref:o,nextImpl:n}),function(){if((pt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function _v(n,o){return Xc(4,2,n,o)}function Nv(n,o){return Xc(4,4,n,o)}function Pv(n,o){if(typeof o=="function"){n=n();var c=o(n);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function jv(n,o,c){c=c!=null?c.concat([n]):null,Xc(4,4,Pv.bind(null,o,n),c)}function pf(){}function Dv(n,o){var c=Ut();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&nf(o,f[1])?f[0]:(c.memoizedState=[n,o],n)}function kv(n,o){var c=Ut();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&nf(o,f[1]))return f[0];if(f=n(),$a){Yn(!0);try{n()}finally{Yn(!1)}}return c.memoizedState=[f,o],f}function mf(n,o,c){return c===void 0||(wo&1073741824)!==0&&(st&261930)===0?n.memoizedState=o:(n.memoizedState=c,n=Ry(),Ke.lanes|=n,ra|=n,c)}function Rv(n,o,c,f){return Xn(c,o)?c:Oi.current!==null?(n=mf(n,c,f),Xn(n,o)||(Kt=!0),n):(wo&42)===0||(wo&1073741824)!==0&&(st&261930)===0?(Kt=!0,n.memoizedState=c):(n=Ry(),Ke.lanes|=n,ra|=n,o)}function Mv(n,o,c,f,x){var y=U.p;U.p=y!==0&&8>y?y:8;var T=D.T,k={};D.T=k,vf(n,!1,o,c);try{var V=x(),ee=D.S;if(ee!==null&&ee(k,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var de=QE(V,f);ll(n,o,de,es(n))}else ll(n,o,f,es(n))}catch(he){ll(n,o,{then:function(){},status:"rejected",reason:he},es())}finally{U.p=y,T!==null&&k.types!==null&&(T.types=k.types),D.T=T}}function sT(){}function gf(n,o,c,f){if(n.tag!==5)throw Error(s(476));var x=Ov(n).queue;Mv(n,x,o,H,c===null?sT:function(){return Lv(n),c(f)})}function Ov(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:H},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:c},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function Lv(n){var o=Ov(n);o.next===null&&(o=n.alternate.memoizedState),ll(n,o.next.queue,{},es())}function xf(){return vn(El)}function Bv(){return Ut().memoizedState}function Iv(){return Ut().memoizedState}function oT(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var c=es();n=ta(c);var f=na(o,n,c);f!==null&&(zn(f,o,c),sl(f,o,c)),o={cache:Gh()},n.payload=o;return}o=o.return}}function aT(n,o,c){var f=es();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Wc(n)?zv(o,c):(c=Mh(n,o,c,f),c!==null&&(zn(c,n,f),Hv(c,o,f)))}function Fv(n,o,c){var f=es();ll(n,o,c,f)}function ll(n,o,c,f){var x={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Wc(n))zv(o,x);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,k=y(T,c);if(x.hasEagerState=!0,x.eagerState=k,Xn(k,T))return Pc(n,o,x,0),Et===null&&Nc(),!1}catch{}if(c=Mh(n,o,x,f),c!==null)return zn(c,n,f),Hv(c,o,f),!0}return!1}function vf(n,o,c,f){if(f={lane:2,revertLane:Kf(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Wc(n)){if(o)throw Error(s(479))}else o=Mh(n,c,f,2),o!==null&&zn(o,n,2)}function Wc(n){var o=n.alternate;return n===Ke||o!==null&&o===Ke}function zv(n,o){Li=Uc=!0;var c=n.pending;c===null?o.next=o:(o.next=c.next,c.next=o),n.pending=o}function Hv(n,o,c){if((c&4194048)!==0){var f=o.lanes;f&=n.pendingLanes,c|=f,o.lanes=c,ln(n,c)}}var cl={readContext:vn,use:Gc,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};cl.useEffectEvent=It;var Uv={readContext:vn,use:Gc,useCallback:function(n,o){return jn().memoizedState=[n,o===void 0?null:o],n},useContext:vn,useEffect:Ev,useImperativeHandle:function(n,o,c){c=c!=null?c.concat([n]):null,Yc(4194308,4,Pv.bind(null,o,n),c)},useLayoutEffect:function(n,o){return Yc(4194308,4,n,o)},useInsertionEffect:function(n,o){Yc(4,2,n,o)},useMemo:function(n,o){var c=jn();o=o===void 0?null:o;var f=n();if($a){Yn(!0);try{n()}finally{Yn(!1)}}return c.memoizedState=[f,o],f},useReducer:function(n,o,c){var f=jn();if(c!==void 0){var x=c(o);if($a){Yn(!0);try{c(o)}finally{Yn(!1)}}}else x=o;return f.memoizedState=f.baseState=x,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:x},f.queue=n,n=n.dispatch=aT.bind(null,Ke,n),[f.memoizedState,n]},useRef:function(n){var o=jn();return n={current:n},o.memoizedState=n},useState:function(n){n=uf(n);var o=n.queue,c=Fv.bind(null,Ke,o);return o.dispatch=c,[n.memoizedState,c]},useDebugValue:pf,useDeferredValue:function(n,o){var c=jn();return mf(c,n,o)},useTransition:function(){var n=uf(!1);return n=Mv.bind(null,Ke,n.queue,!0,!1),jn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,c){var f=Ke,x=jn();if(rt){if(c===void 0)throw Error(s(407));c=c()}else{if(c=o(),Et===null)throw Error(s(349));(st&127)!==0||cv(f,o,c)}x.memoizedState=c;var y={value:c,getSnapshot:o};return x.queue=y,Ev(uv.bind(null,f,y,n),[n]),f.flags|=2048,Ii(9,{destroy:void 0},dv.bind(null,f,y,c,o),null),c},useId:function(){var n=jn(),o=Et.identifierPrefix;if(rt){var c=$s,f=Vs;c=(f&~(1<<32-rn(f)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Vc++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=ZE++,o="_"+o+"r_"+c.toString(32)+"_";return n.memoizedState=o},useHostTransitionStatus:xf,useFormState:bv,useActionState:bv,useOptimistic:function(n){var o=jn();o.memoizedState=o.baseState=n;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=vf.bind(null,Ke,!0,c),c.dispatch=o,[n,o]},useMemoCache:lf,useCacheRefresh:function(){return jn().memoizedState=oT.bind(null,Ke)},useEffectEvent:function(n){var o=jn(),c={impl:n};return o.memoizedState=c,function(){if((pt&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}},yf={readContext:vn,use:Gc,useCallback:Dv,useContext:vn,useEffect:ff,useImperativeHandle:jv,useInsertionEffect:_v,useLayoutEffect:Nv,useMemo:kv,useReducer:qc,useRef:Cv,useState:function(){return qc(So)},useDebugValue:pf,useDeferredValue:function(n,o){var c=Ut();return Rv(c,bt.memoizedState,n,o)},useTransition:function(){var n=qc(So)[0],o=Ut().memoizedState;return[typeof n=="boolean"?n:rl(n),o]},useSyncExternalStore:lv,useId:Bv,useHostTransitionStatus:xf,useFormState:wv,useActionState:wv,useOptimistic:function(n,o){var c=Ut();return pv(c,bt,n,o)},useMemoCache:lf,useCacheRefresh:Iv};yf.useEffectEvent=Tv;var Vv={readContext:vn,use:Gc,useCallback:Dv,useContext:vn,useEffect:ff,useImperativeHandle:jv,useInsertionEffect:_v,useLayoutEffect:Nv,useMemo:kv,useReducer:df,useRef:Cv,useState:function(){return df(So)},useDebugValue:pf,useDeferredValue:function(n,o){var c=Ut();return bt===null?mf(c,n,o):Rv(c,bt.memoizedState,n,o)},useTransition:function(){var n=df(So)[0],o=Ut().memoizedState;return[typeof n=="boolean"?n:rl(n),o]},useSyncExternalStore:lv,useId:Bv,useHostTransitionStatus:xf,useFormState:Av,useActionState:Av,useOptimistic:function(n,o){var c=Ut();return bt!==null?pv(c,bt,n,o):(c.baseState=n,[n,c.queue.dispatch])},useMemoCache:lf,useCacheRefresh:Iv};Vv.useEffectEvent=Tv;function bf(n,o,c,f){o=n.memoizedState,c=c(f,o),c=c==null?o:m({},o,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}var wf={enqueueSetState:function(n,o,c){n=n._reactInternals;var f=es(),x=ta(f);x.payload=o,c!=null&&(x.callback=c),o=na(n,x,f),o!==null&&(zn(o,n,f),sl(o,n,f))},enqueueReplaceState:function(n,o,c){n=n._reactInternals;var f=es(),x=ta(f);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=na(n,x,f),o!==null&&(zn(o,n,f),sl(o,n,f))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var c=es(),f=ta(c);f.tag=2,o!=null&&(f.callback=o),o=na(n,f,c),o!==null&&(zn(o,n,c),sl(o,n,c))}};function $v(n,o,c,f,x,y,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,y,T):o.prototype&&o.prototype.isPureReactComponent?!Wr(c,f)||!Wr(x,y):!0}function Gv(n,o,c,f){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==n&&wf.enqueueReplaceState(o,o.state,null)}function Ga(n,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(n=n.defaultProps){c===o&&(c=m({},c));for(var x in n)c[x]===void 0&&(c[x]=n[x])}return c}function qv(n){_c(n)}function Yv(n){console.error(n)}function Xv(n){_c(n)}function Kc(n,o){try{var c=n.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function Wv(n,o,c){try{var f=n.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Sf(n,o,c){return c=ta(c),c.tag=3,c.payload={element:null},c.callback=function(){Kc(n,o)},c}function Kv(n){return n=ta(n),n.tag=3,n}function Qv(n,o,c,f){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var y=f.value;n.payload=function(){return x(y)},n.callback=function(){Wv(o,c,f)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Wv(o,c,f),typeof x!="function"&&(la===null?la=new Set([this]):la.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function iT(n,o,c,f,x){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&ji(o,c,x,!0),c=Kn.current,c!==null){switch(c.tag){case 31:case 13:return ys===null?ld():c.alternate===null&&Ft===0&&(Ft=3),c.flags&=-257,c.flags|=65536,c.lanes=x,f===Bc?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),Yf(n,f,x)),!1;case 22:return c.flags|=65536,f===Bc?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),Yf(n,f,x)),!1}throw Error(s(435,c.tag))}return Yf(n,f,x),ld(),!1}if(rt)return o=Kn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,f!==zh&&(n=Error(s(422),{cause:f}),Zr(ms(n,c)))):(f!==zh&&(o=Error(s(423),{cause:f}),Zr(ms(o,c))),n=n.current.alternate,n.flags|=65536,x&=-x,n.lanes|=x,f=ms(f,c),x=Sf(n.stateNode,f,x),Qh(n,x),Ft!==4&&(Ft=2)),!1;var y=Error(s(520),{cause:f});if(y=ms(y,c),xl===null?xl=[y]:xl.push(y),Ft!==4&&(Ft=2),o===null)return!0;f=ms(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,n=x&-x,c.lanes|=n,n=Sf(c.stateNode,f,n),Qh(c,n),!1;case 1:if(o=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(la===null||!la.has(y))))return c.flags|=65536,x&=-x,c.lanes|=x,x=Kv(x),Qv(x,n,c,f),Qh(c,x),!1}c=c.return}while(c!==null);return!1}var Af=Error(s(461)),Kt=!1;function yn(n,o,c,f){o.child=n===null?tv(o,null,c,f):Va(o,n.child,c,f)}function Zv(n,o,c,f,x){c=c.render;var y=o.ref;if("ref"in f){var T={};for(var k in f)k!=="ref"&&(T[k]=f[k])}else T=f;return Fa(o),f=sf(n,o,c,T,y,x),k=of(),n!==null&&!Kt?(af(n,o,x),Ao(n,o,x)):(rt&&k&&Ih(o),o.flags|=1,yn(n,o,f,x),o.child)}function Jv(n,o,c,f,x){if(n===null){var y=c.type;return typeof y=="function"&&!Oh(y)&&y.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=y,ey(n,o,y,f,x)):(n=Dc(c.type,null,f,o,o.mode,x),n.ref=o.ref,n.return=o,o.child=n)}if(y=n.child,!Df(n,x)){var T=y.memoizedProps;if(c=c.compare,c=c!==null?c:Wr,c(T,f)&&n.ref===o.ref)return Ao(n,o,x)}return o.flags|=1,n=xo(y,f),n.ref=o.ref,n.return=o,o.child=n}function ey(n,o,c,f,x){if(n!==null){var y=n.memoizedProps;if(Wr(y,f)&&n.ref===o.ref)if(Kt=!1,o.pendingProps=f=y,Df(n,x))(n.flags&131072)!==0&&(Kt=!0);else return o.lanes=n.lanes,Ao(n,o,x)}return Cf(n,o,c,f,x)}function ty(n,o,c,f){var x=f.children,y=n!==null?n.memoizedState:null;if(n===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,n!==null){for(f=o.child=n.child,x=0;f!==null;)x=x|f.lanes|f.childLanes,f=f.sibling;f=x&~y}else f=0,o.child=null;return ny(n,o,y,c,f)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&Oc(o,y!==null?y.cachePool:null),y!==null?ov(o,y):Jh(),av(o);else return f=o.lanes=536870912,ny(n,o,y!==null?y.baseLanes|c:c,c,f)}else y!==null?(Oc(o,y.cachePool),ov(o,y),oa(),o.memoizedState=null):(n!==null&&Oc(o,null),Jh(),oa());return yn(n,o,x,c),o.child}function dl(n,o){return n!==null&&n.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function ny(n,o,c,f,x){var y=Yh();return y=y===null?null:{parent:Xt._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},n!==null&&Oc(o,null),Jh(),av(o),n!==null&&ji(n,o,f,!0),o.childLanes=x,null}function Qc(n,o){return o=Jc({mode:o.mode,children:o.children},n.mode),o.ref=n.ref,n.child=o,o.return=n,o}function sy(n,o,c){return Va(o,n.child,null,c),n=Qc(o,o.pendingProps),n.flags|=2,Qn(o),o.memoizedState=null,n}function rT(n,o,c){var f=o.pendingProps,x=(o.flags&128)!==0;if(o.flags&=-129,n===null){if(rt){if(f.mode==="hidden")return n=Qc(o,f),o.lanes=536870912,dl(null,n);if(tf(o),(n=Nt)?(n=m0(n,vs),n=n!==null&&n.data==="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:Ko!==null?{id:Vs,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},c=zx(n),c.return=o,o.child=c,xn=o,Nt=null)):n=null,n===null)throw Zo(o);return o.lanes=536870912,null}return Qc(o,f)}var y=n.memoizedState;if(y!==null){var T=y.dehydrated;if(tf(o),x)if(o.flags&256)o.flags&=-257,o=sy(n,o,c);else if(o.memoizedState!==null)o.child=n.child,o.flags|=128,o=null;else throw Error(s(558));else if(Kt||ji(n,o,c,!1),x=(c&n.childLanes)!==0,Kt||x){if(f=Et,f!==null&&(T=zt(f,c),T!==0&&T!==y.retryLane))throw y.retryLane=T,Oa(n,T),zn(f,n,T),Af;ld(),o=sy(n,o,c)}else n=y.treeContext,Nt=bs(T.nextSibling),xn=o,rt=!0,Qo=null,vs=!1,n!==null&&Vx(o,n),o=Qc(o,f),o.flags|=4096;return o}return n=xo(n.child,{mode:f.mode,children:f.children}),n.ref=o.ref,o.child=n,n.return=o,n}function Zc(n,o){var c=o.ref;if(c===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(n===null||n.ref!==c)&&(o.flags|=4194816)}}function Cf(n,o,c,f,x){return Fa(o),c=sf(n,o,c,f,void 0,x),f=of(),n!==null&&!Kt?(af(n,o,x),Ao(n,o,x)):(rt&&f&&Ih(o),o.flags|=1,yn(n,o,c,x),o.child)}function oy(n,o,c,f,x,y){return Fa(o),o.updateQueue=null,c=rv(o,f,c,x),iv(n),f=of(),n!==null&&!Kt?(af(n,o,y),Ao(n,o,y)):(rt&&f&&Ih(o),o.flags|=1,yn(n,o,c,y),o.child)}function ay(n,o,c,f,x){if(Fa(o),o.stateNode===null){var y=Ti,T=c.contextType;typeof T=="object"&&T!==null&&(y=vn(T)),y=new c(f,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=wf,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=f,y.state=o.memoizedState,y.refs={},Wh(o),T=c.contextType,y.context=typeof T=="object"&&T!==null?vn(T):Ti,y.state=o.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(bf(o,c,T,f),y.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&wf.enqueueReplaceState(y,y.state,null),al(o,f,y,x),ol(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(n===null){y=o.stateNode;var k=o.memoizedProps,V=Ga(c,k);y.props=V;var ee=y.context,de=c.contextType;T=Ti,typeof de=="object"&&de!==null&&(T=vn(de));var he=c.getDerivedStateFromProps;de=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,de||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||ee!==T)&&Gv(o,y,f,T),ea=!1;var ne=o.memoizedState;y.state=ne,al(o,f,y,x),ol(),ee=o.memoizedState,k||ne!==ee||ea?(typeof he=="function"&&(bf(o,c,he,f),ee=o.memoizedState),(V=ea||$v(o,c,V,f,ne,ee,T))?(de||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=ee),y.props=f,y.state=ee,y.context=T,f=V):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{y=o.stateNode,Kh(n,o),T=o.memoizedProps,de=Ga(c,T),y.props=de,he=o.pendingProps,ne=y.context,ee=c.contextType,V=Ti,typeof ee=="object"&&ee!==null&&(V=vn(ee)),k=c.getDerivedStateFromProps,(ee=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==he||ne!==V)&&Gv(o,y,f,V),ea=!1,ne=o.memoizedState,y.state=ne,al(o,f,y,x),ol();var oe=o.memoizedState;T!==he||ne!==oe||ea||n!==null&&n.dependencies!==null&&Rc(n.dependencies)?(typeof k=="function"&&(bf(o,c,k,f),oe=o.memoizedState),(de=ea||$v(o,c,de,f,ne,oe,V)||n!==null&&n.dependencies!==null&&Rc(n.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,oe,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,oe,V)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&ne===n.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ne===n.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=oe),y.props=f,y.state=oe,y.context=V,f=de):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&ne===n.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ne===n.memoizedState||(o.flags|=1024),f=!1)}return y=f,Zc(n,o),f=(o.flags&128)!==0,y||f?(y=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,n!==null&&f?(o.child=Va(o,n.child,null,x),o.child=Va(o,null,c,x)):yn(n,o,c,x),o.memoizedState=y.state,n=o.child):n=Ao(n,o,x),n}function iy(n,o,c,f){return Ba(),o.flags|=256,yn(n,o,c,f),o.child}var Ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tf(n){return{baseLanes:n,cachePool:Wx()}}function _f(n,o,c){return n=n!==null?n.childLanes&~c:0,o&&(n|=Jn),n}function ry(n,o,c){var f=o.pendingProps,x=!1,y=(o.flags&128)!==0,T;if((T=y)||(T=n!==null&&n.memoizedState===null?!1:(Ht.current&2)!==0),T&&(x=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,n===null){if(rt){if(x?sa(o):oa(),(n=Nt)?(n=m0(n,vs),n=n!==null&&n.data!=="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:Ko!==null?{id:Vs,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},c=zx(n),c.return=o,o.child=c,xn=o,Nt=null)):n=null,n===null)throw Zo(o);return cp(n)?o.lanes=32:o.lanes=536870912,null}var k=f.children;return f=f.fallback,x?(oa(),x=o.mode,k=Jc({mode:"hidden",children:k},x),f=La(f,x,c,null),k.return=o,f.return=o,k.sibling=f,o.child=k,f=o.child,f.memoizedState=Tf(c),f.childLanes=_f(n,T,c),o.memoizedState=Ef,dl(null,f)):(sa(o),Nf(o,k))}var V=n.memoizedState;if(V!==null&&(k=V.dehydrated,k!==null)){if(y)o.flags&256?(sa(o),o.flags&=-257,o=Pf(n,o,c)):o.memoizedState!==null?(oa(),o.child=n.child,o.flags|=128,o=null):(oa(),k=f.fallback,x=o.mode,f=Jc({mode:"visible",children:f.children},x),k=La(k,x,c,null),k.flags|=2,f.return=o,k.return=o,f.sibling=k,o.child=f,Va(o,n.child,null,c),f=o.child,f.memoizedState=Tf(c),f.childLanes=_f(n,T,c),o.memoizedState=Ef,o=dl(null,f));else if(sa(o),cp(k)){if(T=k.nextSibling&&k.nextSibling.dataset,T)var ee=T.dgst;T=ee,f=Error(s(419)),f.stack="",f.digest=T,Zr({value:f,source:null,stack:null}),o=Pf(n,o,c)}else if(Kt||ji(n,o,c,!1),T=(c&n.childLanes)!==0,Kt||T){if(T=Et,T!==null&&(f=zt(T,c),f!==0&&f!==V.retryLane))throw V.retryLane=f,Oa(n,f),zn(T,n,f),Af;lp(k)||ld(),o=Pf(n,o,c)}else lp(k)?(o.flags|=192,o.child=n.child,o=null):(n=V.treeContext,Nt=bs(k.nextSibling),xn=o,rt=!0,Qo=null,vs=!1,n!==null&&Vx(o,n),o=Nf(o,f.children),o.flags|=4096);return o}return x?(oa(),k=f.fallback,x=o.mode,V=n.child,ee=V.sibling,f=xo(V,{mode:"hidden",children:f.children}),f.subtreeFlags=V.subtreeFlags&65011712,ee!==null?k=xo(ee,k):(k=La(k,x,c,null),k.flags|=2),k.return=o,f.return=o,f.sibling=k,o.child=f,dl(null,f),f=o.child,k=n.child.memoizedState,k===null?k=Tf(c):(x=k.cachePool,x!==null?(V=Xt._currentValue,x=x.parent!==V?{parent:V,pool:V}:x):x=Wx(),k={baseLanes:k.baseLanes|c,cachePool:x}),f.memoizedState=k,f.childLanes=_f(n,T,c),o.memoizedState=Ef,dl(n.child,f)):(sa(o),c=n.child,n=c.sibling,c=xo(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,n!==null&&(T=o.deletions,T===null?(o.deletions=[n],o.flags|=16):T.push(n)),o.child=c,o.memoizedState=null,c)}function Nf(n,o){return o=Jc({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function Jc(n,o){return n=Wn(22,n,null,o),n.lanes=0,n}function Pf(n,o,c){return Va(o,n.child,null,c),n=Nf(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function ly(n,o,c){n.lanes|=o;var f=n.alternate;f!==null&&(f.lanes|=o),Vh(n.return,o,c)}function jf(n,o,c,f,x,y){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:x,treeForkCount:y}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=f,T.tail=c,T.tailMode=x,T.treeForkCount=y)}function cy(n,o,c){var f=o.pendingProps,x=f.revealOrder,y=f.tail;f=f.children;var T=Ht.current,k=(T&2)!==0;if(k?(T=T&1|2,o.flags|=128):T&=1,B(Ht,T),yn(n,o,f,c),f=rt?Qr:0,!k&&n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ly(n,c,o);else if(n.tag===19)ly(n,c,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(x){case"forwards":for(c=o.child,x=null;c!==null;)n=c.alternate,n!==null&&Hc(n)===null&&(x=c),c=c.sibling;c=x,c===null?(x=o.child,o.child=null):(x=c.sibling,c.sibling=null),jf(o,!1,x,c,y,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,x=o.child,o.child=null;x!==null;){if(n=x.alternate,n!==null&&Hc(n)===null){o.child=x;break}n=x.sibling,x.sibling=c,c=x,x=n}jf(o,!0,c,null,y,f);break;case"together":jf(o,!1,null,null,void 0,f);break;default:o.memoizedState=null}return o.child}function Ao(n,o,c){if(n!==null&&(o.dependencies=n.dependencies),ra|=o.lanes,(c&o.childLanes)===0)if(n!==null){if(ji(n,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(s(153));if(o.child!==null){for(n=o.child,c=xo(n,n.pendingProps),o.child=c,c.return=o;n.sibling!==null;)n=n.sibling,c=c.sibling=xo(n,n.pendingProps),c.return=o;c.sibling=null}return o.child}function Df(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&Rc(n)))}function lT(n,o,c){switch(o.tag){case 3:ce(o,o.stateNode.containerInfo),Jo(o,Xt,n.memoizedState.cache),Ba();break;case 27:case 5:Ae(o);break;case 4:ce(o,o.stateNode.containerInfo);break;case 10:Jo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,tf(o),null;break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(sa(o),o.flags|=128,null):(c&o.child.childLanes)!==0?ry(n,o,c):(sa(o),n=Ao(n,o,c),n!==null?n.sibling:null);sa(o);break;case 19:var x=(n.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(ji(n,o,c,!1),f=(c&o.childLanes)!==0),x){if(f)return cy(n,o,c);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),B(Ht,Ht.current),f)break;return null;case 22:return o.lanes=0,ty(n,o,c,o.pendingProps);case 24:Jo(o,Xt,n.memoizedState.cache)}return Ao(n,o,c)}function dy(n,o,c){if(n!==null)if(n.memoizedProps!==o.pendingProps)Kt=!0;else{if(!Df(n,c)&&(o.flags&128)===0)return Kt=!1,lT(n,o,c);Kt=(n.flags&131072)!==0}else Kt=!1,rt&&(o.flags&1048576)!==0&&Ux(o,Qr,o.index);switch(o.lanes=0,o.tag){case 16:e:{var f=o.pendingProps;if(n=Ha(o.elementType),o.type=n,typeof n=="function")Oh(n)?(f=Ga(n,f),o.tag=1,o=ay(null,o,n,f,c)):(o.tag=0,o=Cf(null,o,n,f,c));else{if(n!=null){var x=n.$$typeof;if(x===j){o.tag=11,o=Zv(null,o,n,f,c);break e}else if(x===O){o.tag=14,o=Jv(null,o,n,f,c);break e}}throw o=ae(n)||n,Error(s(306,o,""))}}return o;case 0:return Cf(n,o,o.type,o.pendingProps,c);case 1:return f=o.type,x=Ga(f,o.pendingProps),ay(n,o,f,x,c);case 3:e:{if(ce(o,o.stateNode.containerInfo),n===null)throw Error(s(387));f=o.pendingProps;var y=o.memoizedState;x=y.element,Kh(n,o),al(o,f,null,c);var T=o.memoizedState;if(f=T.cache,Jo(o,Xt,f),f!==y.cache&&$h(o,[Xt],c,!0),ol(),f=T.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=iy(n,o,f,c);break e}else if(f!==x){x=ms(Error(s(424)),o),Zr(x),o=iy(n,o,f,c);break e}else for(n=o.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Nt=bs(n.firstChild),xn=o,rt=!0,Qo=null,vs=!0,c=tv(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ba(),f===x){o=Ao(n,o,c);break e}yn(n,o,f,c)}o=o.child}return o;case 26:return Zc(n,o),n===null?(c=w0(o.type,null,o.pendingProps,null))?o.memoizedState=c:rt||(c=o.type,n=o.pendingProps,f=md(le.current).createElement(c),f[gn]=o,f[Mn]=n,bn(f,c,n),cn(f),o.stateNode=f):o.memoizedState=w0(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return Ae(o),n===null&&rt&&(f=o.stateNode=v0(o.type,o.pendingProps,le.current),xn=o,vs=!0,x=Nt,ha(o.type)?(dp=x,Nt=bs(f.firstChild)):Nt=x),yn(n,o,o.pendingProps.children,c),Zc(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&rt&&((x=f=Nt)&&(f=IT(f,o.type,o.pendingProps,vs),f!==null?(o.stateNode=f,xn=o,Nt=bs(f.firstChild),vs=!1,x=!0):x=!1),x||Zo(o)),Ae(o),x=o.type,y=o.pendingProps,T=n!==null?n.memoizedProps:null,f=y.children,ap(x,y)?f=null:T!==null&&ap(x,T)&&(o.flags|=32),o.memoizedState!==null&&(x=sf(n,o,JE,null,null,c),El._currentValue=x),Zc(n,o),yn(n,o,f,c),o.child;case 6:return n===null&&rt&&((n=c=Nt)&&(c=FT(c,o.pendingProps,vs),c!==null?(o.stateNode=c,xn=o,Nt=null,n=!0):n=!1),n||Zo(o)),null;case 13:return ry(n,o,c);case 4:return ce(o,o.stateNode.containerInfo),f=o.pendingProps,n===null?o.child=Va(o,null,f,c):yn(n,o,f,c),o.child;case 11:return Zv(n,o,o.type,o.pendingProps,c);case 7:return yn(n,o,o.pendingProps,c),o.child;case 8:return yn(n,o,o.pendingProps.children,c),o.child;case 12:return yn(n,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,Jo(o,o.type,f.value),yn(n,o,f.children,c),o.child;case 9:return x=o.type._context,f=o.pendingProps.children,Fa(o),x=vn(x),f=f(x),o.flags|=1,yn(n,o,f,c),o.child;case 14:return Jv(n,o,o.type,o.pendingProps,c);case 15:return ey(n,o,o.type,o.pendingProps,c);case 19:return cy(n,o,c);case 31:return rT(n,o,c);case 22:return ty(n,o,c,o.pendingProps);case 24:return Fa(o),f=vn(Xt),n===null?(x=Yh(),x===null&&(x=Et,y=Gh(),x.pooledCache=y,y.refCount++,y!==null&&(x.pooledCacheLanes|=c),x=y),o.memoizedState={parent:f,cache:x},Wh(o),Jo(o,Xt,x)):((n.lanes&c)!==0&&(Kh(n,o),al(o,null,null,c),ol()),x=n.memoizedState,y=o.memoizedState,x.parent!==f?(x={parent:f,cache:f},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),Jo(o,Xt,f)):(f=y.cache,Jo(o,Xt,f),f!==x.cache&&$h(o,[Xt],c,!0))),yn(n,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Co(n){n.flags|=4}function kf(n,o,c,f,x){if((o=(n.mode&32)!==0)&&(o=!1),o){if(n.flags|=16777216,(x&335544128)===x)if(n.stateNode.complete)n.flags|=8192;else if(By())n.flags|=8192;else throw Ua=Bc,Xh}else n.flags&=-16777217}function uy(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!T0(o))if(By())n.flags|=8192;else throw Ua=Bc,Xh}function ed(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?Ue():536870912,n.lanes|=o,Ui|=o)}function ul(n,o){if(!rt)switch(n.tailMode){case"hidden":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function Pt(n){var o=n.alternate!==null&&n.alternate.child===n.child,c=0,f=0;if(o)for(var x=n.child;x!==null;)c|=x.lanes|x.childLanes,f|=x.subtreeFlags&65011712,f|=x.flags&65011712,x.return=n,x=x.sibling;else for(x=n.child;x!==null;)c|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=n,x=x.sibling;return n.subtreeFlags|=f,n.childLanes=c,o}function cT(n,o,c){var f=o.pendingProps;switch(Fh(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(o),null;case 1:return Pt(o),null;case 3:return c=o.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),bo(Xt),pe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Pi(o)?Co(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Hh())),Pt(o),null;case 26:var x=o.type,y=o.memoizedState;return n===null?(Co(o),y!==null?(Pt(o),uy(o,y)):(Pt(o),kf(o,x,null,f,c))):y?y!==n.memoizedState?(Co(o),Pt(o),uy(o,y)):(Pt(o),o.flags&=-16777217):(n=n.memoizedProps,n!==f&&Co(o),Pt(o),kf(o,x,n,f,c)),null;case 27:if(ve(o),c=le.current,x=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==f&&Co(o);else{if(!f){if(o.stateNode===null)throw Error(s(166));return Pt(o),null}n=q.current,Pi(o)?$x(o):(n=v0(x,f,c),o.stateNode=n,Co(o))}return Pt(o),null;case 5:if(ve(o),x=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==f&&Co(o);else{if(!f){if(o.stateNode===null)throw Error(s(166));return Pt(o),null}if(y=q.current,Pi(o))$x(o);else{var T=md(le.current);switch(y){case 1:y=T.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:y=T.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":y=T.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":y=T.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":y=T.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof f.is=="string"?T.createElement("select",{is:f.is}):T.createElement("select"),f.multiple?y.multiple=!0:f.size&&(y.size=f.size);break;default:y=typeof f.is=="string"?T.createElement(x,{is:f.is}):T.createElement(x)}}y[gn]=o,y[Mn]=f;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)y.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=y;e:switch(bn(y,x,f),x){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Co(o)}}return Pt(o),kf(o,o.type,n===null?null:n.memoizedProps,o.pendingProps,c),null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==f&&Co(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(s(166));if(n=le.current,Pi(o)){if(n=o.stateNode,c=o.memoizedProps,f=null,x=xn,x!==null)switch(x.tag){case 27:case 5:f=x.memoizedProps}n[gn]=o,n=!!(n.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||r0(n.nodeValue,c)),n||Zo(o,!0)}else n=md(n).createTextNode(f),n[gn]=o,o.stateNode=n}return Pt(o),null;case 31:if(c=o.memoizedState,n===null||n.memoizedState!==null){if(f=Pi(o),c!==null){if(n===null){if(!f)throw Error(s(318));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[gn]=o}else Ba(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Pt(o),n=!1}else c=Hh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=c),n=!0;if(!n)return o.flags&256?(Qn(o),o):(Qn(o),null);if((o.flags&128)!==0)throw Error(s(558))}return Pt(o),null;case 13:if(f=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(x=Pi(o),f!==null&&f.dehydrated!==null){if(n===null){if(!x)throw Error(s(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[gn]=o}else Ba(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Pt(o),x=!1}else x=Hh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=x),x=!0;if(!x)return o.flags&256?(Qn(o),o):(Qn(o),null)}return Qn(o),(o.flags&128)!==0?(o.lanes=c,o):(c=f!==null,n=n!==null&&n.memoizedState!==null,c&&(f=o.child,x=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(x=f.alternate.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==x&&(f.flags|=2048)),c!==n&&c&&(o.child.flags|=8192),ed(o,o.updateQueue),Pt(o),null);case 4:return pe(),n===null&&ep(o.stateNode.containerInfo),Pt(o),null;case 10:return bo(o.type),Pt(o),null;case 19:if(R(Ht),f=o.memoizedState,f===null)return Pt(o),null;if(x=(o.flags&128)!==0,y=f.rendering,y===null)if(x)ul(f,!1);else{if(Ft!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(y=Hc(n),y!==null){for(o.flags|=128,ul(f,!1),n=y.updateQueue,o.updateQueue=n,ed(o,n),o.subtreeFlags=0,n=c,c=o.child;c!==null;)Fx(c,n),c=c.sibling;return B(Ht,Ht.current&1|2),rt&&vo(o,f.treeForkCount),o.child}n=n.sibling}f.tail!==null&&te()>ad&&(o.flags|=128,x=!0,ul(f,!1),o.lanes=4194304)}else{if(!x)if(n=Hc(y),n!==null){if(o.flags|=128,x=!0,n=n.updateQueue,o.updateQueue=n,ed(o,n),ul(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!rt)return Pt(o),null}else 2*te()-f.renderingStartTime>ad&&c!==536870912&&(o.flags|=128,x=!0,ul(f,!1),o.lanes=4194304);f.isBackwards?(y.sibling=o.child,o.child=y):(n=f.last,n!==null?n.sibling=y:o.child=y,f.last=y)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=te(),n.sibling=null,c=Ht.current,B(Ht,x?c&1|2:c&1),rt&&vo(o,f.treeForkCount),n):(Pt(o),null);case 22:case 23:return Qn(o),ef(),f=o.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&(Pt(o),o.subtreeFlags&6&&(o.flags|=8192)):Pt(o),c=o.updateQueue,c!==null&&ed(o,c.retryQueue),c=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),n!==null&&R(za),null;case 24:return c=null,n!==null&&(c=n.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),bo(Xt),Pt(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function dT(n,o){switch(Fh(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return bo(Xt),pe(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return ve(o),null;case 31:if(o.memoizedState!==null){if(Qn(o),o.alternate===null)throw Error(s(340));Ba()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 13:if(Qn(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Ba()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return R(Ht),null;case 4:return pe(),null;case 10:return bo(o.type),null;case 22:case 23:return Qn(o),ef(),n!==null&&R(za),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return bo(Xt),null;case 25:return null;default:return null}}function hy(n,o){switch(Fh(o),o.tag){case 3:bo(Xt),pe();break;case 26:case 27:case 5:ve(o);break;case 4:pe();break;case 31:o.memoizedState!==null&&Qn(o);break;case 13:Qn(o);break;case 19:R(Ht);break;case 10:bo(o.type);break;case 22:case 23:Qn(o),ef(),n!==null&&R(za);break;case 24:bo(Xt)}}function hl(n,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var x=f.next;c=x;do{if((c.tag&n)===n){f=void 0;var y=c.create,T=c.inst;f=y(),T.destroy=f}c=c.next}while(c!==x)}}catch(k){yt(o,o.return,k)}}function aa(n,o,c){try{var f=o.updateQueue,x=f!==null?f.lastEffect:null;if(x!==null){var y=x.next;f=y;do{if((f.tag&n)===n){var T=f.inst,k=T.destroy;if(k!==void 0){T.destroy=void 0,x=o;var V=c,ee=k;try{ee()}catch(de){yt(x,V,de)}}}f=f.next}while(f!==y)}}catch(de){yt(o,o.return,de)}}function fy(n){var o=n.updateQueue;if(o!==null){var c=n.stateNode;try{sv(o,c)}catch(f){yt(n,n.return,f)}}}function py(n,o,c){c.props=Ga(n.type,n.memoizedProps),c.state=n.memoizedState;try{c.componentWillUnmount()}catch(f){yt(n,o,f)}}function fl(n,o){try{var c=n.ref;if(c!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof c=="function"?n.refCleanup=c(f):c.current=f}}catch(x){yt(n,o,x)}}function Gs(n,o){var c=n.ref,f=n.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(x){yt(n,o,x)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){yt(n,o,x)}else c.current=null}function my(n){var o=n.type,c=n.memoizedProps,f=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(x){yt(n,n.return,x)}}function Rf(n,o,c){try{var f=n.stateNode;kT(f,n.type,c,o),f[Mn]=o}catch(x){yt(n,n.return,x)}}function gy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ha(n.type)||n.tag===4}function Mf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||gy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ha(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Of(n,o,c){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(n,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(n),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=mo));else if(f!==4&&(f===27&&ha(n.type)&&(c=n.stateNode,o=null),n=n.child,n!==null))for(Of(n,o,c),n=n.sibling;n!==null;)Of(n,o,c),n=n.sibling}function td(n,o,c){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?c.insertBefore(n,o):c.appendChild(n);else if(f!==4&&(f===27&&ha(n.type)&&(c=n.stateNode),n=n.child,n!==null))for(td(n,o,c),n=n.sibling;n!==null;)td(n,o,c),n=n.sibling}function xy(n){var o=n.stateNode,c=n.memoizedProps;try{for(var f=n.type,x=o.attributes;x.length;)o.removeAttributeNode(x[0]);bn(o,f,c),o[gn]=n,o[Mn]=c}catch(y){yt(n,n.return,y)}}var Eo=!1,Qt=!1,Lf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,dn=null;function uT(n,o){if(n=n.containerInfo,sp=Sd,n=jx(n),Nh(n)){if("selectionStart"in n)var c={start:n.selectionStart,end:n.selectionEnd};else e:{c=(c=n.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var x=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var T=0,k=-1,V=-1,ee=0,de=0,he=n,ne=null;t:for(;;){for(var oe;he!==c||x!==0&&he.nodeType!==3||(k=T+x),he!==y||f!==0&&he.nodeType!==3||(V=T+f),he.nodeType===3&&(T+=he.nodeValue.length),(oe=he.firstChild)!==null;)ne=he,he=oe;for(;;){if(he===n)break t;if(ne===c&&++ee===x&&(k=T),ne===y&&++de===f&&(V=T),(oe=he.nextSibling)!==null)break;he=ne,ne=he.parentNode}he=oe}c=k===-1||V===-1?null:{start:k,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(op={focusedElem:n,selectionRange:c},Sd=!1,dn=o;dn!==null;)if(o=dn,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,dn=n;else for(;dn!==null;){switch(o=dn,y=o.alternate,n=o.flags,o.tag){case 0:if((n&4)!==0&&(n=o.updateQueue,n=n!==null?n.events:null,n!==null))for(c=0;c<n.length;c++)x=n[c],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,c=o,x=y.memoizedProps,y=y.memoizedState,f=c.stateNode;try{var Te=Ga(c.type,x);n=f.getSnapshotBeforeUpdate(Te,y),f.__reactInternalSnapshotBeforeUpdate=n}catch(ze){yt(c,c.return,ze)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,c=n.nodeType,c===9)rp(n);else if(c===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":rp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=o.sibling,n!==null){n.return=o.return,dn=n;break}dn=o.return}}function yy(n,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:_o(n,c),f&4&&hl(5,c);break;case 1:if(_o(n,c),f&4)if(n=c.stateNode,o===null)try{n.componentDidMount()}catch(T){yt(c,c.return,T)}else{var x=Ga(c.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(x,o,n.__reactInternalSnapshotBeforeUpdate)}catch(T){yt(c,c.return,T)}}f&64&&fy(c),f&512&&fl(c,c.return);break;case 3:if(_o(n,c),f&64&&(n=c.updateQueue,n!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{sv(n,o)}catch(T){yt(c,c.return,T)}}break;case 27:o===null&&f&4&&xy(c);case 26:case 5:_o(n,c),o===null&&f&4&&my(c),f&512&&fl(c,c.return);break;case 12:_o(n,c);break;case 31:_o(n,c),f&4&&Sy(n,c);break;case 13:_o(n,c),f&4&&Ay(n,c),f&64&&(n=c.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(c=bT.bind(null,c),zT(n,c))));break;case 22:if(f=c.memoizedState!==null||Eo,!f){o=o!==null&&o.memoizedState!==null||Qt,x=Eo;var y=Qt;Eo=f,(Qt=o)&&!y?No(n,c,(c.subtreeFlags&8772)!==0):_o(n,c),Eo=x,Qt=y}break;case 30:break;default:_o(n,c)}}function by(n){var o=n.alternate;o!==null&&(n.alternate=null,by(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&uh(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var jt=null,Ln=!1;function To(n,o,c){for(c=c.child;c!==null;)wy(n,o,c),c=c.sibling}function wy(n,o,c){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(ho,c)}catch{}switch(c.tag){case 26:Qt||Gs(c,o),To(n,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Qt||Gs(c,o);var f=jt,x=Ln;ha(c.type)&&(jt=c.stateNode,Ln=!1),To(n,o,c),Sl(c.stateNode),jt=f,Ln=x;break;case 5:Qt||Gs(c,o);case 6:if(f=jt,x=Ln,jt=null,To(n,o,c),jt=f,Ln=x,jt!==null)if(Ln)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(c.stateNode)}catch(y){yt(c,o,y)}else try{jt.removeChild(c.stateNode)}catch(y){yt(c,o,y)}break;case 18:jt!==null&&(Ln?(n=jt,f0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,c.stateNode),Ki(n)):f0(jt,c.stateNode));break;case 4:f=jt,x=Ln,jt=c.stateNode.containerInfo,Ln=!0,To(n,o,c),jt=f,Ln=x;break;case 0:case 11:case 14:case 15:aa(2,c,o),Qt||aa(4,c,o),To(n,o,c);break;case 1:Qt||(Gs(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&py(c,o,f)),To(n,o,c);break;case 21:To(n,o,c);break;case 22:Qt=(f=Qt)||c.memoizedState!==null,To(n,o,c),Qt=f;break;default:To(n,o,c)}}function Sy(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Ki(n)}catch(c){yt(o,o.return,c)}}}function Ay(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ki(n)}catch(c){yt(o,o.return,c)}}function hT(n){switch(n.tag){case 31:case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new vy),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new vy),o;default:throw Error(s(435,n.tag))}}function nd(n,o){var c=hT(n);o.forEach(function(f){if(!c.has(f)){c.add(f);var x=wT.bind(null,n,f);f.then(x,x)}})}function Bn(n,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var x=c[f],y=n,T=o,k=T;e:for(;k!==null;){switch(k.tag){case 27:if(ha(k.type)){jt=k.stateNode,Ln=!1;break e}break;case 5:jt=k.stateNode,Ln=!1;break e;case 3:case 4:jt=k.stateNode.containerInfo,Ln=!0;break e}k=k.return}if(jt===null)throw Error(s(160));wy(y,T,x),jt=null,Ln=!1,y=x.alternate,y!==null&&(y.return=null),x.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Cy(o,n),o=o.sibling}var js=null;function Cy(n,o){var c=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Bn(o,n),In(n),f&4&&(aa(3,n,n.return),hl(3,n),aa(5,n,n.return));break;case 1:Bn(o,n),In(n),f&512&&(Qt||c===null||Gs(c,c.return)),f&64&&Eo&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(c=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var x=js;if(Bn(o,n),In(n),f&512&&(Qt||c===null||Gs(c,c.return)),f&4){var y=c!==null?c.memoizedState:null;if(f=n.memoizedState,c===null)if(f===null)if(n.stateNode===null){e:{f=n.type,c=n.memoizedProps,x=x.ownerDocument||x;t:switch(f){case"title":y=x.getElementsByTagName("title")[0],(!y||y[zr]||y[gn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=x.createElement(f),x.head.insertBefore(y,x.querySelector("head > title"))),bn(y,f,c),y[gn]=n,cn(y),f=y;break e;case"link":var T=C0("link","href",x).get(f+(c.href||""));if(T){for(var k=0;k<T.length;k++)if(y=T[k],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(k,1);break t}}y=x.createElement(f),bn(y,f,c),x.head.appendChild(y);break;case"meta":if(T=C0("meta","content",x).get(f+(c.content||""))){for(k=0;k<T.length;k++)if(y=T[k],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(k,1);break t}}y=x.createElement(f),bn(y,f,c),x.head.appendChild(y);break;default:throw Error(s(468,f))}y[gn]=n,cn(y),f=y}n.stateNode=f}else E0(x,n.type,n.stateNode);else n.stateNode=A0(x,f,n.memoizedProps);else y!==f?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,f===null?E0(x,n.type,n.stateNode):A0(x,f,n.memoizedProps)):f===null&&n.stateNode!==null&&Rf(n,n.memoizedProps,c.memoizedProps)}break;case 27:Bn(o,n),In(n),f&512&&(Qt||c===null||Gs(c,c.return)),c!==null&&f&4&&Rf(n,n.memoizedProps,c.memoizedProps);break;case 5:if(Bn(o,n),In(n),f&512&&(Qt||c===null||Gs(c,c.return)),n.flags&32){x=n.stateNode;try{yi(x,"")}catch(Te){yt(n,n.return,Te)}}f&4&&n.stateNode!=null&&(x=n.memoizedProps,Rf(n,x,c!==null?c.memoizedProps:x)),f&1024&&(Lf=!0);break;case 6:if(Bn(o,n),In(n),f&4){if(n.stateNode===null)throw Error(s(162));f=n.memoizedProps,c=n.stateNode;try{c.nodeValue=f}catch(Te){yt(n,n.return,Te)}}break;case 3:if(vd=null,x=js,js=gd(o.containerInfo),Bn(o,n),js=x,In(n),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ki(o.containerInfo)}catch(Te){yt(n,n.return,Te)}Lf&&(Lf=!1,Ey(n));break;case 4:f=js,js=gd(n.stateNode.containerInfo),Bn(o,n),In(n),js=f;break;case 12:Bn(o,n),In(n);break;case 31:Bn(o,n),In(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,nd(n,f)));break;case 13:Bn(o,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(od=te()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,nd(n,f)));break;case 22:x=n.memoizedState!==null;var V=c!==null&&c.memoizedState!==null,ee=Eo,de=Qt;if(Eo=ee||x,Qt=de||V,Bn(o,n),Qt=de,Eo=ee,In(n),f&8192)e:for(o=n.stateNode,o._visibility=x?o._visibility&-2:o._visibility|1,x&&(c===null||V||Eo||Qt||qa(n)),c=null,o=n;;){if(o.tag===5||o.tag===26){if(c===null){V=c=o;try{if(y=V.stateNode,x)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{k=V.stateNode;var he=V.memoizedProps.style,ne=he!=null&&he.hasOwnProperty("display")?he.display:null;k.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Te){yt(V,V.return,Te)}}}else if(o.tag===6){if(c===null){V=o;try{V.stateNode.nodeValue=x?"":V.memoizedProps}catch(Te){yt(V,V.return,Te)}}}else if(o.tag===18){if(c===null){V=o;try{var oe=V.stateNode;x?p0(oe,!0):p0(V.stateNode,!1)}catch(Te){yt(V,V.return,Te)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=n.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,nd(n,c))));break;case 19:Bn(o,n),In(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,nd(n,f)));break;case 30:break;case 21:break;default:Bn(o,n),In(n)}}function In(n){var o=n.flags;if(o&2){try{for(var c,f=n.return;f!==null;){if(gy(f)){c=f;break}f=f.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var x=c.stateNode,y=Mf(n);td(n,y,x);break;case 5:var T=c.stateNode;c.flags&32&&(yi(T,""),c.flags&=-33);var k=Mf(n);td(n,k,T);break;case 3:case 4:var V=c.stateNode.containerInfo,ee=Mf(n);Of(n,ee,V);break;default:throw Error(s(161))}}catch(de){yt(n,n.return,de)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function Ey(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;Ey(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function _o(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)yy(n,o.alternate,o),o=o.sibling}function qa(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:aa(4,o,o.return),qa(o);break;case 1:Gs(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&py(o,o.return,c),qa(o);break;case 27:Sl(o.stateNode);case 26:case 5:Gs(o,o.return),qa(o);break;case 22:o.memoizedState===null&&qa(o);break;case 30:qa(o);break;default:qa(o)}n=n.sibling}}function No(n,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,x=n,y=o,T=y.flags;switch(y.tag){case 0:case 11:case 15:No(x,y,c),hl(4,y);break;case 1:if(No(x,y,c),f=y,x=f.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ee){yt(f,f.return,ee)}if(f=y,x=f.updateQueue,x!==null){var k=f.stateNode;try{var V=x.shared.hiddenCallbacks;if(V!==null)for(x.shared.hiddenCallbacks=null,x=0;x<V.length;x++)nv(V[x],k)}catch(ee){yt(f,f.return,ee)}}c&&T&64&&fy(y),fl(y,y.return);break;case 27:xy(y);case 26:case 5:No(x,y,c),c&&f===null&&T&4&&my(y),fl(y,y.return);break;case 12:No(x,y,c);break;case 31:No(x,y,c),c&&T&4&&Sy(x,y);break;case 13:No(x,y,c),c&&T&4&&Ay(x,y);break;case 22:y.memoizedState===null&&No(x,y,c),fl(y,y.return);break;case 30:break;default:No(x,y,c)}o=o.sibling}}function Bf(n,o){var c=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==c&&(n!=null&&n.refCount++,c!=null&&Jr(c))}function If(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Jr(n))}function Ds(n,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ty(n,o,c,f),o=o.sibling}function Ty(n,o,c,f){var x=o.flags;switch(o.tag){case 0:case 11:case 15:Ds(n,o,c,f),x&2048&&hl(9,o);break;case 1:Ds(n,o,c,f);break;case 3:Ds(n,o,c,f),x&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Jr(n)));break;case 12:if(x&2048){Ds(n,o,c,f),n=o.stateNode;try{var y=o.memoizedProps,T=y.id,k=y.onPostCommit;typeof k=="function"&&k(T,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){yt(o,o.return,V)}}else Ds(n,o,c,f);break;case 31:Ds(n,o,c,f);break;case 13:Ds(n,o,c,f);break;case 23:break;case 22:y=o.stateNode,T=o.alternate,o.memoizedState!==null?y._visibility&2?Ds(n,o,c,f):pl(n,o):y._visibility&2?Ds(n,o,c,f):(y._visibility|=2,Fi(n,o,c,f,(o.subtreeFlags&10256)!==0||!1)),x&2048&&Bf(T,o);break;case 24:Ds(n,o,c,f),x&2048&&If(o.alternate,o);break;default:Ds(n,o,c,f)}}function Fi(n,o,c,f,x){for(x=x&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=n,T=o,k=c,V=f,ee=T.flags;switch(T.tag){case 0:case 11:case 15:Fi(y,T,k,V,x),hl(8,T);break;case 23:break;case 22:var de=T.stateNode;T.memoizedState!==null?de._visibility&2?Fi(y,T,k,V,x):pl(y,T):(de._visibility|=2,Fi(y,T,k,V,x)),x&&ee&2048&&Bf(T.alternate,T);break;case 24:Fi(y,T,k,V,x),x&&ee&2048&&If(T.alternate,T);break;default:Fi(y,T,k,V,x)}o=o.sibling}}function pl(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=n,f=o,x=f.flags;switch(f.tag){case 22:pl(c,f),x&2048&&Bf(f.alternate,f);break;case 24:pl(c,f),x&2048&&If(f.alternate,f);break;default:pl(c,f)}o=o.sibling}}var ml=8192;function zi(n,o,c){if(n.subtreeFlags&ml)for(n=n.child;n!==null;)_y(n,o,c),n=n.sibling}function _y(n,o,c){switch(n.tag){case 26:zi(n,o,c),n.flags&ml&&n.memoizedState!==null&&ZT(c,js,n.memoizedState,n.memoizedProps);break;case 5:zi(n,o,c);break;case 3:case 4:var f=js;js=gd(n.stateNode.containerInfo),zi(n,o,c),js=f;break;case 22:n.memoizedState===null&&(f=n.alternate,f!==null&&f.memoizedState!==null?(f=ml,ml=16777216,zi(n,o,c),ml=f):zi(n,o,c));break;default:zi(n,o,c)}}function Ny(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function gl(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];dn=f,jy(f,n)}Ny(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Py(n),n=n.sibling}function Py(n){switch(n.tag){case 0:case 11:case 15:gl(n),n.flags&2048&&aa(9,n,n.return);break;case 3:gl(n);break;case 12:gl(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,sd(n)):gl(n);break;default:gl(n)}}function sd(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];dn=f,jy(f,n)}Ny(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:aa(8,o,o.return),sd(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,sd(o));break;default:sd(o)}n=n.sibling}}function jy(n,o){for(;dn!==null;){var c=dn;switch(c.tag){case 0:case 11:case 15:aa(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Jr(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,dn=f;else e:for(c=n;dn!==null;){f=dn;var x=f.sibling,y=f.return;if(by(f),f===c){dn=null;break e}if(x!==null){x.return=y,dn=x;break e}dn=y}}}var fT={getCacheForType:function(n){var o=vn(Xt),c=o.data.get(n);return c===void 0&&(c=n(),o.data.set(n,c)),c},cacheSignal:function(){return vn(Xt).controller.signal}},pT=typeof WeakMap=="function"?WeakMap:Map,pt=0,Et=null,tt=null,st=0,vt=0,Zn=null,ia=!1,Hi=!1,Ff=!1,Po=0,Ft=0,ra=0,Ya=0,zf=0,Jn=0,Ui=0,xl=null,Fn=null,Hf=!1,od=0,Dy=0,ad=1/0,id=null,la=null,en=0,ca=null,Vi=null,jo=0,Uf=0,Vf=null,ky=null,vl=0,$f=null;function es(){return(pt&2)!==0&&st!==0?st&-st:D.T!==null?Kf():ch()}function Ry(){if(Jn===0)if((st&536870912)===0||rt){var n=Yo;Yo<<=1,(Yo&3932160)===0&&(Yo=262144),Jn=n}else Jn=536870912;return n=Kn.current,n!==null&&(n.flags|=32),Jn}function zn(n,o,c){(n===Et&&(vt===2||vt===9)||n.cancelPendingCommit!==null)&&($i(n,0),da(n,st,Jn,!1)),it(n,c),((pt&2)===0||n!==Et)&&(n===Et&&((pt&2)===0&&(Ya|=c),Ft===4&&da(n,st,Jn,!1)),qs(n))}function My(n,o,c){if((pt&6)!==0)throw Error(s(327));var f=!c&&(o&127)===0&&(o&n.expiredLanes)===0||ge(n,o),x=f?xT(n,o):qf(n,o,!0),y=f;do{if(x===0){Hi&&!f&&da(n,o,0,!1);break}else{if(c=n.current.alternate,y&&!mT(c)){x=qf(n,o,!1),y=!1;continue}if(x===2){if(y=o,n.errorRecoveryDisabledLanes&y)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var k=n;x=xl;var V=k.current.memoizedState.isDehydrated;if(V&&($i(k,T).flags|=256),T=qf(k,T,!1),T!==2){if(Ff&&!V){k.errorRecoveryDisabledLanes|=y,Ya|=y,x=4;break e}y=Fn,Fn=x,y!==null&&(Fn===null?Fn=y:Fn.push.apply(Fn,y))}x=T}if(y=!1,x!==2)continue}}if(x===1){$i(n,0),da(n,o,0,!0);break}e:{switch(f=n,y=x,y){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:da(f,o,Jn,!ia);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(x=od+300-te(),10<x)){if(da(f,o,Jn,!ia),$e(f,0,!0)!==0)break e;jo=o,f.timeoutHandle=u0(Oy.bind(null,f,c,Fn,id,Hf,o,Jn,Ya,Ui,ia,y,"Throttled",-0,0),x);break e}Oy(f,c,Fn,id,Hf,o,Jn,Ya,Ui,ia,y,null,-0,0)}}break}while(!0);qs(n)}function Oy(n,o,c,f,x,y,T,k,V,ee,de,he,ne,oe){if(n.timeoutHandle=-1,he=o.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mo},_y(o,y,he);var Te=(y&62914560)===y?od-te():(y&4194048)===y?Dy-te():0;if(Te=JT(he,Te),Te!==null){jo=y,n.cancelPendingCommit=Te(Vy.bind(null,n,o,y,c,f,x,T,k,V,de,he,null,ne,oe)),da(n,y,T,!ee);return}}Vy(n,o,y,c,f,x,T,k,V)}function mT(n){for(var o=n;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var x=c[f],y=x.getSnapshot;x=x.value;try{if(!Xn(y(),x))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function da(n,o,c,f){o&=~zf,o&=~Ya,n.suspendedLanes|=o,n.pingedLanes&=~o,f&&(n.warmLanes|=o),f=n.expirationTimes;for(var x=o;0<x;){var y=31-rn(x),T=1<<y;f[y]=-1,x&=~T}c!==0&&Us(n,c,o)}function rd(){return(pt&6)===0?(yl(0),!1):!0}function Gf(){if(tt!==null){if(vt===0)var n=tt.return;else n=tt,yo=Ia=null,rf(n),Mi=null,tl=0,n=tt;for(;n!==null;)hy(n.alternate,n),n=n.return;tt=null}}function $i(n,o){var c=n.timeoutHandle;c!==-1&&(n.timeoutHandle=-1,OT(c)),c=n.cancelPendingCommit,c!==null&&(n.cancelPendingCommit=null,c()),jo=0,Gf(),Et=n,tt=c=xo(n.current,null),st=o,vt=0,Zn=null,ia=!1,Hi=ge(n,o),Ff=!1,Ui=Jn=zf=Ya=ra=Ft=0,Fn=xl=null,Hf=!1,(o&8)!==0&&(o|=o&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=o;0<f;){var x=31-rn(f),y=1<<x;o|=n[x],f&=~y}return Po=o,Nc(),c}function Ly(n,o){Ke=null,D.H=cl,o===Ri||o===Lc?(o=Zx(),vt=3):o===Xh?(o=Zx(),vt=4):vt=o===Af?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Zn=o,tt===null&&(Ft=1,Kc(n,ms(o,n.current)))}function By(){var n=Kn.current;return n===null?!0:(st&4194048)===st?ys===null:(st&62914560)===st||(st&536870912)!==0?n===ys:!1}function Iy(){var n=D.H;return D.H=cl,n===null?cl:n}function Fy(){var n=D.A;return D.A=fT,n}function ld(){Ft=4,ia||(st&4194048)!==st&&Kn.current!==null||(Hi=!0),(ra&134217727)===0&&(Ya&134217727)===0||Et===null||da(Et,st,Jn,!1)}function qf(n,o,c){var f=pt;pt|=2;var x=Iy(),y=Fy();(Et!==n||st!==o)&&(id=null,$i(n,o)),o=!1;var T=Ft;e:do try{if(vt!==0&&tt!==null){var k=tt,V=Zn;switch(vt){case 8:Gf(),T=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(o=!0);var ee=vt;if(vt=0,Zn=null,Gi(n,k,V,ee),c&&Hi){T=0;break e}break;default:ee=vt,vt=0,Zn=null,Gi(n,k,V,ee)}}gT(),T=Ft;break}catch(de){Ly(n,de)}while(!0);return o&&n.shellSuspendCounter++,yo=Ia=null,pt=f,D.H=x,D.A=y,tt===null&&(Et=null,st=0,Nc()),T}function gT(){for(;tt!==null;)zy(tt)}function xT(n,o){var c=pt;pt|=2;var f=Iy(),x=Fy();Et!==n||st!==o?(id=null,ad=te()+500,$i(n,o)):Hi=ge(n,o);e:do try{if(vt!==0&&tt!==null){o=tt;var y=Zn;t:switch(vt){case 1:vt=0,Zn=null,Gi(n,o,y,1);break;case 2:case 9:if(Kx(y)){vt=0,Zn=null,Hy(o);break}o=function(){vt!==2&&vt!==9||Et!==n||(vt=7),qs(n)},y.then(o,o);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:Kx(y)?(vt=0,Zn=null,Hy(o)):(vt=0,Zn=null,Gi(n,o,y,7));break;case 5:var T=null;switch(tt.tag){case 26:T=tt.memoizedState;case 5:case 27:var k=tt;if(T?T0(T):k.stateNode.complete){vt=0,Zn=null;var V=k.sibling;if(V!==null)tt=V;else{var ee=k.return;ee!==null?(tt=ee,cd(ee)):tt=null}break t}}vt=0,Zn=null,Gi(n,o,y,5);break;case 6:vt=0,Zn=null,Gi(n,o,y,6);break;case 8:Gf(),Ft=6;break e;default:throw Error(s(462))}}vT();break}catch(de){Ly(n,de)}while(!0);return yo=Ia=null,D.H=f,D.A=x,pt=c,tt!==null?0:(Et=null,st=0,Nc(),Ft)}function vT(){for(;tt!==null&&!gt();)zy(tt)}function zy(n){var o=dy(n.alternate,n,Po);n.memoizedProps=n.pendingProps,o===null?cd(n):tt=o}function Hy(n){var o=n,c=o.alternate;switch(o.tag){case 15:case 0:o=oy(c,o,o.pendingProps,o.type,void 0,st);break;case 11:o=oy(c,o,o.pendingProps,o.type.render,o.ref,st);break;case 5:rf(o);default:hy(c,o),o=tt=Fx(o,Po),o=dy(c,o,Po)}n.memoizedProps=n.pendingProps,o===null?cd(n):tt=o}function Gi(n,o,c,f){yo=Ia=null,rf(o),Mi=null,tl=0;var x=o.return;try{if(iT(n,x,o,c,st)){Ft=1,Kc(n,ms(c,n.current)),tt=null;return}}catch(y){if(x!==null)throw tt=x,y;Ft=1,Kc(n,ms(c,n.current)),tt=null;return}o.flags&32768?(rt||f===1?n=!0:Hi||(st&536870912)!==0?n=!1:(ia=n=!0,(f===2||f===9||f===3||f===6)&&(f=Kn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Uy(o,n)):cd(o)}function cd(n){var o=n;do{if((o.flags&32768)!==0){Uy(o,ia);return}n=o.return;var c=cT(o.alternate,o,Po);if(c!==null){tt=c;return}if(o=o.sibling,o!==null){tt=o;return}tt=o=n}while(o!==null);Ft===0&&(Ft=5)}function Uy(n,o){do{var c=dT(n.alternate,n);if(c!==null){c.flags&=32767,tt=c;return}if(c=n.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(n=n.sibling,n!==null)){tt=n;return}tt=n=c}while(n!==null);Ft=6,tt=null}function Vy(n,o,c,f,x,y,T,k,V){n.cancelPendingCommit=null;do dd();while(en!==0);if((pt&6)!==0)throw Error(s(327));if(o!==null){if(o===n.current)throw Error(s(177));if(y=o.lanes|o.childLanes,y|=Rh,Tn(n,c,y,T,k,V),n===Et&&(tt=Et=null,st=0),Vi=o,ca=n,jo=c,Uf=y,Vf=x,ky=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,ST(Ct,function(){return Xy(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=D.T,D.T=null,x=U.p,U.p=2,T=pt,pt|=4;try{uT(n,o,c)}finally{pt=T,U.p=x,D.T=f}}en=1,$y(),Gy(),qy()}}function $y(){if(en===1){en=0;var n=ca,o=Vi,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=D.T,D.T=null;var f=U.p;U.p=2;var x=pt;pt|=4;try{Cy(o,n);var y=op,T=jx(n.containerInfo),k=y.focusedElem,V=y.selectionRange;if(T!==k&&k&&k.ownerDocument&&Px(k.ownerDocument.documentElement,k)){if(V!==null&&Nh(k)){var ee=V.start,de=V.end;if(de===void 0&&(de=ee),"selectionStart"in k)k.selectionStart=ee,k.selectionEnd=Math.min(de,k.value.length);else{var he=k.ownerDocument||document,ne=he&&he.defaultView||window;if(ne.getSelection){var oe=ne.getSelection(),Te=k.textContent.length,ze=Math.min(V.start,Te),St=V.end===void 0?ze:Math.min(V.end,Te);!oe.extend&&ze>St&&(T=St,St=ze,ze=T);var W=Nx(k,ze),G=Nx(k,St);if(W&&G&&(oe.rangeCount!==1||oe.anchorNode!==W.node||oe.anchorOffset!==W.offset||oe.focusNode!==G.node||oe.focusOffset!==G.offset)){var J=he.createRange();J.setStart(W.node,W.offset),oe.removeAllRanges(),ze>St?(oe.addRange(J),oe.extend(G.node,G.offset)):(J.setEnd(G.node,G.offset),oe.addRange(J))}}}}for(he=[],oe=k;oe=oe.parentNode;)oe.nodeType===1&&he.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<he.length;k++){var ue=he[k];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Sd=!!sp,op=sp=null}finally{pt=x,U.p=f,D.T=c}}n.current=o,en=2}}function Gy(){if(en===2){en=0;var n=ca,o=Vi,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=D.T,D.T=null;var f=U.p;U.p=2;var x=pt;pt|=4;try{yy(n,o.alternate,o)}finally{pt=x,U.p=f,D.T=c}}en=3}}function qy(){if(en===4||en===3){en=0,xe();var n=ca,o=Vi,c=jo,f=ky;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?en=5:(en=0,Vi=ca=null,Yy(n,n.pendingLanes));var x=n.pendingLanes;if(x===0&&(la=null),Ns(c),o=o.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(ho,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=D.T,x=U.p,U.p=2,D.T=null;try{for(var y=n.onRecoverableError,T=0;T<f.length;T++){var k=f[T];y(k.value,{componentStack:k.stack})}}finally{D.T=o,U.p=x}}(jo&3)!==0&&dd(),qs(n),x=n.pendingLanes,(c&261930)!==0&&(x&42)!==0?n===$f?vl++:(vl=0,$f=n):vl=0,yl(0)}}function Yy(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,Jr(o)))}function dd(){return $y(),Gy(),qy(),Xy()}function Xy(){if(en!==5)return!1;var n=ca,o=Uf;Uf=0;var c=Ns(jo),f=D.T,x=U.p;try{U.p=32>c?32:c,D.T=null,c=Vf,Vf=null;var y=ca,T=jo;if(en=0,Vi=ca=null,jo=0,(pt&6)!==0)throw Error(s(331));var k=pt;if(pt|=4,Py(y.current),Ty(y,y.current,T,c),pt=k,yl(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(ho,y)}catch{}return!0}finally{U.p=x,D.T=f,Yy(n,o)}}function Wy(n,o,c){o=ms(c,o),o=Sf(n.stateNode,o,2),n=na(n,o,2),n!==null&&(it(n,2),qs(n))}function yt(n,o,c){if(n.tag===3)Wy(n,n,c);else for(;o!==null;){if(o.tag===3){Wy(o,n,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(la===null||!la.has(f))){n=ms(c,n),c=Kv(2),f=na(o,c,2),f!==null&&(Qv(c,f,o,n),it(f,2),qs(f));break}}o=o.return}}function Yf(n,o,c){var f=n.pingCache;if(f===null){f=n.pingCache=new pT;var x=new Set;f.set(o,x)}else x=f.get(o),x===void 0&&(x=new Set,f.set(o,x));x.has(c)||(Ff=!0,x.add(c),n=yT.bind(null,n,o,c),o.then(n,n))}function yT(n,o,c){var f=n.pingCache;f!==null&&f.delete(o),n.pingedLanes|=n.suspendedLanes&c,n.warmLanes&=~c,Et===n&&(st&c)===c&&(Ft===4||Ft===3&&(st&62914560)===st&&300>te()-od?(pt&2)===0&&$i(n,0):zf|=c,Ui===st&&(Ui=0)),qs(n)}function Ky(n,o){o===0&&(o=Ue()),n=Oa(n,o),n!==null&&(it(n,o),qs(n))}function bT(n){var o=n.memoizedState,c=0;o!==null&&(c=o.retryLane),Ky(n,c)}function wT(n,o){var c=0;switch(n.tag){case 31:case 13:var f=n.stateNode,x=n.memoizedState;x!==null&&(c=x.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(o),Ky(n,c)}function ST(n,o){return mt(n,o)}var ud=null,qi=null,Xf=!1,hd=!1,Wf=!1,ua=0;function qs(n){n!==qi&&n.next===null&&(qi===null?ud=qi=n:qi=qi.next=n),hd=!0,Xf||(Xf=!0,CT())}function yl(n,o){if(!Wf&&hd){Wf=!0;do for(var c=!1,f=ud;f!==null;){if(n!==0){var x=f.pendingLanes;if(x===0)var y=0;else{var T=f.suspendedLanes,k=f.pingedLanes;y=(1<<31-rn(42|n)+1)-1,y&=x&~(T&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,e0(f,y))}else y=st,y=$e(f,f===Et?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||ge(f,y)||(c=!0,e0(f,y));f=f.next}while(c);Wf=!1}}function AT(){Qy()}function Qy(){hd=Xf=!1;var n=0;ua!==0&&MT()&&(n=ua);for(var o=te(),c=null,f=ud;f!==null;){var x=f.next,y=Zy(f,o);y===0?(f.next=null,c===null?ud=x:c.next=x,x===null&&(qi=c)):(c=f,(n!==0||(y&3)!==0)&&(hd=!0)),f=x}en!==0&&en!==5||yl(n),ua!==0&&(ua=0)}function Zy(n,o){for(var c=n.suspendedLanes,f=n.pingedLanes,x=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var T=31-rn(y),k=1<<T,V=x[T];V===-1?((k&c)===0||(k&f)!==0)&&(x[T]=Fe(k,o)):V<=o&&(n.expiredLanes|=k),y&=~k}if(o=Et,c=st,c=$e(n,n===o?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,c===0||n===o&&(vt===2||vt===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&Bt(f),n.callbackNode=null,n.callbackPriority=0;if((c&3)===0||ge(n,c)){if(o=c&-c,o===n.callbackPriority)return o;switch(f!==null&&Bt(f),Ns(c)){case 2:case 8:c=dt;break;case 32:c=Ct;break;case 268435456:c=Rt;break;default:c=Ct}return f=Jy.bind(null,n),c=mt(c,f),n.callbackPriority=o,n.callbackNode=c,o}return f!==null&&f!==null&&Bt(f),n.callbackPriority=2,n.callbackNode=null,2}function Jy(n,o){if(en!==0&&en!==5)return n.callbackNode=null,n.callbackPriority=0,null;var c=n.callbackNode;if(dd()&&n.callbackNode!==c)return null;var f=st;return f=$e(n,n===Et?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(My(n,f,o),Zy(n,te()),n.callbackNode!=null&&n.callbackNode===c?Jy.bind(null,n):null)}function e0(n,o){if(dd())return null;My(n,o,!0)}function CT(){LT(function(){(pt&6)!==0?mt(He,AT):Qy()})}function Kf(){if(ua===0){var n=Di;n===0&&(n=qo,qo<<=1,(qo&261888)===0&&(qo=256)),ua=n}return ua}function t0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:bc(""+n)}function n0(n,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,n.id&&c.setAttribute("form",n.id),o.parentNode.insertBefore(c,o),n=new FormData(n),c.parentNode.removeChild(c),n}function ET(n,o,c,f,x){if(o==="submit"&&c&&c.stateNode===x){var y=t0((x[Mn]||null).action),T=f.submitter;T&&(o=(o=T[Mn]||null)?t0(o.formAction):T.getAttribute("formAction"),o!==null&&(y=o,T=null));var k=new Cc("action","action",null,f,x);n.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ua!==0){var V=T?n0(x,T):new FormData(x);gf(c,{pending:!0,data:V,method:x.method,action:y},null,V)}}else typeof y=="function"&&(k.preventDefault(),V=T?n0(x,T):new FormData(x),gf(c,{pending:!0,data:V,method:x.method,action:y},y,V))},currentTarget:x}]})}}for(var Qf=0;Qf<kh.length;Qf++){var Zf=kh[Qf],TT=Zf.toLowerCase(),_T=Zf[0].toUpperCase()+Zf.slice(1);Ps(TT,"on"+_T)}Ps(Rx,"onAnimationEnd"),Ps(Mx,"onAnimationIteration"),Ps(Ox,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(VE,"onTransitionRun"),Ps($E,"onTransitionStart"),Ps(GE,"onTransitionCancel"),Ps(Lx,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Da("onBeforeInput",["compositionend","keypress","textInput","paste"]),Da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function s0(n,o){o=(o&4)!==0;for(var c=0;c<n.length;c++){var f=n[c],x=f.event;f=f.listeners;e:{var y=void 0;if(o)for(var T=f.length-1;0<=T;T--){var k=f[T],V=k.instance,ee=k.currentTarget;if(k=k.listener,V!==y&&x.isPropagationStopped())break e;y=k,x.currentTarget=ee;try{y(x)}catch(de){_c(de)}x.currentTarget=null,y=V}else for(T=0;T<f.length;T++){if(k=f[T],V=k.instance,ee=k.currentTarget,k=k.listener,V!==y&&x.isPropagationStopped())break e;y=k,x.currentTarget=ee;try{y(x)}catch(de){_c(de)}x.currentTarget=null,y=V}}}}function nt(n,o){var c=o[dh];c===void 0&&(c=o[dh]=new Set);var f=n+"__bubble";c.has(f)||(o0(o,n,2,!1),c.add(f))}function Jf(n,o,c){var f=0;o&&(f|=4),o0(c,n,f,o)}var fd="_reactListening"+Math.random().toString(36).slice(2);function ep(n){if(!n[fd]){n[fd]=!0,Qg.forEach(function(c){c!=="selectionchange"&&(NT.has(c)||Jf(c,!1,n),Jf(c,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[fd]||(o[fd]=!0,Jf("selectionchange",!1,o))}}function o0(n,o,c,f){switch(R0(o)){case 2:var x=n_;break;case 8:x=s_;break;default:x=mp}c=x.bind(null,o,c,n),x=void 0,!yh||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),f?x!==void 0?n.addEventListener(o,c,{capture:!0,passive:x}):n.addEventListener(o,c,!0):x!==void 0?n.addEventListener(o,c,{passive:x}):n.addEventListener(o,c,!1)}function tp(n,o,c,f,x){var y=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var k=f.stateNode.containerInfo;if(k===x)break;if(T===4)for(T=f.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===x)return;T=T.return}for(;k!==null;){if(T=pi(k),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){f=y=T;continue e}k=k.parentNode}}f=f.return}cx(function(){var ee=y,de=xh(c),he=[];e:{var ne=Bx.get(n);if(ne!==void 0){var oe=Cc,Te=n;switch(n){case"keypress":if(Sc(c)===0)break e;case"keydown":case"keyup":oe=wE;break;case"focusin":Te="focus",oe=Ah;break;case"focusout":Te="blur",oe=Ah;break;case"beforeblur":case"afterblur":oe=Ah;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=cE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=CE;break;case Rx:case Mx:case Ox:oe=hE;break;case Lx:oe=TE;break;case"scroll":case"scrollend":oe=rE;break;case"wheel":oe=NE;break;case"copy":case"cut":case"paste":oe=pE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=px;break;case"toggle":case"beforetoggle":oe=jE}var ze=(o&4)!==0,St=!ze&&(n==="scroll"||n==="scrollend"),W=ze?ne!==null?ne+"Capture":null:ne;ze=[];for(var G=ee,J;G!==null;){var ue=G;if(J=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||J===null||W===null||(ue=Ur(G,W),ue!=null&&ze.push(wl(G,ue,J))),St)break;G=G.return}0<ze.length&&(ne=new oe(ne,Te,null,c,de),he.push({event:ne,listeners:ze}))}}if((o&7)===0){e:{if(ne=n==="mouseover"||n==="pointerover",oe=n==="mouseout"||n==="pointerout",ne&&c!==gh&&(Te=c.relatedTarget||c.fromElement)&&(pi(Te)||Te[fi]))break e;if((oe||ne)&&(ne=de.window===de?de:(ne=de.ownerDocument)?ne.defaultView||ne.parentWindow:window,oe?(Te=c.relatedTarget||c.toElement,oe=ee,Te=Te?pi(Te):null,Te!==null&&(St=r(Te),ze=Te.tag,Te!==St||ze!==5&&ze!==27&&ze!==6)&&(Te=null)):(oe=null,Te=ee),oe!==Te)){if(ze=hx,ue="onMouseLeave",W="onMouseEnter",G="mouse",(n==="pointerout"||n==="pointerover")&&(ze=px,ue="onPointerLeave",W="onPointerEnter",G="pointer"),St=oe==null?ne:Hr(oe),J=Te==null?ne:Hr(Te),ne=new ze(ue,G+"leave",oe,c,de),ne.target=St,ne.relatedTarget=J,ue=null,pi(de)===ee&&(ze=new ze(W,G+"enter",Te,c,de),ze.target=J,ze.relatedTarget=St,ue=ze),St=ue,oe&&Te)t:{for(ze=PT,W=oe,G=Te,J=0,ue=W;ue;ue=ze(ue))J++;ue=0;for(var Re=G;Re;Re=ze(Re))ue++;for(;0<J-ue;)W=ze(W),J--;for(;0<ue-J;)G=ze(G),ue--;for(;J--;){if(W===G||G!==null&&W===G.alternate){ze=W;break t}W=ze(W),G=ze(G)}ze=null}else ze=null;oe!==null&&a0(he,ne,oe,ze,!1),Te!==null&&St!==null&&a0(he,St,Te,ze,!0)}}e:{if(ne=ee?Hr(ee):window,oe=ne.nodeName&&ne.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ne.type==="file")var ut=Sx;else if(bx(ne))if(Ax)ut=zE;else{ut=IE;var De=BE}else oe=ne.nodeName,!oe||oe.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&mh(ee.elementType)&&(ut=Sx):ut=FE;if(ut&&(ut=ut(n,ee))){wx(he,ut,c,de);break e}De&&De(n,ne,ee),n==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&ph(ne,"number",ne.value)}switch(De=ee?Hr(ee):window,n){case"focusin":(bx(De)||De.contentEditable==="true")&&(Ai=De,Ph=ee,Kr=null);break;case"focusout":Kr=Ph=Ai=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Dx(he,c,de);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":Dx(he,c,de)}var Qe;if(Eh)e:{switch(n){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Si?vx(n,c)&&(ot="onCompositionEnd"):n==="keydown"&&c.keyCode===229&&(ot="onCompositionStart");ot&&(mx&&c.locale!=="ko"&&(Si||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Si&&(Qe=dx()):(Wo=de,bh="value"in Wo?Wo.value:Wo.textContent,Si=!0)),De=pd(ee,ot),0<De.length&&(ot=new fx(ot,n,null,c,de),he.push({event:ot,listeners:De}),Qe?ot.data=Qe:(Qe=yx(c),Qe!==null&&(ot.data=Qe)))),(Qe=kE?RE(n,c):ME(n,c))&&(ot=pd(ee,"onBeforeInput"),0<ot.length&&(De=new fx("onBeforeInput","beforeinput",null,c,de),he.push({event:De,listeners:ot}),De.data=Qe)),ET(he,n,ee,c,de)}s0(he,o)})}function wl(n,o,c){return{instance:n,listener:o,currentTarget:c}}function pd(n,o){for(var c=o+"Capture",f=[];n!==null;){var x=n,y=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||y===null||(x=Ur(n,c),x!=null&&f.unshift(wl(n,x,y)),x=Ur(n,o),x!=null&&f.push(wl(n,x,y))),n.tag===3)return f;n=n.return}return[]}function PT(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function a0(n,o,c,f,x){for(var y=o._reactName,T=[];c!==null&&c!==f;){var k=c,V=k.alternate,ee=k.stateNode;if(k=k.tag,V!==null&&V===f)break;k!==5&&k!==26&&k!==27||ee===null||(V=ee,x?(ee=Ur(c,y),ee!=null&&T.unshift(wl(c,ee,V))):x||(ee=Ur(c,y),ee!=null&&T.push(wl(c,ee,V)))),c=c.return}T.length!==0&&n.push({event:o,listeners:T})}var jT=/\r\n?/g,DT=/\u0000|\uFFFD/g;function i0(n){return(typeof n=="string"?n:""+n).replace(jT,`
`).replace(DT,"")}function r0(n,o){return o=i0(o),i0(n)===o}function wt(n,o,c,f,x,y){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||yi(n,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&yi(n,""+f);break;case"className":vc(n,"class",f);break;case"tabIndex":vc(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":vc(n,c,f);break;case"style":rx(n,f,y);break;case"data":if(o!=="object"){vc(n,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){n.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(c);break}f=bc(""+f),n.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(o!=="input"&&wt(n,o,"name",x.name,x,null),wt(n,o,"formEncType",x.formEncType,x,null),wt(n,o,"formMethod",x.formMethod,x,null),wt(n,o,"formTarget",x.formTarget,x,null)):(wt(n,o,"encType",x.encType,x,null),wt(n,o,"method",x.method,x,null),wt(n,o,"target",x.target,x,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(c);break}f=bc(""+f),n.setAttribute(c,f);break;case"onClick":f!=null&&(n.onclick=mo);break;case"onScroll":f!=null&&nt("scroll",n);break;case"onScrollEnd":f!=null&&nt("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(c=f.__html,c!=null){if(x.children!=null)throw Error(s(60));n.innerHTML=c}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}c=bc(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(c,""+f):n.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(c,""):n.removeAttribute(c);break;case"capture":case"download":f===!0?n.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(c,f):n.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(c,f):n.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(c):n.setAttribute(c,f);break;case"popover":nt("beforetoggle",n),nt("toggle",n),xc(n,"popover",f);break;case"xlinkActuate":po(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":po(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":po(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":po(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":po(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":po(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":po(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":po(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":po(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":xc(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=aE.get(c)||c,xc(n,c,f))}}function np(n,o,c,f,x,y){switch(c){case"style":rx(n,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(c=f.__html,c!=null){if(x.children!=null)throw Error(s(60));n.innerHTML=c}}break;case"children":typeof f=="string"?yi(n,f):(typeof f=="number"||typeof f=="bigint")&&yi(n,""+f);break;case"onScroll":f!=null&&nt("scroll",n);break;case"onScrollEnd":f!=null&&nt("scrollend",n);break;case"onClick":f!=null&&(n.onclick=mo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zg.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),o=c.slice(2,x?c.length-7:void 0),y=n[Mn]||null,y=y!=null?y[c]:null,typeof y=="function"&&n.removeEventListener(o,y,x),typeof f=="function")){typeof y!="function"&&y!==null&&(c in n?n[c]=null:n.hasAttribute(c)&&n.removeAttribute(c)),n.addEventListener(o,f,x);break e}c in n?n[c]=f:f===!0?n.setAttribute(c,""):xc(n,c,f)}}}function bn(n,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",n),nt("load",n);var f=!1,x=!1,y;for(y in c)if(c.hasOwnProperty(y)){var T=c[y];if(T!=null)switch(y){case"src":f=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:wt(n,o,y,T,c,null)}}x&&wt(n,o,"srcSet",c.srcSet,c,null),f&&wt(n,o,"src",c.src,c,null);return;case"input":nt("invalid",n);var k=y=T=x=null,V=null,ee=null;for(f in c)if(c.hasOwnProperty(f)){var de=c[f];if(de!=null)switch(f){case"name":x=de;break;case"type":T=de;break;case"checked":V=de;break;case"defaultChecked":ee=de;break;case"value":y=de;break;case"defaultValue":k=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,o));break;default:wt(n,o,f,de,c,null)}}sx(n,y,k,V,ee,T,x,!1);return;case"select":nt("invalid",n),f=T=y=null;for(x in c)if(c.hasOwnProperty(x)&&(k=c[x],k!=null))switch(x){case"value":y=k;break;case"defaultValue":T=k;break;case"multiple":f=k;default:wt(n,o,x,k,c,null)}o=y,c=T,n.multiple=!!f,o!=null?vi(n,!!f,o,!1):c!=null&&vi(n,!!f,c,!0);return;case"textarea":nt("invalid",n),y=x=f=null;for(T in c)if(c.hasOwnProperty(T)&&(k=c[T],k!=null))switch(T){case"value":f=k;break;case"defaultValue":x=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(91));break;default:wt(n,o,T,k,c,null)}ax(n,f,x,y);return;case"option":for(V in c)c.hasOwnProperty(V)&&(f=c[V],f!=null)&&(V==="selected"?n.selected=f&&typeof f!="function"&&typeof f!="symbol":wt(n,o,V,f,c,null));return;case"dialog":nt("beforetoggle",n),nt("toggle",n),nt("cancel",n),nt("close",n);break;case"iframe":case"object":nt("load",n);break;case"video":case"audio":for(f=0;f<bl.length;f++)nt(bl[f],n);break;case"image":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"embed":case"source":case"link":nt("error",n),nt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(f=c[ee],f!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:wt(n,o,ee,f,c,null)}return;default:if(mh(o)){for(de in c)c.hasOwnProperty(de)&&(f=c[de],f!==void 0&&np(n,o,de,f,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(f=c[k],f!=null&&wt(n,o,k,f,c,null))}function kT(n,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,y=null,T=null,k=null,V=null,ee=null,de=null;for(oe in c){var he=c[oe];if(c.hasOwnProperty(oe)&&he!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":V=he;default:f.hasOwnProperty(oe)||wt(n,o,oe,null,f,he)}}for(var ne in f){var oe=f[ne];if(he=c[ne],f.hasOwnProperty(ne)&&(oe!=null||he!=null))switch(ne){case"type":y=oe;break;case"name":x=oe;break;case"checked":ee=oe;break;case"defaultChecked":de=oe;break;case"value":T=oe;break;case"defaultValue":k=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,o));break;default:oe!==he&&wt(n,o,ne,oe,f,he)}}fh(n,T,k,V,ee,de,y,x);return;case"select":oe=T=k=ne=null;for(y in c)if(V=c[y],c.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":oe=V;default:f.hasOwnProperty(y)||wt(n,o,y,null,f,V)}for(x in f)if(y=f[x],V=c[x],f.hasOwnProperty(x)&&(y!=null||V!=null))switch(x){case"value":ne=y;break;case"defaultValue":k=y;break;case"multiple":T=y;default:y!==V&&wt(n,o,x,y,f,V)}o=k,c=T,f=oe,ne!=null?vi(n,!!c,ne,!1):!!f!=!!c&&(o!=null?vi(n,!!c,o,!0):vi(n,!!c,c?[]:"",!1));return;case"textarea":oe=ne=null;for(k in c)if(x=c[k],c.hasOwnProperty(k)&&x!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:wt(n,o,k,null,f,x)}for(T in f)if(x=f[T],y=c[T],f.hasOwnProperty(T)&&(x!=null||y!=null))switch(T){case"value":ne=x;break;case"defaultValue":oe=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==y&&wt(n,o,T,x,f,y)}ox(n,ne,oe);return;case"option":for(var Te in c)ne=c[Te],c.hasOwnProperty(Te)&&ne!=null&&!f.hasOwnProperty(Te)&&(Te==="selected"?n.selected=!1:wt(n,o,Te,null,f,ne));for(V in f)ne=f[V],oe=c[V],f.hasOwnProperty(V)&&ne!==oe&&(ne!=null||oe!=null)&&(V==="selected"?n.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":wt(n,o,V,ne,f,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in c)ne=c[ze],c.hasOwnProperty(ze)&&ne!=null&&!f.hasOwnProperty(ze)&&wt(n,o,ze,null,f,ne);for(ee in f)if(ne=f[ee],oe=c[ee],f.hasOwnProperty(ee)&&ne!==oe&&(ne!=null||oe!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,o));break;default:wt(n,o,ee,ne,f,oe)}return;default:if(mh(o)){for(var St in c)ne=c[St],c.hasOwnProperty(St)&&ne!==void 0&&!f.hasOwnProperty(St)&&np(n,o,St,void 0,f,ne);for(de in f)ne=f[de],oe=c[de],!f.hasOwnProperty(de)||ne===oe||ne===void 0&&oe===void 0||np(n,o,de,ne,f,oe);return}}for(var W in c)ne=c[W],c.hasOwnProperty(W)&&ne!=null&&!f.hasOwnProperty(W)&&wt(n,o,W,null,f,ne);for(he in f)ne=f[he],oe=c[he],!f.hasOwnProperty(he)||ne===oe||ne==null&&oe==null||wt(n,o,he,ne,f,oe)}function l0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RT(){if(typeof performance.getEntriesByType=="function"){for(var n=0,o=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var x=c[f],y=x.transferSize,T=x.initiatorType,k=x.duration;if(y&&k&&l0(T)){for(T=0,k=x.responseEnd,f+=1;f<c.length;f++){var V=c[f],ee=V.startTime;if(ee>k)break;var de=V.transferSize,he=V.initiatorType;de&&l0(he)&&(V=V.responseEnd,T+=de*(V<k?1:(k-ee)/(V-ee)))}if(--f,o+=8*(y+T)/(x.duration/1e3),n++,10<n)break}}if(0<n)return o/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var sp=null,op=null;function md(n){return n.nodeType===9?n:n.ownerDocument}function c0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d0(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function ap(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ip=null;function MT(){var n=window.event;return n&&n.type==="popstate"?n===ip?!1:(ip=n,!0):(ip=null,!1)}var u0=typeof setTimeout=="function"?setTimeout:void 0,OT=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,LT=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(n){return h0.resolve(null).then(n).catch(BT)}:u0;function BT(n){setTimeout(function(){throw n})}function ha(n){return n==="head"}function f0(n,o){var c=o,f=0;do{var x=c.nextSibling;if(n.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"||c==="/&"){if(f===0){n.removeChild(x),Ki(o);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")Sl(n.ownerDocument.documentElement);else if(c==="head"){c=n.ownerDocument.head,Sl(c);for(var y=c.firstChild;y;){var T=y.nextSibling,k=y.nodeName;y[zr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=T}}else c==="body"&&Sl(n.ownerDocument.body);c=x}while(c);Ki(o)}function p0(n,o){var c=n;n=0;do{var f=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(n===0)break;n--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||n++;c=f}while(c)}function rp(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":rp(c),uh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}n.removeChild(c)}}function IT(n,o,c,f){for(;n.nodeType===1;){var x=c;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[zr])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==x.rel||n.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||n.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||n.getAttribute("title")!==(x.title==null?null:x.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(x.src==null?null:x.src)||n.getAttribute("type")!==(x.type==null?null:x.type)||n.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var y=x.name==null?null:""+x.name;if(x.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=bs(n.nextSibling),n===null)break}return null}function FT(n,o,c){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!c||(n=bs(n.nextSibling),n===null))return null;return n}function m0(n,o){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=bs(n.nextSibling),n===null))return null;return n}function lp(n){return n.data==="$?"||n.data==="$~"}function cp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function zT(n,o){var c=n.ownerDocument;if(n.data==="$~")n._reactRetry=o;else if(n.data!=="$?"||c.readyState!=="loading")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function bs(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return n}var dp=null;function g0(n){n=n.nextSibling;for(var o=0;n;){if(n.nodeType===8){var c=n.data;if(c==="/$"||c==="/&"){if(o===0)return bs(n.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}n=n.nextSibling}return null}function x0(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var c=n.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return n;o--}else c!=="/$"&&c!=="/&"||o++}n=n.previousSibling}return null}function v0(n,o,c){switch(o=md(c),n){case"html":if(n=o.documentElement,!n)throw Error(s(452));return n;case"head":if(n=o.head,!n)throw Error(s(453));return n;case"body":if(n=o.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Sl(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);uh(n)}var ws=new Map,y0=new Set;function gd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Do=U.d;U.d={f:HT,r:UT,D:VT,C:$T,L:GT,m:qT,X:XT,S:YT,M:WT};function HT(){var n=Do.f(),o=rd();return n||o}function UT(n){var o=mi(n);o!==null&&o.tag===5&&o.type==="form"?Lv(o):Do.r(n)}var Yi=typeof document>"u"?null:document;function b0(n,o,c){var f=Yi;if(f&&typeof o=="string"&&o){var x=fs(o);x='link[rel="'+n+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),y0.has(x)||(y0.add(x),n={rel:n,crossOrigin:c,href:o},f.querySelector(x)===null&&(o=f.createElement("link"),bn(o,"link",n),cn(o),f.head.appendChild(o)))}}function VT(n){Do.D(n),b0("dns-prefetch",n,null)}function $T(n,o){Do.C(n,o),b0("preconnect",n,o)}function GT(n,o,c){Do.L(n,o,c);var f=Yi;if(f&&n&&o){var x='link[rel="preload"][as="'+fs(o)+'"]';o==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+fs(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+fs(c.imageSizes)+'"]')):x+='[href="'+fs(n)+'"]';var y=x;switch(o){case"style":y=Xi(n);break;case"script":y=Wi(n)}ws.has(y)||(n=m({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:n,as:o},c),ws.set(y,n),f.querySelector(x)!==null||o==="style"&&f.querySelector(Al(y))||o==="script"&&f.querySelector(Cl(y))||(o=f.createElement("link"),bn(o,"link",n),cn(o),f.head.appendChild(o)))}}function qT(n,o){Do.m(n,o);var c=Yi;if(c&&n){var f=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+fs(f)+'"][href="'+fs(n)+'"]',y=x;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Wi(n)}if(!ws.has(y)&&(n=m({rel:"modulepreload",href:n},o),ws.set(y,n),c.querySelector(x)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Cl(y)))return}f=c.createElement("link"),bn(f,"link",n),cn(f),c.head.appendChild(f)}}}function YT(n,o,c){Do.S(n,o,c);var f=Yi;if(f&&n){var x=gi(f).hoistableStyles,y=Xi(n);o=o||"default";var T=x.get(y);if(!T){var k={loading:0,preload:null};if(T=f.querySelector(Al(y)))k.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":o},c),(c=ws.get(y))&&up(n,c);var V=T=f.createElement("link");cn(V),bn(V,"link",n),V._p=new Promise(function(ee,de){V.onload=ee,V.onerror=de}),V.addEventListener("load",function(){k.loading|=1}),V.addEventListener("error",function(){k.loading|=2}),k.loading|=4,xd(T,o,f)}T={type:"stylesheet",instance:T,count:1,state:k},x.set(y,T)}}}function XT(n,o){Do.X(n,o);var c=Yi;if(c&&n){var f=gi(c).hoistableScripts,x=Wi(n),y=f.get(x);y||(y=c.querySelector(Cl(x)),y||(n=m({src:n,async:!0},o),(o=ws.get(x))&&hp(n,o),y=c.createElement("script"),cn(y),bn(y,"link",n),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(x,y))}}function WT(n,o){Do.M(n,o);var c=Yi;if(c&&n){var f=gi(c).hoistableScripts,x=Wi(n),y=f.get(x);y||(y=c.querySelector(Cl(x)),y||(n=m({src:n,async:!0,type:"module"},o),(o=ws.get(x))&&hp(n,o),y=c.createElement("script"),cn(y),bn(y,"link",n),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(x,y))}}function w0(n,o,c,f){var x=(x=le.current)?gd(x):null;if(!x)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Xi(c.href),c=gi(x).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){n=Xi(c.href);var y=gi(x).hoistableStyles,T=y.get(n);if(T||(x=x.ownerDocument||x,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,T),(y=x.querySelector(Al(n)))&&!y._p&&(T.instance=y,T.state.loading=5),ws.has(n)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ws.set(n,c),y||KT(x,n,c,T.state))),o&&f===null)throw Error(s(528,""));return T}if(o&&f!==null)throw Error(s(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Wi(c),c=gi(x).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Xi(n){return'href="'+fs(n)+'"'}function Al(n){return'link[rel="stylesheet"]['+n+"]"}function S0(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function KT(n,o,c,f){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=n.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),bn(o,"link",c),cn(o),n.head.appendChild(o))}function Wi(n){return'[src="'+fs(n)+'"]'}function Cl(n){return"script[async]"+n}function A0(n,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=n.querySelector('style[data-href~="'+fs(c.href)+'"]');if(f)return o.instance=f,cn(f),f;var x=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),cn(f),bn(f,"style",x),xd(f,c.precedence,n),o.instance=f;case"stylesheet":x=Xi(c.href);var y=n.querySelector(Al(x));if(y)return o.state.loading|=4,o.instance=y,cn(y),y;f=S0(c),(x=ws.get(x))&&up(f,x),y=(n.ownerDocument||n).createElement("link"),cn(y);var T=y;return T._p=new Promise(function(k,V){T.onload=k,T.onerror=V}),bn(y,"link",f),o.state.loading|=4,xd(y,c.precedence,n),o.instance=y;case"script":return y=Wi(c.src),(x=n.querySelector(Cl(y)))?(o.instance=x,cn(x),x):(f=c,(x=ws.get(y))&&(f=m({},c),hp(f,x)),n=n.ownerDocument||n,x=n.createElement("script"),cn(x),bn(x,"link",f),n.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,xd(f,c.precedence,n));return o.instance}function xd(n,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=f.length?f[f.length-1]:null,y=x,T=0;T<f.length;T++){var k=f[T];if(k.dataset.precedence===o)y=k;else if(y!==x)break}y?y.parentNode.insertBefore(n,y.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(n,o.firstChild))}function up(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function hp(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var vd=null;function C0(n,o,c){if(vd===null){var f=new Map,x=vd=new Map;x.set(c,f)}else x=vd,f=x.get(c),f||(f=new Map,x.set(c,f));if(f.has(n))return f;for(f.set(n,null),c=c.getElementsByTagName(n),x=0;x<c.length;x++){var y=c[x];if(!(y[zr]||y[gn]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(o)||"";T=n+T;var k=f.get(T);k?k.push(y):f.set(T,[y])}}return f}function E0(n,o,c){n=n.ownerDocument||n,n.head.insertBefore(c,o==="title"?n.querySelector("head > title"):null)}function QT(n,o,c){if(c===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(n=o.disabled,typeof o.precedence=="string"&&n==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function T0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function ZT(n,o,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=Xi(f.href),y=o.querySelector(Al(x));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(n.count++,n=yd.bind(n),o.then(n,n)),c.state.loading|=4,c.instance=y,cn(y);return}y=o.ownerDocument||o,f=S0(f),(x=ws.get(x))&&up(f,x),y=y.createElement("link"),cn(y);var T=y;T._p=new Promise(function(k,V){T.onload=k,T.onerror=V}),bn(y,"link",f),c.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(n.count++,c=yd.bind(n),o.addEventListener("load",c),o.addEventListener("error",c))}}var fp=0;function JT(n,o){return n.stylesheets&&n.count===0&&wd(n,n.stylesheets),0<n.count||0<n.imgCount?function(c){var f=setTimeout(function(){if(n.stylesheets&&wd(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+o);0<n.imgBytes&&fp===0&&(fp=62500*RT());var x=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&wd(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>fp?50:800)+o);return n.unsuspend=c,function(){n.unsuspend=null,clearTimeout(f),clearTimeout(x)}}:null}function yd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var bd=null;function wd(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,bd=new Map,o.forEach(e_,n),bd=null,yd.call(n))}function e_(n,o){if(!(o.state.loading&4)){var c=bd.get(n);if(c)var f=c.get(null);else{c=new Map,bd.set(n,c);for(var x=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<x.length;y++){var T=x[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),f=T)}f&&c.set(null,f)}x=o.instance,T=x.getAttribute("data-precedence"),y=c.get(T)||f,y===f&&c.set(null,x),c.set(T,x),this.count++,f=yd.bind(this),x.addEventListener("load",f),x.addEventListener("error",f),y?y.parentNode.insertBefore(x,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(x,n.firstChild)),o.state.loading|=4}}var El={$$typeof:N,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function t_(n,o,c,f,x,y,T,k,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.hiddenUpdates=xt(null),this.identifierPrefix=f,this.onUncaughtError=x,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function _0(n,o,c,f,x,y,T,k,V,ee,de,he){return n=new t_(n,o,c,T,V,ee,de,he,k),o=1,y===!0&&(o|=24),y=Wn(3,null,null,o),n.current=y,y.stateNode=n,o=Gh(),o.refCount++,n.pooledCache=o,o.refCount++,y.memoizedState={element:f,isDehydrated:c,cache:o},Wh(y),n}function N0(n){return n?(n=Ti,n):Ti}function P0(n,o,c,f,x,y){x=N0(x),f.context===null?f.context=x:f.pendingContext=x,f=ta(o),f.payload={element:c},y=y===void 0?null:y,y!==null&&(f.callback=y),c=na(n,f,o),c!==null&&(zn(c,n,o),sl(c,n,o))}function j0(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<o?c:o}}function pp(n,o){j0(n,o),(n=n.alternate)&&j0(n,o)}function D0(n){if(n.tag===13||n.tag===31){var o=Oa(n,67108864);o!==null&&zn(o,n,67108864),pp(n,67108864)}}function k0(n){if(n.tag===13||n.tag===31){var o=es();o=_s(o);var c=Oa(n,o);c!==null&&zn(c,n,o),pp(n,o)}}var Sd=!0;function n_(n,o,c,f){var x=D.T;D.T=null;var y=U.p;try{U.p=2,mp(n,o,c,f)}finally{U.p=y,D.T=x}}function s_(n,o,c,f){var x=D.T;D.T=null;var y=U.p;try{U.p=8,mp(n,o,c,f)}finally{U.p=y,D.T=x}}function mp(n,o,c,f){if(Sd){var x=gp(f);if(x===null)tp(n,o,f,Ad,c),M0(n,f);else if(a_(x,n,o,c,f))f.stopPropagation();else if(M0(n,f),o&4&&-1<o_.indexOf(n)){for(;x!==null;){var y=mi(x);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=us(y.pendingLanes);if(T!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;T;){var V=1<<31-rn(T);k.entanglements[1]|=V,T&=~V}qs(y),(pt&6)===0&&(ad=te()+500,yl(0))}}break;case 31:case 13:k=Oa(y,2),k!==null&&zn(k,y,2),rd(),pp(y,2)}if(y=gp(f),y===null&&tp(n,o,f,Ad,c),y===x)break;x=y}x!==null&&f.stopPropagation()}else tp(n,o,f,null,c)}}function gp(n){return n=xh(n),xp(n)}var Ad=null;function xp(n){if(Ad=null,n=pi(n),n!==null){var o=r(n);if(o===null)n=null;else{var c=o.tag;if(c===13){if(n=l(o),n!==null)return n;n=null}else if(c===31){if(n=d(o),n!==null)return n;n=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return Ad=n,null}function R0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ne()){case He:return 2;case dt:return 8;case Ct:case Jt:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var vp=!1,fa=null,pa=null,ma=null,Tl=new Map,_l=new Map,ga=[],o_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M0(n,o){switch(n){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":Tl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(o.pointerId)}}function Nl(n,o,c,f,x,y){return n===null||n.nativeEvent!==y?(n={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[x]},o!==null&&(o=mi(o),o!==null&&D0(o)),n):(n.eventSystemFlags|=f,o=n.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),n)}function a_(n,o,c,f,x){switch(o){case"focusin":return fa=Nl(fa,n,o,c,f,x),!0;case"dragenter":return pa=Nl(pa,n,o,c,f,x),!0;case"mouseover":return ma=Nl(ma,n,o,c,f,x),!0;case"pointerover":var y=x.pointerId;return Tl.set(y,Nl(Tl.get(y)||null,n,o,c,f,x)),!0;case"gotpointercapture":return y=x.pointerId,_l.set(y,Nl(_l.get(y)||null,n,o,c,f,x)),!0}return!1}function O0(n){var o=pi(n.target);if(o!==null){var c=r(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){n.blockedOn=o,Wg(n.priority,function(){k0(c)});return}}else if(o===31){if(o=d(c),o!==null){n.blockedOn=o,Wg(n.priority,function(){k0(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){n.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Cd(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var c=gp(n.nativeEvent);if(c===null){c=n.nativeEvent;var f=new c.constructor(c.type,c);gh=f,c.target.dispatchEvent(f),gh=null}else return o=mi(c),o!==null&&D0(o),n.blockedOn=c,!1;o.shift()}return!0}function L0(n,o,c){Cd(n)&&c.delete(o)}function i_(){vp=!1,fa!==null&&Cd(fa)&&(fa=null),pa!==null&&Cd(pa)&&(pa=null),ma!==null&&Cd(ma)&&(ma=null),Tl.forEach(L0),_l.forEach(L0)}function Ed(n,o){n.blockedOn===o&&(n.blockedOn=null,vp||(vp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,i_)))}var Td=null;function B0(n){Td!==n&&(Td=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Td===n&&(Td=null);for(var o=0;o<n.length;o+=3){var c=n[o],f=n[o+1],x=n[o+2];if(typeof f!="function"){if(xp(f||c)===null)continue;break}var y=mi(c);y!==null&&(n.splice(o,3),o-=3,gf(y,{pending:!0,data:x,method:c.method,action:f},f,x))}}))}function Ki(n){function o(V){return Ed(V,n)}fa!==null&&Ed(fa,n),pa!==null&&Ed(pa,n),ma!==null&&Ed(ma,n),Tl.forEach(o),_l.forEach(o);for(var c=0;c<ga.length;c++){var f=ga[c];f.blockedOn===n&&(f.blockedOn=null)}for(;0<ga.length&&(c=ga[0],c.blockedOn===null);)O0(c),c.blockedOn===null&&ga.shift();if(c=(n.ownerDocument||n).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var x=c[f],y=c[f+1],T=x[Mn]||null;if(typeof y=="function")T||B0(c);else if(T){var k=null;if(y&&y.hasAttribute("formAction")){if(x=y,T=y[Mn]||null)k=T.formAction;else if(xp(x)!==null)continue}else k=T.action;typeof k=="function"?c[f+1]=k:(c.splice(f,3),f-=3),B0(c)}}}function I0(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(T){return x=T})},focusReset:"manual",scroll:"manual"})}function o(){x!==null&&(x(),x=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,x=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),x!==null&&(x(),x=null)}}}function yp(n){this._internalRoot=n}_d.prototype.render=yp.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(s(409));var c=o.current,f=es();P0(c,f,n,o,null,null)},_d.prototype.unmount=yp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;P0(n.current,2,null,n,null,null),rd(),o[fi]=null}};function _d(n){this._internalRoot=n}_d.prototype.unstable_scheduleHydration=function(n){if(n){var o=ch();n={blockedOn:null,target:n,priority:o};for(var c=0;c<ga.length&&o!==0&&o<ga[c].priority;c++);ga.splice(c,0,n),c===0&&O0(n)}};var F0=e.version;if(F0!=="19.2.3")throw Error(s(527,F0,"19.2.3"));U.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(o),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var r_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{ho=Nd.inject(r_),mn=Nd}catch{}}return jl.createRoot=function(n,o){if(!a(n))throw Error(s(299));var c=!1,f="",x=qv,y=Yv,T=Xv;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=_0(n,1,!1,null,null,c,f,null,x,y,T,I0),n[fi]=o.current,ep(n),new yp(o)},jl.hydrateRoot=function(n,o,c){if(!a(n))throw Error(s(299));var f=!1,x="",y=qv,T=Yv,k=Xv,V=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.formState!==void 0&&(V=c.formState)),o=_0(n,1,!0,o,c??null,f,x,V,y,T,k,I0),o.context=N0(null),c=o.current,f=es(),f=_s(f),x=ta(f),x.callback=null,na(c,x,f),c=f,o.current.lanes=c,it(o,c),qs(o),n[fi]=o.current,ep(n),new _d(o)},jl.version="19.2.3",jl}var Q0;function x_(){if(Q0)return Ap.exports;Q0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ap.exports=g_(),Ap.exports}var v_=x_();function ye(i,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(i?.(a),t===!1||!a.defaultPrevented)return e?.(a)}}function y_(i,e){const t=b.createContext(e),s=r=>{const{children:l,...d}=r,h=b.useMemo(()=>d,Object.values(d));return u.jsx(t.Provider,{value:h,children:l})};s.displayName=i+"Provider";function a(r){const l=b.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${r}\` must be used within \`${i}\``)}return[s,a]}function rs(i,e=[]){let t=[];function s(r,l){const d=b.createContext(l),h=t.length;t=[...t,l];const p=m=>{const{scope:v,children:w,...A}=m,S=v?.[i]?.[h]||d,E=b.useMemo(()=>A,Object.values(A));return u.jsx(S.Provider,{value:E,children:w})};p.displayName=r+"Provider";function g(m,v){const w=v?.[i]?.[h]||d,A=b.useContext(w);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${r}\``)}return[p,g]}const a=()=>{const r=t.map(l=>b.createContext(l));return function(d){const h=d?.[i]||r;return b.useMemo(()=>({[`__scope${i}`]:{...d,[i]:h}}),[d,h])}};return a.scopeName=i,[s,b_(a,...e)]}function b_(...i){const e=i[0];if(i.length===1)return e;const t=()=>{const s=i.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(r){const l=s.reduce((d,{useScope:h,scopeName:p})=>{const m=h(r)[`__scope${p}`];return{...d,...m}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function Z0(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function $o(...i){return e=>{let t=!1;const s=i.map(a=>{const r=Z0(a,e);return!t&&typeof r=="function"&&(t=!0),r});if(t)return()=>{for(let a=0;a<s.length;a++){const r=s[a];typeof r=="function"?r():Z0(i[a],null)}}}}function qe(...i){return b.useCallback($o(...i),i)}function J0(i){const e=w_(i),t=b.forwardRef((s,a)=>{const{children:r,...l}=s,d=b.Children.toArray(r),h=d.find(A_);if(h){const p=h.props.children,g=d.map(m=>m===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:m);return u.jsx(e,{...l,ref:a,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return u.jsx(e,{...l,ref:a,children:r})});return t.displayName=`${i}.Slot`,t}function w_(i){const e=b.forwardRef((t,s)=>{const{children:a,...r}=t;if(b.isValidElement(a)){const l=E_(a),d=C_(r,a.props);return a.type!==b.Fragment&&(d.ref=s?$o(s,l):l),b.cloneElement(a,d)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var S_=Symbol("radix.slottable");function A_(i){return b.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===S_}function C_(i,e){const t={...e};for(const s in e){const a=i[s],r=e[s];/^on[A-Z]/.test(s)?a&&r?t[s]=(...d)=>{const h=r(...d);return a(...d),h}:a&&(t[s]=a):s==="style"?t[s]={...a,...r}:s==="className"&&(t[s]=[a,r].filter(Boolean).join(" "))}return{...i,...t}}function E_(i){let e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}function Cu(i){const e=i+"CollectionProvider",[t,s]=rs(e),[a,r]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:E,children:C}=S,_=me.useRef(null),N=me.useRef(new Map).current;return u.jsx(a,{scope:E,itemMap:N,collectionRef:_,children:C})};l.displayName=e;const d=i+"CollectionSlot",h=J0(d),p=me.forwardRef((S,E)=>{const{scope:C,children:_}=S,N=r(d,C),j=qe(E,N.collectionRef);return u.jsx(h,{ref:j,children:_})});p.displayName=d;const g=i+"CollectionItemSlot",m="data-radix-collection-item",v=J0(g),w=me.forwardRef((S,E)=>{const{scope:C,children:_,...N}=S,j=me.useRef(null),M=qe(E,j),L=r(g,C);return me.useEffect(()=>(L.itemMap.set(j,{ref:j,...N}),()=>{L.itemMap.delete(j)})),u.jsx(v,{[m]:"",ref:M,children:_})});w.displayName=g;function A(S){const E=r(i+"CollectionConsumer",S);return me.useCallback(()=>{const _=E.collectionRef.current;if(!_)return[];const N=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(E.itemMap.values()).sort((L,O)=>N.indexOf(L.ref.current)-N.indexOf(O.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:l,Slot:p,ItemSlot:w},A,s]}var En=globalThis?.document?b.useLayoutEffect:()=>{},T_=zm[" useId ".trim().toString()]||(()=>{}),__=0;function ao(i){const[e,t]=b.useState(T_());return En(()=>{t(s=>s??String(__++))},[i]),i||(e?`radix-${e}`:"")}var sc=Ub();const Vb=Im(sc);function N_(i){const e=P_(i),t=b.forwardRef((s,a)=>{const{children:r,...l}=s,d=b.Children.toArray(r),h=d.find(D_);if(h){const p=h.props.children,g=d.map(m=>m===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:m);return u.jsx(e,{...l,ref:a,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return u.jsx(e,{...l,ref:a,children:r})});return t.displayName=`${i}.Slot`,t}function P_(i){const e=b.forwardRef((t,s)=>{const{children:a,...r}=t;if(b.isValidElement(a)){const l=R_(a),d=k_(r,a.props);return a.type!==b.Fragment&&(d.ref=s?$o(s,l):l),b.cloneElement(a,d)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var j_=Symbol("radix.slottable");function D_(i){return b.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===j_}function k_(i,e){const t={...e};for(const s in e){const a=i[s],r=e[s];/^on[A-Z]/.test(s)?a&&r?t[s]=(...d)=>{const h=r(...d);return a(...d),h}:a&&(t[s]=a):s==="style"?t[s]={...a,...r}:s==="className"&&(t[s]=[a,r].filter(Boolean).join(" "))}return{...i,...t}}function R_(i){let e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}var M_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ie=M_.reduce((i,e)=>{const t=N_(`Primitive.${e}`),s=b.forwardRef((a,r)=>{const{asChild:l,...d}=a,h=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(h,{...d,ref:r})});return s.displayName=`Primitive.${e}`,{...i,[e]:s}},{});function $b(i,e){i&&sc.flushSync(()=>i.dispatchEvent(e))}function An(i){const e=b.useRef(i);return b.useEffect(()=>{e.current=i}),b.useMemo(()=>(...t)=>e.current?.(...t),[])}var O_=zm[" useInsertionEffect ".trim().toString()]||En;function Fo({prop:i,defaultProp:e,onChange:t=()=>{},caller:s}){const[a,r,l]=L_({defaultProp:e,onChange:t}),d=i!==void 0,h=d?i:a;{const g=b.useRef(i!==void 0);b.useEffect(()=>{const m=g.current;m!==d&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,s])}const p=b.useCallback(g=>{if(d){const m=B_(g)?g(i):g;m!==i&&l.current?.(m)}else r(g)},[d,i,r,l]);return[h,p]}function L_({defaultProp:i,onChange:e}){const[t,s]=b.useState(i),a=b.useRef(t),r=b.useRef(e);return O_(()=>{r.current=e},[e]),b.useEffect(()=>{a.current!==t&&(r.current?.(t),a.current=t)},[t,a]),[t,s,r]}function B_(i){return typeof i=="function"}var I_=b.createContext(void 0);function Nr(i){const e=b.useContext(I_);return i||e||"ltr"}var _p="rovingFocusGroup.onEntryFocus",F_={bubbles:!1,cancelable:!0},oc="RovingFocusGroup",[im,Gb,z_]=Cu(oc),[H_,Eu]=rs(oc,[z_]),[U_,V_]=H_(oc),qb=b.forwardRef((i,e)=>u.jsx(im.Provider,{scope:i.__scopeRovingFocusGroup,children:u.jsx(im.Slot,{scope:i.__scopeRovingFocusGroup,children:u.jsx($_,{...i,ref:e})})}));qb.displayName=oc;var $_=b.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:t,orientation:s,loop:a=!1,dir:r,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:g=!1,...m}=i,v=b.useRef(null),w=qe(e,v),A=Nr(r),[S,E]=Fo({prop:l,defaultProp:d??null,onChange:h,caller:oc}),[C,_]=b.useState(!1),N=An(p),j=Gb(t),M=b.useRef(!1),[L,O]=b.useState(0);return b.useEffect(()=>{const I=v.current;if(I)return I.addEventListener(_p,N),()=>I.removeEventListener(_p,N)},[N]),u.jsx(U_,{scope:t,orientation:s,dir:A,loop:a,currentTabStopId:S,onItemFocus:b.useCallback(I=>E(I),[E]),onItemShiftTab:b.useCallback(()=>_(!0),[]),onFocusableItemAdd:b.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:b.useCallback(()=>O(I=>I-1),[]),children:u.jsx(Ie.div,{tabIndex:C||L===0?-1:0,"data-orientation":s,...m,ref:w,style:{outline:"none",...i.style},onMouseDown:ye(i.onMouseDown,()=>{M.current=!0}),onFocus:ye(i.onFocus,I=>{const z=!M.current;if(I.target===I.currentTarget&&z&&!C){const $=new CustomEvent(_p,F_);if(I.currentTarget.dispatchEvent($),!$.defaultPrevented){const Y=j().filter(D=>D.focusable),se=Y.find(D=>D.active),re=Y.find(D=>D.id===S),fe=[se,re,...Y].filter(Boolean).map(D=>D.ref.current);Wb(fe,g)}}M.current=!1}),onBlur:ye(i.onBlur,()=>_(!1))})})}),Yb="RovingFocusGroupItem",Xb=b.forwardRef((i,e)=>{const{__scopeRovingFocusGroup:t,focusable:s=!0,active:a=!1,tabStopId:r,children:l,...d}=i,h=ao(),p=r||h,g=V_(Yb,t),m=g.currentTabStopId===p,v=Gb(t),{onFocusableItemAdd:w,onFocusableItemRemove:A,currentTabStopId:S}=g;return b.useEffect(()=>{if(s)return w(),()=>A()},[s,w,A]),u.jsx(im.ItemSlot,{scope:t,id:p,focusable:s,active:a,children:u.jsx(Ie.span,{tabIndex:m?0:-1,"data-orientation":g.orientation,...d,ref:e,onMouseDown:ye(i.onMouseDown,E=>{s?g.onItemFocus(p):E.preventDefault()}),onFocus:ye(i.onFocus,()=>g.onItemFocus(p)),onKeyDown:ye(i.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){g.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const C=Y_(E,g.orientation,g.dir);if(C!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let N=v().filter(j=>j.focusable).map(j=>j.ref.current);if(C==="last")N.reverse();else if(C==="prev"||C==="next"){C==="prev"&&N.reverse();const j=N.indexOf(E.currentTarget);N=g.loop?X_(N,j+1):N.slice(j+1)}setTimeout(()=>Wb(N))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:S!=null}):l})})});Xb.displayName=Yb;var G_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function q_(i,e){return e!=="rtl"?i:i==="ArrowLeft"?"ArrowRight":i==="ArrowRight"?"ArrowLeft":i}function Y_(i,e,t){const s=q_(i.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return G_[s]}function Wb(i,e=!1){const t=document.activeElement;for(const s of i)if(s===t||(s.focus({preventScroll:e}),document.activeElement!==t))return}function X_(i,e){return i.map((t,s)=>i[(e+s)%i.length])}var Kb=qb,Qb=Xb;function W_(i,e){return b.useReducer((t,s)=>e[t][s]??t,i)}var qn=i=>{const{present:e,children:t}=i,s=K_(e),a=typeof t=="function"?t({present:s.isPresent}):b.Children.only(t),r=qe(s.ref,Q_(a));return typeof t=="function"||s.isPresent?b.cloneElement(a,{ref:r}):null};qn.displayName="Presence";function K_(i){const[e,t]=b.useState(),s=b.useRef(null),a=b.useRef(i),r=b.useRef("none"),l=i?"mounted":"unmounted",[d,h]=W_(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=Pd(s.current);r.current=d==="mounted"?p:"none"},[d]),En(()=>{const p=s.current,g=a.current;if(g!==i){const v=r.current,w=Pd(p);i?h("MOUNT"):w==="none"||p?.display==="none"?h("UNMOUNT"):h(g&&v!==w?"ANIMATION_OUT":"UNMOUNT"),a.current=i}},[i,h]),En(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,m=w=>{const S=Pd(s.current).includes(CSS.escape(w.animationName));if(w.target===e&&S&&(h("ANIMATION_END"),!a.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},v=w=>{w.target===e&&(r.current=Pd(s.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:b.useCallback(p=>{s.current=p?getComputedStyle(p):null,t(p)},[])}}function Pd(i){return i?.animationName||"none"}function Q_(i){let e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}var Tu="Tabs",[Z_]=rs(Tu,[Eu]),Zb=Eu(),[J_,Hm]=Z_(Tu),Jb=b.forwardRef((i,e)=>{const{__scopeTabs:t,value:s,onValueChange:a,defaultValue:r,orientation:l="horizontal",dir:d,activationMode:h="automatic",...p}=i,g=Nr(d),[m,v]=Fo({prop:s,onChange:a,defaultProp:r??"",caller:Tu});return u.jsx(J_,{scope:t,baseId:ao(),value:m,onValueChange:v,orientation:l,dir:g,activationMode:h,children:u.jsx(Ie.div,{dir:g,"data-orientation":l,...p,ref:e})})});Jb.displayName=Tu;var ew="TabsList",tw=b.forwardRef((i,e)=>{const{__scopeTabs:t,loop:s=!0,...a}=i,r=Hm(ew,t),l=Zb(t);return u.jsx(Kb,{asChild:!0,...l,orientation:r.orientation,dir:r.dir,loop:s,children:u.jsx(Ie.div,{role:"tablist","aria-orientation":r.orientation,...a,ref:e})})});tw.displayName=ew;var nw="TabsTrigger",sw=b.forwardRef((i,e)=>{const{__scopeTabs:t,value:s,disabled:a=!1,...r}=i,l=Hm(nw,t),d=Zb(t),h=iw(l.baseId,s),p=rw(l.baseId,s),g=s===l.value;return u.jsx(Qb,{asChild:!0,...d,focusable:!a,active:g,children:u.jsx(Ie.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":p,"data-state":g?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:h,...r,ref:e,onMouseDown:ye(i.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?l.onValueChange(s):m.preventDefault()}),onKeyDown:ye(i.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(s)}),onFocus:ye(i.onFocus,()=>{const m=l.activationMode!=="manual";!g&&!a&&m&&l.onValueChange(s)})})})});sw.displayName=nw;var ow="TabsContent",aw=b.forwardRef((i,e)=>{const{__scopeTabs:t,value:s,forceMount:a,children:r,...l}=i,d=Hm(ow,t),h=iw(d.baseId,s),p=rw(d.baseId,s),g=s===d.value,m=b.useRef(g);return b.useEffect(()=>{const v=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(v)},[]),u.jsx(qn,{present:a||g,children:({present:v})=>u.jsx(Ie.div,{"data-state":g?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!v,id:p,tabIndex:0,...l,ref:e,style:{...i.style,animationDuration:m.current?"0s":void 0},children:v&&r})})});aw.displayName=ow;function iw(i,e){return`${i}-trigger-${e}`}function rw(i,e){return`${i}-content-${e}`}var eN=Jb,tN=tw,nN=sw,sN=aw;function lw(i){var e,t,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(e=0;e<a;e++)i[e]&&(t=lw(i[e]))&&(s&&(s+=" "),s+=t)}else for(t in i)i[t]&&(s&&(s+=" "),s+=t);return s}function Pr(){for(var i,e,t=0,s="",a=arguments.length;t<a;t++)(i=arguments[t])&&(e=lw(i))&&(s&&(s+=" "),s+=e);return s}const oN=(i,e)=>{const t=new Array(i.length+e.length);for(let s=0;s<i.length;s++)t[s]=i[s];for(let s=0;s<e.length;s++)t[i.length+s]=e[s];return t},aN=(i,e)=>({classGroupId:i,validator:e}),cw=(i=new Map,e=null,t)=>({nextPart:i,validators:e,classGroupId:t}),au="-",e1=[],iN="arbitrary..",rN=i=>{const e=cN(i),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=i;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return lN(l);const d=l.split(au),h=d[0]===""&&d.length>1?1:0;return dw(d,h,e)},getConflictingClassGroupIds:(l,d)=>{if(d){const h=s[l],p=t[l];return h?p?oN(p,h):h:p||e1}return t[l]||e1}}},dw=(i,e,t)=>{if(i.length-e===0)return t.classGroupId;const a=i[e],r=t.nextPart.get(a);if(r){const p=dw(i,e+1,r);if(p)return p}const l=t.validators;if(l===null)return;const d=e===0?i.join(au):i.slice(e).join(au),h=l.length;for(let p=0;p<h;p++){const g=l[p];if(g.validator(d))return g.classGroupId}},lN=i=>i.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=i.slice(1,-1),t=e.indexOf(":"),s=e.slice(0,t);return s?iN+s:void 0})(),cN=i=>{const{theme:e,classGroups:t}=i;return dN(t,e)},dN=(i,e)=>{const t=cw();for(const s in i){const a=i[s];Um(a,t,s,e)}return t},Um=(i,e,t,s)=>{const a=i.length;for(let r=0;r<a;r++){const l=i[r];uN(l,e,t,s)}},uN=(i,e,t,s)=>{if(typeof i=="string"){hN(i,e,t);return}if(typeof i=="function"){fN(i,e,t,s);return}pN(i,e,t,s)},hN=(i,e,t)=>{const s=i===""?e:uw(e,i);s.classGroupId=t},fN=(i,e,t,s)=>{if(mN(i)){Um(i(s),e,t,s);return}e.validators===null&&(e.validators=[]),e.validators.push(aN(t,i))},pN=(i,e,t,s)=>{const a=Object.entries(i),r=a.length;for(let l=0;l<r;l++){const[d,h]=a[l];Um(h,uw(e,d),t,s)}},uw=(i,e)=>{let t=i;const s=e.split(au),a=s.length;for(let r=0;r<a;r++){const l=s[r];let d=t.nextPart.get(l);d||(d=cw(),t.nextPart.set(l,d)),t=d}return t},mN=i=>"isThemeGetter"in i&&i.isThemeGetter===!0,gN=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),s=Object.create(null);const a=(r,l)=>{t[r]=l,e++,e>i&&(e=0,s=t,t=Object.create(null))};return{get(r){let l=t[r];if(l!==void 0)return l;if((l=s[r])!==void 0)return a(r,l),l},set(r,l){r in t?t[r]=l:a(r,l)}}},rm="!",t1=":",xN=[],n1=(i,e,t,s,a)=>({modifiers:i,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:s,isExternal:a}),vN=i=>{const{prefix:e,experimentalParseClassName:t}=i;let s=a=>{const r=[];let l=0,d=0,h=0,p;const g=a.length;for(let S=0;S<g;S++){const E=a[S];if(l===0&&d===0){if(E===t1){r.push(a.slice(h,S)),h=S+1;continue}if(E==="/"){p=S;continue}}E==="["?l++:E==="]"?l--:E==="("?d++:E===")"&&d--}const m=r.length===0?a:a.slice(h);let v=m,w=!1;m.endsWith(rm)?(v=m.slice(0,-1),w=!0):m.startsWith(rm)&&(v=m.slice(1),w=!0);const A=p&&p>h?p-h:void 0;return n1(r,w,v,A)};if(e){const a=e+t1,r=s;s=l=>l.startsWith(a)?r(l.slice(a.length)):n1(xN,!1,l,void 0,!0)}if(t){const a=s;s=r=>t({className:r,parseClassName:a})}return s},yN=i=>{const e=new Map;return i.orderSensitiveModifiers.forEach((t,s)=>{e.set(t,1e6+s)}),t=>{const s=[];let a=[];for(let r=0;r<t.length;r++){const l=t[r],d=l[0]==="[",h=e.has(l);d||h?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(l)):a.push(l)}return a.length>0&&(a.sort(),s.push(...a)),s}},bN=i=>({cache:gN(i.cacheSize),parseClassName:vN(i),sortModifiers:yN(i),...rN(i)}),wN=/\s+/,SN=(i,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:r}=e,l=[],d=i.trim().split(wN);let h="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{isExternal:m,modifiers:v,hasImportantModifier:w,baseClassName:A,maybePostfixModifierPosition:S}=t(g);if(m){h=g+(h.length>0?" "+h:h);continue}let E=!!S,C=s(E?A.substring(0,S):A);if(!C){if(!E){h=g+(h.length>0?" "+h:h);continue}if(C=s(A),!C){h=g+(h.length>0?" "+h:h);continue}E=!1}const _=v.length===0?"":v.length===1?v[0]:r(v).join(":"),N=w?_+rm:_,j=N+C;if(l.indexOf(j)>-1)continue;l.push(j);const M=a(C,E);for(let L=0;L<M.length;++L){const O=M[L];l.push(N+O)}h=g+(h.length>0?" "+h:h)}return h},AN=(...i)=>{let e=0,t,s,a="";for(;e<i.length;)(t=i[e++])&&(s=hw(t))&&(a&&(a+=" "),a+=s);return a},hw=i=>{if(typeof i=="string")return i;let e,t="";for(let s=0;s<i.length;s++)i[s]&&(e=hw(i[s]))&&(t&&(t+=" "),t+=e);return t},CN=(i,...e)=>{let t,s,a,r;const l=h=>{const p=e.reduce((g,m)=>m(g),i());return t=bN(p),s=t.cache.get,a=t.cache.set,r=d,d(h)},d=h=>{const p=s(h);if(p)return p;const g=SN(h,t);return a(h,g),g};return r=l,(...h)=>r(AN(...h))},EN=[],tn=i=>{const e=t=>t[i]||EN;return e.isThemeGetter=!0,e},fw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,pw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,TN=/^\d+\/\d+$/,_N=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,jN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qi=i=>TN.test(i),et=i=>!!i&&!Number.isNaN(Number(i)),va=i=>!!i&&Number.isInteger(Number(i)),Np=i=>i.endsWith("%")&&et(i.slice(0,-1)),ko=i=>_N.test(i),kN=()=>!0,RN=i=>NN.test(i)&&!PN.test(i),mw=()=>!1,MN=i=>jN.test(i),ON=i=>DN.test(i),LN=i=>!Pe(i)&&!je(i),BN=i=>jr(i,vw,mw),Pe=i=>fw.test(i),Xa=i=>jr(i,yw,RN),Pp=i=>jr(i,UN,et),s1=i=>jr(i,gw,mw),IN=i=>jr(i,xw,ON),jd=i=>jr(i,bw,MN),je=i=>pw.test(i),Dl=i=>Dr(i,yw),FN=i=>Dr(i,VN),o1=i=>Dr(i,gw),zN=i=>Dr(i,vw),HN=i=>Dr(i,xw),Dd=i=>Dr(i,bw,!0),jr=(i,e,t)=>{const s=fw.exec(i);return s?s[1]?e(s[1]):t(s[2]):!1},Dr=(i,e,t=!1)=>{const s=pw.exec(i);return s?s[1]?e(s[1]):t:!1},gw=i=>i==="position"||i==="percentage",xw=i=>i==="image"||i==="url",vw=i=>i==="length"||i==="size"||i==="bg-size",yw=i=>i==="length",UN=i=>i==="number",VN=i=>i==="family-name",bw=i=>i==="shadow",$N=()=>{const i=tn("color"),e=tn("font"),t=tn("text"),s=tn("font-weight"),a=tn("tracking"),r=tn("leading"),l=tn("breakpoint"),d=tn("container"),h=tn("spacing"),p=tn("radius"),g=tn("shadow"),m=tn("inset-shadow"),v=tn("text-shadow"),w=tn("drop-shadow"),A=tn("blur"),S=tn("perspective"),E=tn("aspect"),C=tn("ease"),_=tn("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...j(),je,Pe],L=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],I=()=>[je,Pe,h],z=()=>[Qi,"full","auto",...I()],$=()=>[va,"none","subgrid",je,Pe],Y=()=>["auto",{span:["full",va,je,Pe]},va,je,Pe],se=()=>[va,"auto",je,Pe],re=()=>["auto","min","max","fr",je,Pe],ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],fe=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...I()],U=()=>[Qi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],H=()=>[i,je,Pe],F=()=>[...j(),o1,s1,{position:[je,Pe]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",zN,BN,{size:[je,Pe]}],R=()=>[Np,Dl,Xa],B=()=>["","none","full",p,je,Pe],q=()=>["",et,Dl,Xa],X=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>[et,Np,o1,s1],ce=()=>["","none",A,je,Pe],pe=()=>["none",et,je,Pe],Ae=()=>["none",et,je,Pe],ve=()=>[et,je,Pe],_e=()=>[Qi,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ko],breakpoint:[ko],color:[kN],container:[ko],"drop-shadow":[ko],ease:["in","out","in-out"],font:[LN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ko],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ko],shadow:[ko],spacing:["px",et],text:[ko],"text-shadow":[ko],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qi,Pe,je,E]}],container:["container"],columns:[{columns:[et,Pe,je,d]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[va,"auto",je,Pe]}],basis:[{basis:[Qi,"full","auto",d,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[et,Qi,"auto","initial","none",Pe]}],grow:[{grow:["",et,je,Pe]}],shrink:[{shrink:["",et,je,Pe]}],order:[{order:[va,"first","last","none",je,Pe]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...ae(),"normal"]}],"justify-items":[{"justify-items":[...fe(),"normal"]}],"justify-self":[{"justify-self":["auto",...fe()]}],"align-content":[{content:["normal",...ae()]}],"align-items":[{items:[...fe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...fe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ae()}],"place-items":[{"place-items":[...fe(),"baseline"]}],"place-self":[{"place-self":["auto",...fe()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[d,"screen",...U()]}],"min-w":[{"min-w":[d,"screen","none",...U()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",t,Dl,Xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,je,Pp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Np,Pe]}],"font-family":[{font:[FN,Pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,je,Pe]}],"line-clamp":[{"line-clamp":[et,"none",je,Pp]}],leading:[{leading:[r,...I()]}],"list-image":[{"list-image":["none",je,Pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,Pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:[et,"from-font","auto",je,Xa]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[et,"auto",je,Pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},va,je,Pe],radial:["",je,Pe],conic:[va,je,Pe]},HN,IN]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:R()}],"gradient-via-pos":[{via:R()}],"gradient-to-pos":[{to:R()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...X(),"hidden","none"]}],"divide-style":[{divide:[...X(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...X(),"none","hidden"]}],"outline-offset":[{"outline-offset":[et,je,Pe]}],"outline-w":[{outline:["",et,Dl,Xa]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",g,Dd,jd]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",m,Dd,jd]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[et,Xa]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",v,Dd,jd]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[et,je,Pe]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[et]}],"mask-image-linear-from-pos":[{"mask-linear-from":Z()}],"mask-image-linear-to-pos":[{"mask-linear-to":Z()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":Z()}],"mask-image-t-to-pos":[{"mask-t-to":Z()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":Z()}],"mask-image-r-to-pos":[{"mask-r-to":Z()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":Z()}],"mask-image-b-to-pos":[{"mask-b-to":Z()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":Z()}],"mask-image-l-to-pos":[{"mask-l-to":Z()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":Z()}],"mask-image-x-to-pos":[{"mask-x-to":Z()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":Z()}],"mask-image-y-to-pos":[{"mask-y-to":Z()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[je,Pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Z()}],"mask-image-radial-to-pos":[{"mask-radial-to":Z()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[et]}],"mask-image-conic-from-pos":[{"mask-conic-from":Z()}],"mask-image-conic-to-pos":[{"mask-conic-to":Z()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,Pe]}],filter:[{filter:["","none",je,Pe]}],blur:[{blur:ce()}],brightness:[{brightness:[et,je,Pe]}],contrast:[{contrast:[et,je,Pe]}],"drop-shadow":[{"drop-shadow":["","none",w,Dd,jd]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",et,je,Pe]}],"hue-rotate":[{"hue-rotate":[et,je,Pe]}],invert:[{invert:["",et,je,Pe]}],saturate:[{saturate:[et,je,Pe]}],sepia:[{sepia:["",et,je,Pe]}],"backdrop-filter":[{"backdrop-filter":["","none",je,Pe]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[et,je,Pe]}],"backdrop-contrast":[{"backdrop-contrast":[et,je,Pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",et,je,Pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[et,je,Pe]}],"backdrop-invert":[{"backdrop-invert":["",et,je,Pe]}],"backdrop-opacity":[{"backdrop-opacity":[et,je,Pe]}],"backdrop-saturate":[{"backdrop-saturate":[et,je,Pe]}],"backdrop-sepia":[{"backdrop-sepia":["",et,je,Pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,Pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[et,"initial",je,Pe]}],ease:[{ease:["linear","initial",C,je,Pe]}],delay:[{delay:[et,je,Pe]}],animate:[{animate:["none",_,je,Pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,je,Pe]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:pe()}],"rotate-x":[{"rotate-x":pe()}],"rotate-y":[{"rotate-y":pe()}],"rotate-z":[{"rotate-z":pe()}],scale:[{scale:Ae()}],"scale-x":[{"scale-x":Ae()}],"scale-y":[{"scale-y":Ae()}],"scale-z":[{"scale-z":Ae()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[je,Pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_e()}],"translate-x":[{"translate-x":_e()}],"translate-y":[{"translate-y":_e()}],"translate-z":[{"translate-z":_e()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,Pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,Pe]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[et,Dl,Xa,Pp]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},GN=CN($N);function Ge(...i){return GN(Pr(i))}function Vm({className:i,...e}){return u.jsx(eN,{"code-path":"src\\components\\ui\\tabs.tsx:13:5","data-slot":"tabs",className:Ge("flex flex-col gap-2",i),...e})}function ww({className:i,...e}){return u.jsx(tN,{"code-path":"src\\components\\ui\\tabs.tsx:26:5","data-slot":"tabs-list",className:Ge("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",i),...e})}function ir({className:i,...e}){return u.jsx(nN,{"code-path":"src\\components\\ui\\tabs.tsx:42:5","data-slot":"tabs-trigger",className:Ge("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...e})}function Ms({className:i,...e}){return u.jsx(sN,{"code-path":"src\\components\\ui\\tabs.tsx:58:5","data-slot":"tabs-content",className:Ge("flex-1 outline-none",i),...e})}const qN=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YN=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),a1=i=>{const e=YN(i);return e.charAt(0).toUpperCase()+e.slice(1)},Sw=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),XN=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var WN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KN=b.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:r,iconNode:l,...d},h)=>b.createElement("svg",{ref:h,...WN,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:Sw("lucide",a),...!r&&!XN(d)&&{"aria-hidden":"true"},...d},[...l.map(([p,g])=>b.createElement(p,g)),...Array.isArray(r)?r:[r]]));const we=(i,e)=>{const t=b.forwardRef(({className:s,...a},r)=>b.createElement(KN,{ref:r,iconNode:e,className:Sw(`lucide-${qN(a1(i))}`,`lucide-${i}`,s),...a}));return t.displayName=a1(i),t};const QN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ZN=we("arrow-left",QN);const JN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],kr=we("book-open",JN);const eP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],tP=we("calendar-days",eP);const nP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gr=we("calendar",nP);const sP=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],oP=we("chart-pie",sP);const aP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Aw=we("check",aP);const iP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$m=we("chevron-down",iP);const rP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],xr=we("chevron-left",rP);const lP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],iu=we("chevron-right",lP);const cP=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Cw=we("chevron-up",cP);const dP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ew=we("circle-check-big",dP);const uP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Tw=we("circle-check",uP);const hP=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fP=we("circle-play",hP);const pP=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],mP=we("clipboard-list",pP);const gP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lm=we("clock",gP);const xP=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],i1=we("cloud-rain",xP);const vP=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],yP=we("cloud-upload",vP);const bP=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],_w=we("code-xml",bP);const wP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],vr=we("download",wP);const SP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],yr=we("ellipsis-vertical",SP);const AP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],r1=we("eye",AP);const CP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],l1=we("file-code",CP);const EP=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],TP=we("file-down",EP);const _P=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wa=we("file-text",_P);const NP=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],Nw=we("folder-kanban",NP);const PP=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Pw=we("folder",PP);const jP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],DP=we("image",jP);const kP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],RP=we("info",kP);const MP=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],OP=we("layout-grid",MP);const LP=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],BP=we("library",LP);const IP=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],jp=we("lightbulb",IP);const FP=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],zP=we("list-todo",FP);const HP=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],c1=we("list",HP);const UP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],VP=we("loader-circle",UP);const $P=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],jw=we("maximize-2",$P);const GP=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],_u=we("message-square",GP);const qP=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],YP=we("minimize-2",qP);const XP=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Dw=we("monitor",XP);const WP=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Dp=we("music",WP);const KP=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],QP=we("newspaper",KP);const ZP=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],JP=we("octagon-x",ZP);const ej=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],kw=we("pause",ej);const tj=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],d1=we("pen-line",tj);const nj=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ul=we("pen",nj);const sj=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Rw=we("play",sj);const oj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ls=we("plus",oj);const aj=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ij=we("printer",aj);const rj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lj=we("refresh-cw",rj);const cj=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dj=we("rotate-ccw",cj);const uj=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],u1=we("rotate-cw",uj);const hj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],h1=we("save",hj);const fj=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Kd=we("scroll-text",fj);const pj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Mw=we("search",pj);const mj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nu=we("settings",mj);const gj=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],xj=we("sliders-horizontal",gj);const vj=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],yj=we("smartphone",vj);const bj=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ow=we("star",bj);const wj=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],Sj=we("text-align-center",wj);const Aj=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],Cj=we("text-align-end",Aj);const Ej=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],Tj=we("text-align-start",Ej);const _j=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Nj=we("timer",_j);const Pj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],io=we("trash-2",Pj);const jj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qd=we("triangle-alert",jj);const Dj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Gl=we("upload",Dj);const kj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rj=we("user",kj);const Mj=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],f1=we("volume-2",Mj);const Oj=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],p1=we("volume-x",Oj);const Lj=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],m1=we("waves",Lj);const Bj=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],g1=we("wind",Bj);const Ij=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cn=we("x",Ij);const Fj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],kp=we("zoom-in",Fj);const zj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Rp=we("zoom-out",zj);var Hj=(i,e,t,s,a,r,l,d)=>{let h=document.documentElement,p=["light","dark"];function g(w){(Array.isArray(i)?i:[i]).forEach(A=>{let S=A==="class",E=S&&r?a.map(C=>r[C]||C):a;S?(h.classList.remove(...E),h.classList.add(r&&r[w]?r[w]:w)):h.setAttribute(A,w)}),m(w)}function m(w){d&&p.includes(w)&&(h.style.colorScheme=w)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)g(s);else try{let w=localStorage.getItem(e)||t,A=l&&w==="system"?v():w;g(A)}catch{}},Uj=b.createContext(void 0),Vj={setTheme:i=>{},themes:[]},$j=()=>{var i;return(i=b.useContext(Uj))!=null?i:Vj};b.memo(({forcedTheme:i,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:a,defaultTheme:r,value:l,themes:d,nonce:h,scriptProps:p})=>{let g=JSON.stringify([t,e,r,i,d,l,s,a]).slice(1,-1);return b.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${Hj.toString()})(${g})`}})});function Gj(i){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i))}const qj=i=>{switch(i){case"success":return Wj;case"info":return Qj;case"warning":return Kj;case"error":return Zj;default:return null}},Yj=Array(12).fill(0),Xj=({visible:i,className:e})=>me.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":i},me.createElement("div",{className:"sonner-spinner"},Yj.map((t,s)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Wj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Kj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Qj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Zj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Jj=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eD=()=>{const[i,e]=me.useState(document.hidden);return me.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),i};let cm=1;class tD{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:s,...a}=e,r=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:cm++,l=this.toasts.find(h=>h.id===r),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),l?this.toasts=this.toasts.map(h=>h.id===r?(this.publish({...h,...e,id:r,title:s}),{...h,...e,id:r,dismissible:d,title:s}):h):this.addToast({title:s,...a,dismissible:d,id:r}),r},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let r=s!==void 0,l;const d=a.then(async p=>{if(l=["resolve",p],me.isValidElement(p))r=!1,this.create({id:s,type:"default",message:p});else if(sD(p)&&!p.ok){r=!1;const m=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,v=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,A=typeof m=="object"&&!me.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:v,...A})}else if(p instanceof Error){r=!1;const m=typeof t.error=="function"?await t.error(p):t.error,v=typeof t.description=="function"?await t.description(p):t.description,A=typeof m=="object"&&!me.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:v,...A})}else if(t.success!==void 0){r=!1;const m=typeof t.success=="function"?await t.success(p):t.success,v=typeof t.description=="function"?await t.description(p):t.description,A=typeof m=="object"&&!me.isValidElement(m)?m:{message:m};this.create({id:s,type:"success",description:v,...A})}}).catch(async p=>{if(l=["reject",p],t.error!==void 0){r=!1;const g=typeof t.error=="function"?await t.error(p):t.error,m=typeof t.description=="function"?await t.description(p):t.description,w=typeof g=="object"&&!me.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:m,...w})}}).finally(()=>{r&&(this.dismiss(s),s=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((p,g)=>d.then(()=>l[0]==="reject"?g(l[1]):p(l[1])).catch(g));return typeof s!="string"&&typeof s!="number"?{unwrap:h}:Object.assign(s,{unwrap:h})},this.custom=(e,t)=>{const s=t?.id||cm++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Vn=new tD,nD=(i,e)=>{const t=e?.id||cm++;return Vn.addToast({title:i,...e,id:t}),t},sD=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",oD=nD,aD=()=>Vn.toasts,iD=()=>Vn.getActiveToasts(),be=Object.assign(oD,{success:Vn.success,info:Vn.info,warning:Vn.warning,error:Vn.error,custom:Vn.custom,message:Vn.message,promise:Vn.promise,dismiss:Vn.dismiss,loading:Vn.loading},{getHistory:aD,getToasts:iD});Gj("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function kd(i){return i.label!==void 0}const rD=3,lD="24px",cD="16px",x1=4e3,dD=356,uD=14,hD=45,fD=200;function Ws(...i){return i.filter(Boolean).join(" ")}function pD(i){const[e,t]=i.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}const mD=i=>{var e,t,s,a,r,l,d,h,p;const{invert:g,toast:m,unstyled:v,interacting:w,setHeights:A,visibleToasts:S,heights:E,index:C,toasts:_,expanded:N,removeToast:j,defaultRichColors:M,closeButton:L,style:O,cancelButtonStyle:I,actionButtonStyle:z,className:$="",descriptionClassName:Y="",duration:se,position:re,gap:ae,expandByDefault:fe,classNames:D,icons:U,closeButtonAriaLabel:H="Close toast"}=i,[F,K]=me.useState(null),[P,R]=me.useState(null),[B,q]=me.useState(!1),[X,le]=me.useState(!1),[Z,ce]=me.useState(!1),[pe,Ae]=me.useState(!1),[ve,_e]=me.useState(!1),[Oe,ke]=me.useState(0),[Q,Se]=me.useState(0),Le=me.useRef(m.duration||se||x1),Je=me.useRef(null),ct=me.useRef(null),mt=C===0,Bt=C+1<=S,gt=m.type,xe=m.dismissible!==!1,te=m.className||"",Ne=m.descriptionClassName||"",He=me.useMemo(()=>E.findIndex($e=>$e.toastId===m.id)||0,[E,m.id]),dt=me.useMemo(()=>{var $e;return($e=m.closeButton)!=null?$e:L},[m.closeButton,L]),Ct=me.useMemo(()=>m.duration||se||x1,[m.duration,se]),Jt=me.useRef(0),Rt=me.useRef(0),ls=me.useRef(0),cs=me.useRef(null),[ho,mn]=re.split("-"),Yn=me.useMemo(()=>E.reduce(($e,ge,Fe)=>Fe>=He?$e:$e+ge.height,0),[E,He]),rn=eD(),Fr=m.invert||g,ja=gt==="loading";Rt.current=me.useMemo(()=>He*ae+Yn,[He,Yn]),me.useEffect(()=>{Le.current=Ct},[Ct]),me.useEffect(()=>{q(!0)},[]),me.useEffect(()=>{const $e=ct.current;if($e){const ge=$e.getBoundingClientRect().height;return Se(ge),A(Fe=>[{toastId:m.id,height:ge,position:m.position},...Fe]),()=>A(Fe=>Fe.filter(Ue=>Ue.toastId!==m.id))}},[A,m.id]),me.useLayoutEffect(()=>{if(!B)return;const $e=ct.current,ge=$e.style.height;$e.style.height="auto";const Fe=$e.getBoundingClientRect().height;$e.style.height=ge,Se(Fe),A(Ue=>Ue.find(it=>it.toastId===m.id)?Ue.map(it=>it.toastId===m.id?{...it,height:Fe}:it):[{toastId:m.id,height:Fe,position:m.position},...Ue])},[B,m.title,m.description,A,m.id,m.jsx,m.action,m.cancel]);const ds=me.useCallback(()=>{le(!0),ke(Rt.current),A($e=>$e.filter(ge=>ge.toastId!==m.id)),setTimeout(()=>{j(m)},fD)},[m,j,A,Rt]);me.useEffect(()=>{if(m.promise&&gt==="loading"||m.duration===1/0||m.type==="loading")return;let $e;return N||w||rn?(()=>{if(ls.current<Jt.current){const Ue=new Date().getTime()-Jt.current;Le.current=Le.current-Ue}ls.current=new Date().getTime()})():Le.current!==1/0&&(Jt.current=new Date().getTime(),$e=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),ds()},Le.current)),()=>clearTimeout($e)},[N,w,m,gt,rn,ds]),me.useEffect(()=>{m.delete&&(ds(),m.onDismiss==null||m.onDismiss.call(m,m))},[ds,m.delete]);function qo(){var $e;if(U?.loading){var ge;return me.createElement("div",{className:Ws(D?.loader,m==null||(ge=m.classNames)==null?void 0:ge.loader,"sonner-loader"),"data-visible":gt==="loading"},U.loading)}return me.createElement(Xj,{className:Ws(D?.loader,m==null||($e=m.classNames)==null?void 0:$e.loader),visible:gt==="loading"})}const Yo=m.icon||U?.[gt]||qj(gt);var fo,us;return me.createElement("li",{tabIndex:0,ref:ct,className:Ws($,te,D?.toast,m==null||(e=m.classNames)==null?void 0:e.toast,D?.default,D?.[gt],m==null||(t=m.classNames)==null?void 0:t[gt]),"data-sonner-toast":"","data-rich-colors":(fo=m.richColors)!=null?fo:M,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":B,"data-promise":!!m.promise,"data-swiped":ve,"data-removed":X,"data-visible":Bt,"data-y-position":ho,"data-x-position":mn,"data-index":C,"data-front":mt,"data-swiping":Z,"data-dismissible":xe,"data-type":gt,"data-invert":Fr,"data-swipe-out":pe,"data-swipe-direction":P,"data-expanded":!!(N||fe&&B),"data-testid":m.testId,style:{"--index":C,"--toasts-before":C,"--z-index":_.length-C,"--offset":`${X?Oe:Rt.current}px`,"--initial-height":fe?"auto":`${Q}px`,...O,...m.style},onDragEnd:()=>{ce(!1),K(null),cs.current=null},onPointerDown:$e=>{$e.button!==2&&(ja||!xe||(Je.current=new Date,ke(Rt.current),$e.target.setPointerCapture($e.pointerId),$e.target.tagName!=="BUTTON"&&(ce(!0),cs.current={x:$e.clientX,y:$e.clientY})))},onPointerUp:()=>{var $e,ge,Fe;if(pe||!xe)return;cs.current=null;const Ue=Number((($e=ct.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xt=Number(((ge=ct.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),it=new Date().getTime()-((Fe=Je.current)==null?void 0:Fe.getTime()),Tn=F==="x"?Ue:xt,Us=Math.abs(Tn)/it;if(Math.abs(Tn)>=hD||Us>.11){ke(Rt.current),m.onDismiss==null||m.onDismiss.call(m,m),R(F==="x"?Ue>0?"right":"left":xt>0?"down":"up"),ds(),Ae(!0);return}else{var ln,zt;(ln=ct.current)==null||ln.style.setProperty("--swipe-amount-x","0px"),(zt=ct.current)==null||zt.style.setProperty("--swipe-amount-y","0px")}_e(!1),ce(!1),K(null)},onPointerMove:$e=>{var ge,Fe,Ue;if(!cs.current||!xe||((ge=window.getSelection())==null?void 0:ge.toString().length)>0)return;const it=$e.clientY-cs.current.y,Tn=$e.clientX-cs.current.x;var Us;const ln=(Us=i.swipeDirections)!=null?Us:pD(re);!F&&(Math.abs(Tn)>1||Math.abs(it)>1)&&K(Math.abs(Tn)>Math.abs(it)?"x":"y");let zt={x:0,y:0};const _s=Ns=>1/(1.5+Math.abs(Ns)/20);if(F==="y"){if(ln.includes("top")||ln.includes("bottom"))if(ln.includes("top")&&it<0||ln.includes("bottom")&&it>0)zt.y=it;else{const Ns=it*_s(it);zt.y=Math.abs(Ns)<Math.abs(it)?Ns:it}}else if(F==="x"&&(ln.includes("left")||ln.includes("right")))if(ln.includes("left")&&Tn<0||ln.includes("right")&&Tn>0)zt.x=Tn;else{const Ns=Tn*_s(Tn);zt.x=Math.abs(Ns)<Math.abs(Tn)?Ns:Tn}(Math.abs(zt.x)>0||Math.abs(zt.y)>0)&&_e(!0),(Fe=ct.current)==null||Fe.style.setProperty("--swipe-amount-x",`${zt.x}px`),(Ue=ct.current)==null||Ue.style.setProperty("--swipe-amount-y",`${zt.y}px`)}},dt&&!m.jsx&&gt!=="loading"?me.createElement("button",{"aria-label":H,"data-disabled":ja,"data-close-button":!0,onClick:ja||!xe?()=>{}:()=>{ds(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Ws(D?.closeButton,m==null||(s=m.classNames)==null?void 0:s.closeButton)},(us=U?.close)!=null?us:Jj):null,(gt||m.icon||m.promise)&&m.icon!==null&&(U?.[gt]!==null||m.icon)?me.createElement("div",{"data-icon":"",className:Ws(D?.icon,m==null||(a=m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||qo():null,m.type!=="loading"?Yo:null):null,me.createElement("div",{"data-content":"",className:Ws(D?.content,m==null||(r=m.classNames)==null?void 0:r.content)},me.createElement("div",{"data-title":"",className:Ws(D?.title,m==null||(l=m.classNames)==null?void 0:l.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?me.createElement("div",{"data-description":"",className:Ws(Y,Ne,D?.description,m==null||(d=m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),me.isValidElement(m.cancel)?m.cancel:m.cancel&&kd(m.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:$e=>{kd(m.cancel)&&xe&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,$e),ds())},className:Ws(D?.cancelButton,m==null||(h=m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,me.isValidElement(m.action)?m.action:m.action&&kd(m.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||z,onClick:$e=>{kd(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,$e),!$e.defaultPrevented&&ds())},className:Ws(D?.actionButton,m==null||(p=m.classNames)==null?void 0:p.actionButton)},m.action.label):null)};function v1(){if(typeof window>"u"||typeof document>"u")return"ltr";const i=document.documentElement.getAttribute("dir");return i==="auto"||!i?window.getComputedStyle(document.documentElement).direction:i}function gD(i,e){const t={};return[i,e].forEach((s,a)=>{const r=a===1,l=r?"--mobile-offset":"--offset",d=r?cD:lD;function h(p){["top","right","bottom","left"].forEach(g=>{t[`${l}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof s=="number"||typeof s=="string"?h(s):typeof s=="object"?["top","right","bottom","left"].forEach(p=>{s[p]===void 0?t[`${l}-${p}`]=d:t[`${l}-${p}`]=typeof s[p]=="number"?`${s[p]}px`:s[p]}):h(d)}),t}const xD=me.forwardRef(function(e,t){const{id:s,invert:a,position:r="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:h,className:p,offset:g,mobileOffset:m,theme:v="light",richColors:w,duration:A,style:S,visibleToasts:E=rD,toastOptions:C,dir:_=v1(),gap:N=uD,icons:j,containerAriaLabel:M="Notifications"}=e,[L,O]=me.useState([]),I=me.useMemo(()=>s?L.filter(B=>B.toasterId===s):L.filter(B=>!B.toasterId),[L,s]),z=me.useMemo(()=>Array.from(new Set([r].concat(I.filter(B=>B.position).map(B=>B.position)))),[I,r]),[$,Y]=me.useState([]),[se,re]=me.useState(!1),[ae,fe]=me.useState(!1),[D,U]=me.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=me.useRef(null),F=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=me.useRef(null),P=me.useRef(!1),R=me.useCallback(B=>{O(q=>{var X;return(X=q.find(le=>le.id===B.id))!=null&&X.delete||Vn.dismiss(B.id),q.filter(({id:le})=>le!==B.id)})},[]);return me.useEffect(()=>Vn.subscribe(B=>{if(B.dismiss){requestAnimationFrame(()=>{O(q=>q.map(X=>X.id===B.id?{...X,delete:!0}:X))});return}setTimeout(()=>{Vb.flushSync(()=>{O(q=>{const X=q.findIndex(le=>le.id===B.id);return X!==-1?[...q.slice(0,X),{...q[X],...B},...q.slice(X+1)]:[B,...q]})})})}),[L]),me.useEffect(()=>{if(v!=="system"){U(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;const B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:q})=>{U(q?"dark":"light")})}catch{B.addListener(({matches:X})=>{try{U(X?"dark":"light")}catch(le){console.error(le)}})}},[v]),me.useEffect(()=>{L.length<=1&&re(!1)},[L]),me.useEffect(()=>{const B=q=>{var X;if(l.every(ce=>q[ce]||q.code===ce)){var Z;re(!0),(Z=H.current)==null||Z.focus()}q.code==="Escape"&&(document.activeElement===H.current||(X=H.current)!=null&&X.contains(document.activeElement))&&re(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[l]),me.useEffect(()=>{if(H.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,P.current=!1)}},[H.current]),me.createElement("section",{ref:t,"aria-label":`${M} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},z.map((B,q)=>{var X;const[le,Z]=B.split("-");return I.length?me.createElement("ol",{key:B,dir:_==="auto"?v1():_,tabIndex:-1,ref:H,className:p,"data-sonner-toaster":!0,"data-sonner-theme":D,"data-y-position":le,"data-x-position":Z,style:{"--front-toast-height":`${((X=$[0])==null?void 0:X.height)||0}px`,"--width":`${dD}px`,"--gap":`${N}px`,...S,...gD(g,m)},onBlur:ce=>{P.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(P.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||P.current||(P.current=!0,K.current=ce.relatedTarget)},onMouseEnter:()=>re(!0),onMouseMove:()=>re(!0),onMouseLeave:()=>{ae||re(!1)},onDragEnd:()=>re(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||fe(!0)},onPointerUp:()=>fe(!1)},I.filter(ce=>!ce.position&&q===0||ce.position===B).map((ce,pe)=>{var Ae,ve;return me.createElement(mD,{key:ce.id,icons:j,index:pe,toast:ce,defaultRichColors:w,duration:(Ae=C?.duration)!=null?Ae:A,className:C?.className,descriptionClassName:C?.descriptionClassName,invert:a,visibleToasts:E,closeButton:(ve=C?.closeButton)!=null?ve:h,interacting:ae,position:B,style:C?.style,unstyled:C?.unstyled,classNames:C?.classNames,cancelButtonStyle:C?.cancelButtonStyle,actionButtonStyle:C?.actionButtonStyle,closeButtonAriaLabel:C?.closeButtonAriaLabel,removeToast:R,toasts:I.filter(_e=>_e.position==ce.position),heights:$.filter(_e=>_e.position==ce.position),setHeights:Y,expandByDefault:d,gap:N,expanded:se,swipeDirections:e.swipeDirections})})):null}))}),vD=({...i})=>{const{theme:e="system"}=$j();return u.jsx(xD,{"code-path":"src\\components\\ui\\sonner.tsx:15:5",theme:e,className:"toaster group",icons:{success:u.jsx(Tw,{"code-path":"src\\components\\ui\\sonner.tsx:19:18",className:"size-4"}),info:u.jsx(RP,{"code-path":"src\\components\\ui\\sonner.tsx:20:15",className:"size-4"}),warning:u.jsx(Qd,{"code-path":"src\\components\\ui\\sonner.tsx:21:18",className:"size-4"}),error:u.jsx(JP,{"code-path":"src\\components\\ui\\sonner.tsx:22:16",className:"size-4"}),loading:u.jsx(VP,{"code-path":"src\\components\\ui\\sonner.tsx:23:18",className:"size-4 animate-spin"})},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},...i})},Mp=["#ef4444","#f97316","#f59e0b","#84cc16","#10b981","#06b6d4","#3b82f6","#6366f1","#8b5cf6","#d946ef","#f43f5e","#6b7280"],yD=[{id:"cat-entertainment",name:"",color:"#f43f5e"},{id:"cat-tech",name:"",color:"#3b82f6"},{id:"cat-academic",name:"",color:"#8b5cf6"},{id:"cat-literature",name:"",color:"#10b981"},{id:"cat-business",name:"",color:"#f59e0b"},{id:"cat-other",name:"",color:"#6b7280"}];function y1(i,e){const t=e.split(".").pop()?.toLowerCase();return i==="application/pdf"||t==="pdf"?"pdf":i.startsWith("text/")||t==="txt"||t==="md"||t==="json"||t==="xml"||t==="csv"?"txt":t==="epub"||i==="application/epub+zip"?"epub":i.startsWith("image/")||["jpg","jpeg","png","gif","webp","bmp","svg"].includes(t||"")?"image":["doc","docx","odt","rtf"].includes(t||"")||i.includes("word")||i==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?"doc":["ppt","pptx","odp"].includes(t||"")||i.includes("powerpoint")||i==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?"ppt":["zip","7z","rar","tar","gz","bz2"].includes(t||"")||i.includes("zip")||i.includes("compressed")||i==="application/x-7z-compressed"||i==="application/x-rar-compressed"?"archive":i.startsWith("audio/")||["mp3","wav","ogg","flac","aac","m4a"].includes(t||"")?"audio":i.startsWith("video/")||["mp4","avi","mkv","mov","wmv"].includes(t||"")?"video":"other"}function bD(i){switch(i){case"pdf":return"";case"txt":return"";case"epub":return"";case"image":return"";case"doc":return"";case"ppt":return"";case"archive":return"";case"audio":return"";case"video":return"";default:return""}}function wD(i){switch(i){case"pdf":return"PDF";case"txt":return"";case"epub":return"EPUB";case"image":return"";case"doc":return"";case"ppt":return"";case"archive":return"";case"audio":return"";case"video":return"";default:return""}}function SD(i){return["pdf","txt","epub","image"].includes(i)}const b1="jian-v1.1.0",Zs=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,AD=()=>{let i=localStorage.getItem("knowledge-library-device-id");return i||(i=Zs(),localStorage.setItem("knowledge-library-device-id",i)),i},Lw=()=>Math.random().toString(36).substring(2,8).toUpperCase(),dm={lastSyncAt:null,syncStatus:"idle",deviceId:AD(),syncCode:Lw()},Op={books:[],categories:yD,pdfAnnotations:[],projects:[],notes:[],sync:dm},CD="KnowledgeLibraryDB",ED=2,Ca="files";async function Gm(){return new Promise((i,e)=>{const t=indexedDB.open(CD,ED);t.onerror=()=>e(t.error),t.onsuccess=()=>i(t.result),t.onupgradeneeded=s=>{const a=s.target.result;a.objectStoreNames.contains(Ca)||a.createObjectStore(Ca,{keyPath:"id"})}})}async function w1(i){const e=await Gm();return new Promise((t,s)=>{const l=e.transaction([Ca],"readwrite").objectStore(Ca).put(i);l.onsuccess=()=>t(),l.onerror=()=>s(l.error)})}async function S1(i){const e=await Gm();return new Promise((t,s)=>{const l=e.transaction([Ca],"readonly").objectStore(Ca).get(i);l.onsuccess=()=>t(l.result||null),l.onerror=()=>s(l.error)})}async function Lp(i){const e=await Gm();return new Promise((t,s)=>{const l=e.transaction([Ca],"readwrite").objectStore(Ca).delete(i);l.onsuccess=()=>t(),l.onerror=()=>s(l.error)})}function TD(){const[i,e]=b.useState(Op),[t,s]=b.useState(!1);b.useEffect(()=>{try{const P=localStorage.getItem(b1);if(P){const R=JSON.parse(P);e({...Op,...R,sync:{...dm,...R.sync}})}}catch(P){console.error("Failed to load data:",P)}s(!0)},[]),b.useEffect(()=>{t&&localStorage.setItem(b1,JSON.stringify(i))},[i,t]);const a=b.useCallback(P=>{const R={...P,id:Zs(),annotations:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(B=>({...B,books:[R,...B.books]})),R},[]),r=b.useCallback((P,R)=>{e(B=>({...B,books:B.books.map(q=>q.id===P?{...q,...R,updatedAt:new Date().toISOString()}:q)}))},[]),l=b.useCallback(async P=>{const R=i.books.find(B=>B.id===P);R?.fileId&&await Lp(R.fileId),e(B=>({...B,books:B.books.filter(q=>q.id!==P),pdfAnnotations:B.pdfAnnotations.filter(q=>q.bookId!==P)}))},[i.books]),d=b.useCallback(P=>i.books.find(R=>R.id===P),[i.books]),h=b.useCallback(async(P,R)=>{const B=await R.arrayBuffer(),q=Zs(),X=y1(R.type,R.name),le={id:q,name:R.name,type:R.type,fileType:X,size:R.size,data:B,createdAt:new Date().toISOString()};return await w1(le),r(P,{fileId:q,fileType:X,fileName:R.name}),le},[r]),p=b.useCallback(async P=>await S1(P),[]),g=b.useCallback(async P=>{const R=d(P);R?.fileId&&(await Lp(R.fileId),r(P,{fileId:void 0,fileType:void 0,fileName:void 0}))},[d,r]),m=b.useCallback(P=>{const R={...P,id:Zs(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(B=>({...B,pdfAnnotations:[R,...B.pdfAnnotations]})),R},[]),v=b.useCallback((P,R)=>{e(B=>({...B,pdfAnnotations:B.pdfAnnotations.map(q=>q.id===P?{...q,content:R,updatedAt:new Date().toISOString()}:q)}))},[]),w=b.useCallback(P=>{e(R=>({...R,pdfAnnotations:R.pdfAnnotations.filter(B=>B.id!==P)}))},[]),A=b.useCallback(P=>i.pdfAnnotations.filter(R=>R.bookId===P),[i.pdfAnnotations]),S=b.useCallback(P=>{const R={...P,id:Zs(),knowledge:[],lessons:[],files:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(B=>({...B,projects:[R,...B.projects]})),R},[]),E=b.useCallback(P=>{e(R=>({...R,projects:R.projects.filter(B=>B.id!==P)}))},[]),C=b.useCallback((P,R)=>{const B={...R,id:Zs(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(q=>({...q,projects:q.projects.map(X=>X.id===P?{...X,knowledge:[B,...X.knowledge],updatedAt:new Date().toISOString()}:X)})),B},[]),_=b.useCallback((P,R)=>{const B={...R,id:Zs(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(q=>({...q,projects:q.projects.map(X=>X.id===P?{...X,lessons:[B,...X.lessons],updatedAt:new Date().toISOString()}:X)})),B},[]),N=b.useCallback(async(P,R,B)=>{const q=await R.arrayBuffer(),X=Zs(),le=y1(R.type,R.name),Z={id:X,name:R.name,type:R.type,fileType:le,size:R.size,data:q,createdAt:new Date().toISOString()};await w1(Z);const ce={id:X,name:R.name,type:R.type,fileType:le,size:R.size,description:B,createdAt:new Date().toISOString()};return e(pe=>({...pe,projects:pe.projects.map(Ae=>Ae.id===P?{...Ae,files:[ce,...Ae.files],updatedAt:new Date().toISOString()}:Ae)})),ce},[]),j=b.useCallback(async(P,R)=>{await Lp(R),e(B=>({...B,projects:B.projects.map(q=>q.id===P?{...q,files:q.files.filter(X=>X.id!==R),updatedAt:new Date().toISOString()}:q)}))},[]),M=b.useCallback(async P=>await S1(P),[]),L=b.useCallback(P=>{const R={...P,id:Zs(),completed:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e(B=>({...B,notes:[R,...B.notes]})),R},[]),O=b.useCallback((P,R)=>{e(B=>({...B,notes:B.notes.map(q=>q.id===P?{...q,...R,completedAt:R.completed?new Date().toISOString():q.completedAt,updatedAt:new Date().toISOString()}:q)}))},[]),I=b.useCallback(P=>{e(R=>({...R,notes:R.notes.filter(B=>B.id!==P)}))},[]),z=b.useCallback(P=>{e(R=>({...R,notes:R.notes.map(B=>B.id===P?{...B,completed:!B.completed,completedAt:B.completed?void 0:new Date().toISOString(),updatedAt:new Date().toISOString()}:B)}))},[]),$=b.useCallback((P,R)=>{const B={id:Zs(),name:P,color:R};return e(q=>({...q,categories:[...q.categories,B]})),B},[]),Y=b.useCallback(P=>{e(R=>({...R,categories:R.categories.filter(B=>B.id!==P),books:R.books.map(B=>B.categoryId===P?{...B,categoryId:"cat-other",updatedAt:new Date().toISOString()}:B)}))},[]),se=b.useCallback(P=>i.books.filter(R=>{if(P.categoryId&&R.categoryId!==P.categoryId||P.status&&R.status!==P.status||P.type&&R.type!==P.type||P.tags?.length&&!P.tags.some(B=>R.tags.includes(B)))return!1;if(P.searchQuery){const B=P.searchQuery.toLowerCase();if(!(R.title.toLowerCase().includes(B)||R.author.toLowerCase().includes(B)||R.description?.toLowerCase().includes(B)||R.tags.some(X=>X.toLowerCase().includes(B))))return!1}return!0}),[i.books]),re=b.useCallback(()=>{const P=new Set;return i.books.forEach(R=>R.tags.forEach(B=>P.add(B))),Array.from(P).sort()},[i.books]),ae=b.useCallback(()=>{const P=i.books;return{total:P.length,completed:P.filter(R=>R.status==="completed").length,reading:P.filter(R=>R.status==="reading").length,unread:P.filter(R=>R.status==="unread").length,totalAnnotations:P.reduce((R,B)=>R+B.annotations.length,0),categoryStats:i.categories.map(R=>({...R,count:P.filter(B=>B.categoryId===R.id).length})),projectCount:i.projects.length,noteCount:i.notes.length,pendingNotes:i.notes.filter(R=>!R.completed&&R.type==="todo").length}},[i.books,i.categories,i.projects,i.notes]),fe=b.useCallback((P,R)=>{try{const B={data:R,timestamp:Date.now(),deviceId:R.sync.deviceId};return localStorage.setItem(`knowledge-sync-${P}`,JSON.stringify(B)),e(q=>({...q,sync:{...q.sync,lastSyncAt:new Date().toISOString(),syncStatus:"idle"}})),!0}catch(B){return console.error("Sync to cloud failed:",B),!1}},[]),D=b.useCallback(P=>{try{const R=localStorage.getItem(`knowledge-sync-${P}`);return R?JSON.parse(R).data:null}catch(R){return console.error("Sync from cloud failed:",R),null}},[]),U=b.useCallback(P=>{e(R=>{const B=new Map;[...R.books,...P.books].forEach(ce=>{const pe=B.get(ce.id);(!pe||new Date(ce.updatedAt)>new Date(pe.updatedAt))&&B.set(ce.id,ce)});const q=new Map;[...R.categories,...P.categories].forEach(ce=>{q.has(ce.id)||q.set(ce.id,ce)});const X=new Map;[...R.pdfAnnotations,...P.pdfAnnotations].forEach(ce=>{const pe=X.get(ce.id);(!pe||new Date(ce.updatedAt)>new Date(pe.updatedAt))&&X.set(ce.id,ce)});const le=new Map;[...R.projects,...P.projects].forEach(ce=>{const pe=le.get(ce.id);(!pe||new Date(ce.updatedAt)>new Date(pe.updatedAt))&&le.set(ce.id,ce)});const Z=new Map;return[...R.notes,...P.notes].forEach(ce=>{const pe=Z.get(ce.id);(!pe||new Date(ce.updatedAt)>new Date(pe.updatedAt))&&Z.set(ce.id,ce)}),{books:Array.from(B.values()),categories:Array.from(q.values()),pdfAnnotations:Array.from(X.values()),projects:Array.from(le.values()),notes:Array.from(Z.values()),sync:{...R.sync,lastSyncAt:new Date().toISOString()}}})},[]),H=b.useCallback(()=>JSON.stringify(i,null,2),[i]),F=b.useCallback(P=>{try{const R=JSON.parse(P);return e({...Op,...R,sync:{...dm,...R.sync}}),!0}catch{return!1}},[]),K=b.useCallback(()=>{const P=Lw();return e(R=>({...R,sync:{...R.sync,syncCode:P}})),P},[]);return{books:i.books,categories:i.categories,projects:i.projects,notes:i.notes,sync:i.sync,isLoaded:t,addBook:a,updateBook:r,deleteBook:l,getBook:d,filterBooks:se,uploadFile:h,downloadFile:p,deleteBookFile:g,addPDFAnnotation:m,updatePDFAnnotation:v,deletePDFAnnotation:w,getBookPDFAnnotations:A,addProject:S,deleteProject:E,addProjectKnowledge:C,addProjectLesson:_,addProjectFile:N,deleteProjectFile:j,downloadProjectFile:M,addNote:L,updateNote:O,deleteNote:I,toggleNoteComplete:z,addCategory:$,deleteCategory:Y,getAllTags:re,getStats:ae,exportData:H,importData:F,regenerateSyncCode:K,syncDataToCloud:fe,syncDataFromCloud:D,mergeData:U}}var _D=Symbol.for("react.lazy"),ru=zm[" use ".trim().toString()];function ND(i){return typeof i=="object"&&i!==null&&"then"in i}function Bw(i){return i!=null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===_D&&"_payload"in i&&ND(i._payload)}function qm(i){const e=PD(i),t=b.forwardRef((s,a)=>{let{children:r,...l}=s;Bw(r)&&typeof ru=="function"&&(r=ru(r._payload));const d=b.Children.toArray(r),h=d.find(DD);if(h){const p=h.props.children,g=d.map(m=>m===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:m);return u.jsx(e,{...l,ref:a,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return u.jsx(e,{...l,ref:a,children:r})});return t.displayName=`${i}.Slot`,t}var Iw=qm("Slot");function PD(i){const e=b.forwardRef((t,s)=>{let{children:a,...r}=t;if(Bw(a)&&typeof ru=="function"&&(a=ru(a._payload)),b.isValidElement(a)){const l=RD(a),d=kD(r,a.props);return a.type!==b.Fragment&&(d.ref=s?$o(s,l):l),b.cloneElement(a,d)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var jD=Symbol("radix.slottable");function DD(i){return b.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===jD}function kD(i,e){const t={...e};for(const s in e){const a=i[s],r=e[s];/^on[A-Z]/.test(s)?a&&r?t[s]=(...d)=>{const h=r(...d);return a(...d),h}:a&&(t[s]=a):s==="style"?t[s]={...a,...r}:s==="className"&&(t[s]=[a,r].filter(Boolean).join(" "))}return{...i,...t}}function RD(i){let e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}const A1=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,C1=Pr,Fw=(i,e)=>t=>{var s;if(e?.variants==null)return C1(i,t?.class,t?.className);const{variants:a,defaultVariants:r}=e,l=Object.keys(a).map(p=>{const g=t?.[p],m=r?.[p];if(g===null)return null;const v=A1(g)||A1(m);return a[p][v]}),d=t&&Object.entries(t).reduce((p,g)=>{let[m,v]=g;return v===void 0||(p[m]=v),p},{}),h=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((p,g)=>{let{class:m,className:v,...w}=g;return Object.entries(w).every(A=>{let[S,E]=A;return Array.isArray(E)?E.includes({...r,...d}[S]):{...r,...d}[S]===E})?[...p,m,v]:p},[]);return C1(i,l,h,t?.class,t?.className)},Ym=Fw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function ie({className:i,variant:e="default",size:t="default",asChild:s=!1,...a}){const r=s?Iw:"button";return u.jsx(r,{"code-path":"src\\components\\ui\\button.tsx:52:5","data-slot":"button","data-variant":e,"data-size":t,className:Ge(Ym({variant:e,size:t,className:i})),...a})}const MD=Fw("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function fn({className:i,variant:e,asChild:t=!1,...s}){const a=t?Iw:"span";return u.jsx(a,{"code-path":"src\\components\\ui\\badge.tsx:38:5","data-slot":"badge",className:Ge(MD({variant:e}),i),...s})}function OD(i,e=globalThis?.document){const t=An(i);b.useEffect(()=>{const s=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var LD="DismissableLayer",um="dismissableLayer.update",BD="dismissableLayer.pointerDownOutside",ID="dismissableLayer.focusOutside",E1,zw=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pu=b.forwardRef((i,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:r,onInteractOutside:l,onDismiss:d,...h}=i,p=b.useContext(zw),[g,m]=b.useState(null),v=g?.ownerDocument??globalThis?.document,[,w]=b.useState({}),A=qe(e,O=>m(O)),S=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),C=S.indexOf(E),_=g?S.indexOf(g):-1,N=p.layersWithOutsidePointerEventsDisabled.size>0,j=_>=C,M=HD(O=>{const I=O.target,z=[...p.branches].some($=>$.contains(I));!j||z||(a?.(O),l?.(O),O.defaultPrevented||d?.())},v),L=UD(O=>{const I=O.target;[...p.branches].some($=>$.contains(I))||(r?.(O),l?.(O),O.defaultPrevented||d?.())},v);return OD(O=>{_===p.layers.size-1&&(s?.(O),!O.defaultPrevented&&d&&(O.preventDefault(),d()))},v),b.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(E1=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),T1(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=E1)}},[g,v,t,p]),b.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),T1())},[g,p]),b.useEffect(()=>{const O=()=>w({});return document.addEventListener(um,O),()=>document.removeEventListener(um,O)},[]),u.jsx(Ie.div,{...h,ref:A,style:{pointerEvents:N?j?"auto":"none":void 0,...i.style},onFocusCapture:ye(i.onFocusCapture,L.onFocusCapture),onBlurCapture:ye(i.onBlurCapture,L.onBlurCapture),onPointerDownCapture:ye(i.onPointerDownCapture,M.onPointerDownCapture)})});Pu.displayName=LD;var FD="DismissableLayerBranch",zD=b.forwardRef((i,e)=>{const t=b.useContext(zw),s=b.useRef(null),a=qe(e,s);return b.useEffect(()=>{const r=s.current;if(r)return t.branches.add(r),()=>{t.branches.delete(r)}},[t.branches]),u.jsx(Ie.div,{...i,ref:a})});zD.displayName=FD;function HD(i,e=globalThis?.document){const t=An(i),s=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const r=d=>{if(d.target&&!s.current){let h=function(){Hw(BD,t,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=h,e.addEventListener("click",a.current,{once:!0})):h()}else e.removeEventListener("click",a.current);s.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",r),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function UD(i,e=globalThis?.document){const t=An(i),s=b.useRef(!1);return b.useEffect(()=>{const a=r=>{r.target&&!s.current&&Hw(ID,t,{originalEvent:r},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function T1(){const i=new CustomEvent(um);document.dispatchEvent(i)}function Hw(i,e,t,{discrete:s}){const a=t.originalEvent.target,r=new CustomEvent(i,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(i,e,{once:!0}),s?$b(a,r):a.dispatchEvent(r)}var Bp="focusScope.autoFocusOnMount",Ip="focusScope.autoFocusOnUnmount",_1={bubbles:!1,cancelable:!0},VD="FocusScope",ju=b.forwardRef((i,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:r,...l}=i,[d,h]=b.useState(null),p=An(a),g=An(r),m=b.useRef(null),v=qe(e,S=>h(S)),w=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(s){let S=function(N){if(w.paused||!d)return;const j=N.target;d.contains(j)?m.current=j:ya(m.current,{select:!0})},E=function(N){if(w.paused||!d)return;const j=N.relatedTarget;j!==null&&(d.contains(j)||ya(m.current,{select:!0}))},C=function(N){if(document.activeElement===document.body)for(const M of N)M.removedNodes.length>0&&ya(d)};document.addEventListener("focusin",S),document.addEventListener("focusout",E);const _=new MutationObserver(C);return d&&_.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",E),_.disconnect()}}},[s,d,w.paused]),b.useEffect(()=>{if(d){P1.add(w);const S=document.activeElement;if(!d.contains(S)){const C=new CustomEvent(Bp,_1);d.addEventListener(Bp,p),d.dispatchEvent(C),C.defaultPrevented||($D(WD(Uw(d)),{select:!0}),document.activeElement===S&&ya(d))}return()=>{d.removeEventListener(Bp,p),setTimeout(()=>{const C=new CustomEvent(Ip,_1);d.addEventListener(Ip,g),d.dispatchEvent(C),C.defaultPrevented||ya(S??document.body,{select:!0}),d.removeEventListener(Ip,g),P1.remove(w)},0)}}},[d,p,g,w]);const A=b.useCallback(S=>{if(!t&&!s||w.paused)return;const E=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,C=document.activeElement;if(E&&C){const _=S.currentTarget,[N,j]=GD(_);N&&j?!S.shiftKey&&C===j?(S.preventDefault(),t&&ya(N,{select:!0})):S.shiftKey&&C===N&&(S.preventDefault(),t&&ya(j,{select:!0})):C===_&&S.preventDefault()}},[t,s,w.paused]);return u.jsx(Ie.div,{tabIndex:-1,...l,ref:v,onKeyDown:A})});ju.displayName=VD;function $D(i,{select:e=!1}={}){const t=document.activeElement;for(const s of i)if(ya(s,{select:e}),document.activeElement!==t)return}function GD(i){const e=Uw(i),t=N1(e,i),s=N1(e.reverse(),i);return[t,s]}function Uw(i){const e=[],t=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function N1(i,e){for(const t of i)if(!qD(t,{upTo:e}))return t}function qD(i,{upTo:e}){if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(e!==void 0&&i===e)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1}function YD(i){return i instanceof HTMLInputElement&&"select"in i}function ya(i,{select:e=!1}={}){if(i&&i.focus){const t=document.activeElement;i.focus({preventScroll:!0}),i!==t&&YD(i)&&e&&i.select()}}var P1=XD();function XD(){let i=[];return{add(e){const t=i[0];e!==t&&t?.pause(),i=j1(i,e),i.unshift(e)},remove(e){i=j1(i,e),i[0]?.resume()}}}function j1(i,e){const t=[...i],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function WD(i){return i.filter(e=>e.tagName!=="A")}var KD="Portal",Du=b.forwardRef((i,e)=>{const{container:t,...s}=i,[a,r]=b.useState(!1);En(()=>r(!0),[]);const l=t||a&&globalThis?.document?.body;return l?Vb.createPortal(u.jsx(Ie.div,{...s,ref:e}),l):null});Du.displayName=KD;var Fp=0;function Xm(){b.useEffect(()=>{const i=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",i[0]??D1()),document.body.insertAdjacentElement("beforeend",i[1]??D1()),Fp++,()=>{Fp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Fp--}},[])}function D1(){const i=document.createElement("span");return i.setAttribute("data-radix-focus-guard",""),i.tabIndex=0,i.style.outline="none",i.style.opacity="0",i.style.position="fixed",i.style.pointerEvents="none",i}var no=function(){return no=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},no.apply(this,arguments)};function Vw(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(i);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(i,s[a])&&(t[s[a]]=i[s[a]]);return t}function QD(i,e,t){if(t||arguments.length===2)for(var s=0,a=e.length,r;s<a;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return i.concat(r||Array.prototype.slice.call(e))}var Zd="right-scroll-bar-position",Jd="width-before-scroll-bar",ZD="with-scroll-bars-hidden",JD="--removed-body-scroll-bar-size";function zp(i,e){return typeof i=="function"?i(e):i&&(i.current=e),i}function ek(i,e){var t=b.useState(function(){return{value:i,callback:e,facade:{get current(){return t.value},set current(s){var a=t.value;a!==s&&(t.value=s,t.callback(s,a))}}}})[0];return t.callback=e,t.facade}var tk=typeof window<"u"?b.useLayoutEffect:b.useEffect,k1=new WeakMap;function nk(i,e){var t=ek(null,function(s){return i.forEach(function(a){return zp(a,s)})});return tk(function(){var s=k1.get(t);if(s){var a=new Set(s),r=new Set(i),l=t.current;a.forEach(function(d){r.has(d)||zp(d,null)}),r.forEach(function(d){a.has(d)||zp(d,l)})}k1.set(t,i)},[i]),t}function sk(i){return i}function ok(i,e){e===void 0&&(e=sk);var t=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:i},useMedium:function(r){var l=e(r,s);return t.push(l),function(){t=t.filter(function(d){return d!==l})}},assignSyncMedium:function(r){for(s=!0;t.length;){var l=t;t=[],l.forEach(r)}t={push:function(d){return r(d)},filter:function(){return t}}},assignMedium:function(r){s=!0;var l=[];if(t.length){var d=t;t=[],d.forEach(r),l=t}var h=function(){var g=l;l=[],g.forEach(r)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(g){l.push(g),p()},filter:function(g){return l=l.filter(g),t}}}};return a}function ak(i){i===void 0&&(i={});var e=ok(null);return e.options=no({async:!0,ssr:!1},i),e}var $w=function(i){var e=i.sideCar,t=Vw(i,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return b.createElement(s,no({},t))};$w.isSideCarExport=!0;function ik(i,e){return i.useMedium(e),$w}var Gw=ak(),Hp=function(){},ku=b.forwardRef(function(i,e){var t=b.useRef(null),s=b.useState({onScrollCapture:Hp,onWheelCapture:Hp,onTouchMoveCapture:Hp}),a=s[0],r=s[1],l=i.forwardProps,d=i.children,h=i.className,p=i.removeScrollBar,g=i.enabled,m=i.shards,v=i.sideCar,w=i.noRelative,A=i.noIsolation,S=i.inert,E=i.allowPinchZoom,C=i.as,_=C===void 0?"div":C,N=i.gapMode,j=Vw(i,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=v,L=nk([t,e]),O=no(no({},j),a);return b.createElement(b.Fragment,null,g&&b.createElement(M,{sideCar:Gw,removeScrollBar:p,shards:m,noRelative:w,noIsolation:A,inert:S,setCallbacks:r,allowPinchZoom:!!E,lockRef:t,gapMode:N}),l?b.cloneElement(b.Children.only(d),no(no({},O),{ref:L})):b.createElement(_,no({},O,{className:h,ref:L}),d))});ku.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ku.classNames={fullWidth:Jd,zeroRight:Zd};var rk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lk(){if(!document)return null;var i=document.createElement("style");i.type="text/css";var e=rk();return e&&i.setAttribute("nonce",e),i}function ck(i,e){i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}function dk(i){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(i)}var uk=function(){var i=0,e=null;return{add:function(t){i==0&&(e=lk())&&(ck(e,t),dk(e)),i++},remove:function(){i--,!i&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},hk=function(){var i=uk();return function(e,t){b.useEffect(function(){return i.add(e),function(){i.remove()}},[e&&t])}},qw=function(){var i=hk(),e=function(t){var s=t.styles,a=t.dynamic;return i(s,a),null};return e},fk={left:0,top:0,right:0,gap:0},Up=function(i){return parseInt(i||"",10)||0},pk=function(i){var e=window.getComputedStyle(document.body),t=e[i==="padding"?"paddingLeft":"marginLeft"],s=e[i==="padding"?"paddingTop":"marginTop"],a=e[i==="padding"?"paddingRight":"marginRight"];return[Up(t),Up(s),Up(a)]},mk=function(i){if(i===void 0&&(i="margin"),typeof window>"u")return fk;var e=pk(i),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},gk=qw(),rr="data-scroll-locked",xk=function(i,e,t,s){var a=i.left,r=i.top,l=i.right,d=i.gap;return t===void 0&&(t="margin"),`
  .`.concat(ZD,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(rr,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(r,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zd,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Jd,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Zd," .").concat(Zd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Jd," .").concat(Jd,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(rr,`] {
    `).concat(JD,": ").concat(d,`px;
  }
`)},R1=function(){var i=parseInt(document.body.getAttribute(rr)||"0",10);return isFinite(i)?i:0},vk=function(){b.useEffect(function(){return document.body.setAttribute(rr,(R1()+1).toString()),function(){var i=R1()-1;i<=0?document.body.removeAttribute(rr):document.body.setAttribute(rr,i.toString())}},[])},yk=function(i){var e=i.noRelative,t=i.noImportant,s=i.gapMode,a=s===void 0?"margin":s;vk();var r=b.useMemo(function(){return mk(a)},[a]);return b.createElement(gk,{styles:xk(r,!e,a,t?"":"!important")})},hm=!1;if(typeof window<"u")try{var Rd=Object.defineProperty({},"passive",{get:function(){return hm=!0,!0}});window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{hm=!1}var Zi=hm?{passive:!1}:!1,bk=function(i){return i.tagName==="TEXTAREA"},Yw=function(i,e){if(!(i instanceof Element))return!1;var t=window.getComputedStyle(i);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!bk(i)&&t[e]==="visible")},wk=function(i){return Yw(i,"overflowY")},Sk=function(i){return Yw(i,"overflowX")},M1=function(i,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=Xw(i,s);if(a){var r=Ww(i,s),l=r[1],d=r[2];if(l>d)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},Ak=function(i){var e=i.scrollTop,t=i.scrollHeight,s=i.clientHeight;return[e,t,s]},Ck=function(i){var e=i.scrollLeft,t=i.scrollWidth,s=i.clientWidth;return[e,t,s]},Xw=function(i,e){return i==="v"?wk(e):Sk(e)},Ww=function(i,e){return i==="v"?Ak(e):Ck(e)},Ek=function(i,e){return i==="h"&&e==="rtl"?-1:1},Tk=function(i,e,t,s,a){var r=Ek(i,window.getComputedStyle(e).direction),l=r*s,d=t.target,h=e.contains(d),p=!1,g=l>0,m=0,v=0;do{if(!d)break;var w=Ww(i,d),A=w[0],S=w[1],E=w[2],C=S-E-r*A;(A||C)&&Xw(i,d)&&(m+=C,v+=A);var _=d.parentNode;d=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(g&&Math.abs(m)<1||!g&&Math.abs(v)<1)&&(p=!0),p},Md=function(i){return"changedTouches"in i?[i.changedTouches[0].clientX,i.changedTouches[0].clientY]:[0,0]},O1=function(i){return[i.deltaX,i.deltaY]},L1=function(i){return i&&"current"in i?i.current:i},_k=function(i,e){return i[0]===e[0]&&i[1]===e[1]},Nk=function(i){return`
  .block-interactivity-`.concat(i,` {pointer-events: none;}
  .allow-interactivity-`).concat(i,` {pointer-events: all;}
`)},Pk=0,Ji=[];function jk(i){var e=b.useRef([]),t=b.useRef([0,0]),s=b.useRef(),a=b.useState(Pk++)[0],r=b.useState(qw)[0],l=b.useRef(i);b.useEffect(function(){l.current=i},[i]),b.useEffect(function(){if(i.inert){document.body.classList.add("block-interactivity-".concat(a));var S=QD([i.lockRef.current],(i.shards||[]).map(L1),!0).filter(Boolean);return S.forEach(function(E){return E.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),S.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(a))})}}},[i.inert,i.lockRef.current,i.shards]);var d=b.useCallback(function(S,E){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var C=Md(S),_=t.current,N="deltaX"in S?S.deltaX:_[0]-C[0],j="deltaY"in S?S.deltaY:_[1]-C[1],M,L=S.target,O=Math.abs(N)>Math.abs(j)?"h":"v";if("touches"in S&&O==="h"&&L.type==="range")return!1;var I=window.getSelection(),z=I&&I.anchorNode,$=z?z===L||z.contains(L):!1;if($)return!1;var Y=M1(O,L);if(!Y)return!0;if(Y?M=O:(M=O==="v"?"h":"v",Y=M1(O,L)),!Y)return!1;if(!s.current&&"changedTouches"in S&&(N||j)&&(s.current=M),!M)return!0;var se=s.current||M;return Tk(se,E,S,se==="h"?N:j)},[]),h=b.useCallback(function(S){var E=S;if(!(!Ji.length||Ji[Ji.length-1]!==r)){var C="deltaY"in E?O1(E):Md(E),_=e.current.filter(function(M){return M.name===E.type&&(M.target===E.target||E.target===M.shadowParent)&&_k(M.delta,C)})[0];if(_&&_.should){E.cancelable&&E.preventDefault();return}if(!_){var N=(l.current.shards||[]).map(L1).filter(Boolean).filter(function(M){return M.contains(E.target)}),j=N.length>0?d(E,N[0]):!l.current.noIsolation;j&&E.cancelable&&E.preventDefault()}}},[]),p=b.useCallback(function(S,E,C,_){var N={name:S,delta:E,target:C,should:_,shadowParent:Dk(C)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(j){return j!==N})},1)},[]),g=b.useCallback(function(S){t.current=Md(S),s.current=void 0},[]),m=b.useCallback(function(S){p(S.type,O1(S),S.target,d(S,i.lockRef.current))},[]),v=b.useCallback(function(S){p(S.type,Md(S),S.target,d(S,i.lockRef.current))},[]);b.useEffect(function(){return Ji.push(r),i.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",h,Zi),document.addEventListener("touchmove",h,Zi),document.addEventListener("touchstart",g,Zi),function(){Ji=Ji.filter(function(S){return S!==r}),document.removeEventListener("wheel",h,Zi),document.removeEventListener("touchmove",h,Zi),document.removeEventListener("touchstart",g,Zi)}},[]);var w=i.removeScrollBar,A=i.inert;return b.createElement(b.Fragment,null,A?b.createElement(r,{styles:Nk(a)}):null,w?b.createElement(yk,{noRelative:i.noRelative,gapMode:i.gapMode}):null)}function Dk(i){for(var e=null;i!==null;)i instanceof ShadowRoot&&(e=i.host,i=i.host),i=i.parentNode;return e}const kk=ik(Gw,jk);var Ru=b.forwardRef(function(i,e){return b.createElement(ku,no({},i,{ref:e,sideCar:kk}))});Ru.classNames=ku.classNames;var Rk=function(i){if(typeof document>"u")return null;var e=Array.isArray(i)?i[0]:i;return e.ownerDocument.body},er=new WeakMap,Od=new WeakMap,Ld={},Vp=0,Kw=function(i){return i&&(i.host||Kw(i.parentNode))},Mk=function(i,e){return e.map(function(t){if(i.contains(t))return t;var s=Kw(t);return s&&i.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",i,". Doing nothing"),null)}).filter(function(t){return!!t})},Ok=function(i,e,t,s){var a=Mk(e,Array.isArray(i)?i:[i]);Ld[t]||(Ld[t]=new WeakMap);var r=Ld[t],l=[],d=new Set,h=new Set(a),p=function(m){!m||d.has(m)||(d.add(m),p(m.parentNode))};a.forEach(p);var g=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(v){if(d.has(v))g(v);else try{var w=v.getAttribute(s),A=w!==null&&w!=="false",S=(er.get(v)||0)+1,E=(r.get(v)||0)+1;er.set(v,S),r.set(v,E),l.push(v),S===1&&A&&Od.set(v,!0),E===1&&v.setAttribute(t,"true"),A||v.setAttribute(s,"true")}catch(C){console.error("aria-hidden: cannot operate on ",v,C)}})};return g(e),d.clear(),Vp++,function(){l.forEach(function(m){var v=er.get(m)-1,w=r.get(m)-1;er.set(m,v),r.set(m,w),v||(Od.has(m)||m.removeAttribute(s),Od.delete(m)),w||m.removeAttribute(t)}),Vp--,Vp||(er=new WeakMap,er=new WeakMap,Od=new WeakMap,Ld={})}},Wm=function(i,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(i)?i:[i]),a=Rk(i);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),Ok(s,a,t,"aria-hidden")):function(){return null}};function Lk(i){const e=Bk(i),t=b.forwardRef((s,a)=>{const{children:r,...l}=s,d=b.Children.toArray(r),h=d.find(Fk);if(h){const p=h.props.children,g=d.map(m=>m===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:m);return u.jsx(e,{...l,ref:a,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return u.jsx(e,{...l,ref:a,children:r})});return t.displayName=`${i}.Slot`,t}function Bk(i){const e=b.forwardRef((t,s)=>{const{children:a,...r}=t;if(b.isValidElement(a)){const l=Hk(a),d=zk(r,a.props);return a.type!==b.Fragment&&(d.ref=s?$o(s,l):l),b.cloneElement(a,d)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var Ik=Symbol("radix.slottable");function Fk(i){return b.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===Ik}function zk(i,e){const t={...e};for(const s in e){const a=i[s],r=e[s];/^on[A-Z]/.test(s)?a&&r?t[s]=(...d)=>{const h=r(...d);return a(...d),h}:a&&(t[s]=a):s==="style"?t[s]={...a,...r}:s==="className"&&(t[s]=[a,r].filter(Boolean).join(" "))}return{...i,...t}}function Hk(i){let e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}var Mu="Dialog",[Qw,Zw]=rs(Mu),[Uk,Hs]=Qw(Mu),Jw=i=>{const{__scopeDialog:e,children:t,open:s,defaultOpen:a,onOpenChange:r,modal:l=!0}=i,d=b.useRef(null),h=b.useRef(null),[p,g]=Fo({prop:s,defaultProp:a??!1,onChange:r,caller:Mu});return u.jsx(Uk,{scope:e,triggerRef:d,contentRef:h,contentId:ao(),titleId:ao(),descriptionId:ao(),open:p,onOpenChange:g,onOpenToggle:b.useCallback(()=>g(m=>!m),[g]),modal:l,children:t})};Jw.displayName=Mu;var eS="DialogTrigger",tS=b.forwardRef((i,e)=>{const{__scopeDialog:t,...s}=i,a=Hs(eS,t),r=qe(e,a.triggerRef);return u.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Zm(a.open),...s,ref:r,onClick:ye(i.onClick,a.onOpenToggle)})});tS.displayName=eS;var Km="DialogPortal",[Vk,nS]=Qw(Km,{forceMount:void 0}),sS=i=>{const{__scopeDialog:e,forceMount:t,children:s,container:a}=i,r=Hs(Km,e);return u.jsx(Vk,{scope:e,forceMount:t,children:b.Children.map(s,l=>u.jsx(qn,{present:t||r.open,children:u.jsx(Du,{asChild:!0,container:a,children:l})}))})};sS.displayName=Km;var lu="DialogOverlay",oS=b.forwardRef((i,e)=>{const t=nS(lu,i.__scopeDialog),{forceMount:s=t.forceMount,...a}=i,r=Hs(lu,i.__scopeDialog);return r.modal?u.jsx(qn,{present:s||r.open,children:u.jsx(Gk,{...a,ref:e})}):null});oS.displayName=lu;var $k=Lk("DialogOverlay.RemoveScroll"),Gk=b.forwardRef((i,e)=>{const{__scopeDialog:t,...s}=i,a=Hs(lu,t);return u.jsx(Ru,{as:$k,allowPinchZoom:!0,shards:[a.contentRef],children:u.jsx(Ie.div,{"data-state":Zm(a.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),ni="DialogContent",aS=b.forwardRef((i,e)=>{const t=nS(ni,i.__scopeDialog),{forceMount:s=t.forceMount,...a}=i,r=Hs(ni,i.__scopeDialog);return u.jsx(qn,{present:s||r.open,children:r.modal?u.jsx(qk,{...a,ref:e}):u.jsx(Yk,{...a,ref:e})})});aS.displayName=ni;var qk=b.forwardRef((i,e)=>{const t=Hs(ni,i.__scopeDialog),s=b.useRef(null),a=qe(e,t.contentRef,s);return b.useEffect(()=>{const r=s.current;if(r)return Wm(r)},[]),u.jsx(iS,{...i,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(i.onCloseAutoFocus,r=>{r.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:ye(i.onPointerDownOutside,r=>{const l=r.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&r.preventDefault()}),onFocusOutside:ye(i.onFocusOutside,r=>r.preventDefault())})}),Yk=b.forwardRef((i,e)=>{const t=Hs(ni,i.__scopeDialog),s=b.useRef(!1),a=b.useRef(!1);return u.jsx(iS,{...i,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{i.onCloseAutoFocus?.(r),r.defaultPrevented||(s.current||t.triggerRef.current?.focus(),r.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:r=>{i.onInteractOutside?.(r),r.defaultPrevented||(s.current=!0,r.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=r.target;t.triggerRef.current?.contains(l)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&a.current&&r.preventDefault()}})}),iS=b.forwardRef((i,e)=>{const{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:r,...l}=i,d=Hs(ni,t),h=b.useRef(null),p=qe(e,h);return Xm(),u.jsxs(u.Fragment,{children:[u.jsx(ju,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:r,children:u.jsx(Pu,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Zm(d.open),...l,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Wk,{titleId:d.titleId}),u.jsx(Qk,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Qm="DialogTitle",rS=b.forwardRef((i,e)=>{const{__scopeDialog:t,...s}=i,a=Hs(Qm,t);return u.jsx(Ie.h2,{id:a.titleId,...s,ref:e})});rS.displayName=Qm;var lS="DialogDescription",cS=b.forwardRef((i,e)=>{const{__scopeDialog:t,...s}=i,a=Hs(lS,t);return u.jsx(Ie.p,{id:a.descriptionId,...s,ref:e})});cS.displayName=lS;var dS="DialogClose",uS=b.forwardRef((i,e)=>{const{__scopeDialog:t,...s}=i,a=Hs(dS,t);return u.jsx(Ie.button,{type:"button",...s,ref:e,onClick:ye(i.onClick,()=>a.onOpenChange(!1))})});uS.displayName=dS;function Zm(i){return i?"open":"closed"}var hS="DialogTitleWarning",[Xk,fS]=y_(hS,{contentName:ni,titleName:Qm,docsSlug:"dialog"}),Wk=({titleId:i})=>{const e=fS(hS),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{i&&(document.getElementById(i)||console.error(t))},[t,i]),null},Kk="DialogDescriptionWarning",Qk=({contentRef:i,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fS(Kk).contentName}}.`;return b.useEffect(()=>{const a=i.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(s))},[s,i,e]),null},Jm=Jw,pS=tS,eg=sS,tg=oS,ng=aS,sg=rS,mS=cS,Ou=uS;function gS({...i}){return u.jsx(Jm,{"code-path":"src\\components\\ui\\sheet.tsx:8:10","data-slot":"sheet",...i})}function xS({...i}){return u.jsx(pS,{"code-path":"src\\components\\ui\\sheet.tsx:14:10","data-slot":"sheet-trigger",...i})}function Zk({...i}){return u.jsx(eg,{"code-path":"src\\components\\ui\\sheet.tsx:26:10","data-slot":"sheet-portal",...i})}function Jk({className:i,...e}){return u.jsx(tg,{"code-path":"src\\components\\ui\\sheet.tsx:34:5","data-slot":"sheet-overlay",className:Ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",i),...e})}function vS({className:i,children:e,side:t="right",...s}){return u.jsxs(Zk,{"code-path":"src\\components\\ui\\sheet.tsx:54:5",children:[u.jsx(Jk,{"code-path":"src\\components\\ui\\sheet.tsx:55:7"}),u.jsxs(ng,{"code-path":"src\\components\\ui\\sheet.tsx:56:7","data-slot":"sheet-content",className:Ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",t==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",t==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",t==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",t==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",i),...s,children:[e,u.jsxs(Ou,{"code-path":"src\\components\\ui\\sheet.tsx:73:9",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[u.jsx(Cn,{"code-path":"src\\components\\ui\\sheet.tsx:74:11",className:"size-4"}),u.jsx("span",{"code-path":"src\\components\\ui\\sheet.tsx:75:11",className:"sr-only",children:"Close"})]})]})]})}function yS({className:i,...e}){return u.jsx("div",{"code-path":"src\\components\\ui\\sheet.tsx:84:5","data-slot":"sheet-header",className:Ge("flex flex-col gap-1.5 p-4",i),...e})}function bS({className:i,...e}){return u.jsx(sg,{"code-path":"src\\components\\ui\\sheet.tsx:107:5","data-slot":"sheet-title",className:Ge("text-foreground font-semibold",i),...e})}function ql(i,[e,t]){return Math.min(t,Math.max(e,i))}const eR=["top","right","bottom","left"],Ea=Math.min,os=Math.max,cu=Math.round,Bd=Math.floor,ro=i=>({x:i,y:i}),tR={left:"right",right:"left",bottom:"top",top:"bottom"},nR={start:"end",end:"start"};function fm(i,e,t){return os(i,Ea(e,t))}function zo(i,e){return typeof i=="function"?i(e):i}function Ho(i){return i.split("-")[0]}function Rr(i){return i.split("-")[1]}function og(i){return i==="x"?"y":"x"}function ag(i){return i==="y"?"height":"width"}const sR=new Set(["top","bottom"]);function oo(i){return sR.has(Ho(i))?"y":"x"}function ig(i){return og(oo(i))}function oR(i,e,t){t===void 0&&(t=!1);const s=Rr(i),a=ig(i),r=ag(a);let l=a==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=du(l)),[l,du(l)]}function aR(i){const e=du(i);return[pm(i),e,pm(e)]}function pm(i){return i.replace(/start|end/g,e=>nR[e])}const B1=["left","right"],I1=["right","left"],iR=["top","bottom"],rR=["bottom","top"];function lR(i,e,t){switch(i){case"top":case"bottom":return t?e?I1:B1:e?B1:I1;case"left":case"right":return e?iR:rR;default:return[]}}function cR(i,e,t,s){const a=Rr(i);let r=lR(Ho(i),t==="start",s);return a&&(r=r.map(l=>l+"-"+a),e&&(r=r.concat(r.map(pm)))),r}function du(i){return i.replace(/left|right|bottom|top/g,e=>tR[e])}function dR(i){return{top:0,right:0,bottom:0,left:0,...i}}function wS(i){return typeof i!="number"?dR(i):{top:i,right:i,bottom:i,left:i}}function uu(i){const{x:e,y:t,width:s,height:a}=i;return{width:s,height:a,top:t,left:e,right:e+s,bottom:t+a,x:e,y:t}}function F1(i,e,t){let{reference:s,floating:a}=i;const r=oo(e),l=ig(e),d=ag(l),h=Ho(e),p=r==="y",g=s.x+s.width/2-a.width/2,m=s.y+s.height/2-a.height/2,v=s[d]/2-a[d]/2;let w;switch(h){case"top":w={x:g,y:s.y-a.height};break;case"bottom":w={x:g,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y:m};break;case"left":w={x:s.x-a.width,y:m};break;default:w={x:s.x,y:s.y}}switch(Rr(e)){case"start":w[l]-=v*(t&&p?-1:1);break;case"end":w[l]+=v*(t&&p?-1:1);break}return w}const uR=async(i,e,t)=>{const{placement:s="bottom",strategy:a="absolute",middleware:r=[],platform:l}=t,d=r.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:i,floating:e,strategy:a}),{x:g,y:m}=F1(p,s,h),v=s,w={},A=0;for(let S=0;S<d.length;S++){const{name:E,fn:C}=d[S],{x:_,y:N,data:j,reset:M}=await C({x:g,y:m,initialPlacement:s,placement:v,strategy:a,middlewareData:w,rects:p,platform:l,elements:{reference:i,floating:e}});g=_??g,m=N??m,w={...w,[E]:{...w[E],...j}},M&&A<=50&&(A++,typeof M=="object"&&(M.placement&&(v=M.placement),M.rects&&(p=M.rects===!0?await l.getElementRects({reference:i,floating:e,strategy:a}):M.rects),{x:g,y:m}=F1(p,v,h)),S=-1)}return{x:g,y:m,placement:v,strategy:a,middlewareData:w}};async function Yl(i,e){var t;e===void 0&&(e={});const{x:s,y:a,platform:r,rects:l,elements:d,strategy:h}=i,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:v=!1,padding:w=0}=zo(e,i),A=wS(w),E=d[v?m==="floating"?"reference":"floating":m],C=uu(await r.getClippingRect({element:(t=await(r.isElement==null?void 0:r.isElement(E)))==null||t?E:E.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:h})),_=m==="floating"?{x:s,y:a,width:l.floating.width,height:l.floating.height}:l.reference,N=await(r.getOffsetParent==null?void 0:r.getOffsetParent(d.floating)),j=await(r.isElement==null?void 0:r.isElement(N))?await(r.getScale==null?void 0:r.getScale(N))||{x:1,y:1}:{x:1,y:1},M=uu(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:_,offsetParent:N,strategy:h}):_);return{top:(C.top-M.top+A.top)/j.y,bottom:(M.bottom-C.bottom+A.bottom)/j.y,left:(C.left-M.left+A.left)/j.x,right:(M.right-C.right+A.right)/j.x}}const hR=i=>({name:"arrow",options:i,async fn(e){const{x:t,y:s,placement:a,rects:r,platform:l,elements:d,middlewareData:h}=e,{element:p,padding:g=0}=zo(i,e)||{};if(p==null)return{};const m=wS(g),v={x:t,y:s},w=ig(a),A=ag(w),S=await l.getDimensions(p),E=w==="y",C=E?"top":"left",_=E?"bottom":"right",N=E?"clientHeight":"clientWidth",j=r.reference[A]+r.reference[w]-v[w]-r.floating[A],M=v[w]-r.reference[w],L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let O=L?L[N]:0;(!O||!await(l.isElement==null?void 0:l.isElement(L)))&&(O=d.floating[N]||r.floating[A]);const I=j/2-M/2,z=O/2-S[A]/2-1,$=Ea(m[C],z),Y=Ea(m[_],z),se=$,re=O-S[A]-Y,ae=O/2-S[A]/2+I,fe=fm(se,ae,re),D=!h.arrow&&Rr(a)!=null&&ae!==fe&&r.reference[A]/2-(ae<se?$:Y)-S[A]/2<0,U=D?ae<se?ae-se:ae-re:0;return{[w]:v[w]+U,data:{[w]:fe,centerOffset:ae-fe-U,...D&&{alignmentOffset:U}},reset:D}}}),fR=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,s;const{placement:a,middlewareData:r,rects:l,initialPlacement:d,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:S=!0,...E}=zo(i,e);if((t=r.arrow)!=null&&t.alignmentOffset)return{};const C=Ho(a),_=oo(d),N=Ho(d)===d,j=await(h.isRTL==null?void 0:h.isRTL(p.floating)),M=v||(N||!S?[du(d)]:aR(d)),L=A!=="none";!v&&L&&M.push(...cR(d,S,A,j));const O=[d,...M],I=await Yl(e,E),z=[];let $=((s=r.flip)==null?void 0:s.overflows)||[];if(g&&z.push(I[C]),m){const ae=oR(a,l,j);z.push(I[ae[0]],I[ae[1]])}if($=[...$,{placement:a,overflows:z}],!z.every(ae=>ae<=0)){var Y,se;const ae=(((Y=r.flip)==null?void 0:Y.index)||0)+1,fe=O[ae];if(fe&&(!(m==="alignment"?_!==oo(fe):!1)||$.every(H=>oo(H.placement)===_?H.overflows[0]>0:!0)))return{data:{index:ae,overflows:$},reset:{placement:fe}};let D=(se=$.filter(U=>U.overflows[0]<=0).sort((U,H)=>U.overflows[1]-H.overflows[1])[0])==null?void 0:se.placement;if(!D)switch(w){case"bestFit":{var re;const U=(re=$.filter(H=>{if(L){const F=oo(H.placement);return F===_||F==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(F=>F>0).reduce((F,K)=>F+K,0)]).sort((H,F)=>H[1]-F[1])[0])==null?void 0:re[0];U&&(D=U);break}case"initialPlacement":D=d;break}if(a!==D)return{reset:{placement:D}}}return{}}}};function z1(i,e){return{top:i.top-e.height,right:i.right-e.width,bottom:i.bottom-e.height,left:i.left-e.width}}function H1(i){return eR.some(e=>i[e]>=0)}const pR=function(i){return i===void 0&&(i={}),{name:"hide",options:i,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...a}=zo(i,e);switch(s){case"referenceHidden":{const r=await Yl(e,{...a,elementContext:"reference"}),l=z1(r,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:H1(l)}}}case"escaped":{const r=await Yl(e,{...a,altBoundary:!0}),l=z1(r,t.floating);return{data:{escapedOffsets:l,escaped:H1(l)}}}default:return{}}}}},SS=new Set(["left","top"]);async function mR(i,e){const{placement:t,platform:s,elements:a}=i,r=await(s.isRTL==null?void 0:s.isRTL(a.floating)),l=Ho(t),d=Rr(t),h=oo(t)==="y",p=SS.has(l)?-1:1,g=r&&h?-1:1,m=zo(e,i);let{mainAxis:v,crossAxis:w,alignmentAxis:A}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return d&&typeof A=="number"&&(w=d==="end"?A*-1:A),h?{x:w*g,y:v*p}:{x:v*p,y:w*g}}const gR=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,s;const{x:a,y:r,placement:l,middlewareData:d}=e,h=await mR(e,i);return l===((t=d.offset)==null?void 0:t.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:a+h.x,y:r+h.y,data:{...h,placement:l}}}}},xR=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(e){const{x:t,y:s,placement:a}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:d={fn:E=>{let{x:C,y:_}=E;return{x:C,y:_}}},...h}=zo(i,e),p={x:t,y:s},g=await Yl(e,h),m=oo(Ho(a)),v=og(m);let w=p[v],A=p[m];if(r){const E=v==="y"?"top":"left",C=v==="y"?"bottom":"right",_=w+g[E],N=w-g[C];w=fm(_,w,N)}if(l){const E=m==="y"?"top":"left",C=m==="y"?"bottom":"right",_=A+g[E],N=A-g[C];A=fm(_,A,N)}const S=d.fn({...e,[v]:w,[m]:A});return{...S,data:{x:S.x-t,y:S.y-s,enabled:{[v]:r,[m]:l}}}}}},vR=function(i){return i===void 0&&(i={}),{options:i,fn(e){const{x:t,y:s,placement:a,rects:r,middlewareData:l}=e,{offset:d=0,mainAxis:h=!0,crossAxis:p=!0}=zo(i,e),g={x:t,y:s},m=oo(a),v=og(m);let w=g[v],A=g[m];const S=zo(d,e),E=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(h){const N=v==="y"?"height":"width",j=r.reference[v]-r.floating[N]+E.mainAxis,M=r.reference[v]+r.reference[N]-E.mainAxis;w<j?w=j:w>M&&(w=M)}if(p){var C,_;const N=v==="y"?"width":"height",j=SS.has(Ho(a)),M=r.reference[m]-r.floating[N]+(j&&((C=l.offset)==null?void 0:C[m])||0)+(j?0:E.crossAxis),L=r.reference[m]+r.reference[N]+(j?0:((_=l.offset)==null?void 0:_[m])||0)-(j?E.crossAxis:0);A<M?A=M:A>L&&(A=L)}return{[v]:w,[m]:A}}}},yR=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(e){var t,s;const{placement:a,rects:r,platform:l,elements:d}=e,{apply:h=()=>{},...p}=zo(i,e),g=await Yl(e,p),m=Ho(a),v=Rr(a),w=oo(a)==="y",{width:A,height:S}=r.floating;let E,C;m==="top"||m==="bottom"?(E=m,C=v===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(C=m,E=v==="end"?"top":"bottom");const _=S-g.top-g.bottom,N=A-g.left-g.right,j=Ea(S-g[E],_),M=Ea(A-g[C],N),L=!e.middlewareData.shift;let O=j,I=M;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(I=N),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(O=_),L&&!v){const $=os(g.left,0),Y=os(g.right,0),se=os(g.top,0),re=os(g.bottom,0);w?I=A-2*($!==0||Y!==0?$+Y:os(g.left,g.right)):O=S-2*(se!==0||re!==0?se+re:os(g.top,g.bottom))}await h({...e,availableWidth:I,availableHeight:O});const z=await l.getDimensions(d.floating);return A!==z.width||S!==z.height?{reset:{rects:!0}}:{}}}};function Lu(){return typeof window<"u"}function Mr(i){return AS(i)?(i.nodeName||"").toLowerCase():"#document"}function as(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function co(i){var e;return(e=(AS(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function AS(i){return Lu()?i instanceof Node||i instanceof as(i).Node:!1}function Is(i){return Lu()?i instanceof Element||i instanceof as(i).Element:!1}function lo(i){return Lu()?i instanceof HTMLElement||i instanceof as(i).HTMLElement:!1}function U1(i){return!Lu()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof as(i).ShadowRoot}const bR=new Set(["inline","contents"]);function ac(i){const{overflow:e,overflowX:t,overflowY:s,display:a}=Fs(i);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!bR.has(a)}const wR=new Set(["table","td","th"]);function SR(i){return wR.has(Mr(i))}const AR=[":popover-open",":modal"];function Bu(i){return AR.some(e=>{try{return i.matches(e)}catch{return!1}})}const CR=["transform","translate","scale","rotate","perspective"],ER=["transform","translate","scale","rotate","perspective","filter"],TR=["paint","layout","strict","content"];function rg(i){const e=lg(),t=Is(i)?Fs(i):i;return CR.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||ER.some(s=>(t.willChange||"").includes(s))||TR.some(s=>(t.contain||"").includes(s))}function _R(i){let e=Ta(i);for(;lo(e)&&!br(e);){if(rg(e))return e;if(Bu(e))return null;e=Ta(e)}return null}function lg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NR=new Set(["html","body","#document"]);function br(i){return NR.has(Mr(i))}function Fs(i){return as(i).getComputedStyle(i)}function Iu(i){return Is(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Ta(i){if(Mr(i)==="html")return i;const e=i.assignedSlot||i.parentNode||U1(i)&&i.host||co(i);return U1(e)?e.host:e}function CS(i){const e=Ta(i);return br(e)?i.ownerDocument?i.ownerDocument.body:i.body:lo(e)&&ac(e)?e:CS(e)}function Xl(i,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=CS(i),r=a===((s=i.ownerDocument)==null?void 0:s.body),l=as(a);if(r){const d=mm(l);return e.concat(l,l.visualViewport||[],ac(a)?a:[],d&&t?Xl(d):[])}return e.concat(a,Xl(a,[],t))}function mm(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function ES(i){const e=Fs(i);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const a=lo(i),r=a?i.offsetWidth:t,l=a?i.offsetHeight:s,d=cu(t)!==r||cu(s)!==l;return d&&(t=r,s=l),{width:t,height:s,$:d}}function cg(i){return Is(i)?i:i.contextElement}function lr(i){const e=cg(i);if(!lo(e))return ro(1);const t=e.getBoundingClientRect(),{width:s,height:a,$:r}=ES(e);let l=(r?cu(t.width):t.width)/s,d=(r?cu(t.height):t.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const PR=ro(0);function TS(i){const e=as(i);return!lg()||!e.visualViewport?PR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jR(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==as(i)?!1:e}function si(i,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=i.getBoundingClientRect(),r=cg(i);let l=ro(1);e&&(s?Is(s)&&(l=lr(s)):l=lr(i));const d=jR(r,t,s)?TS(r):ro(0);let h=(a.left+d.x)/l.x,p=(a.top+d.y)/l.y,g=a.width/l.x,m=a.height/l.y;if(r){const v=as(r),w=s&&Is(s)?as(s):s;let A=v,S=mm(A);for(;S&&s&&w!==A;){const E=lr(S),C=S.getBoundingClientRect(),_=Fs(S),N=C.left+(S.clientLeft+parseFloat(_.paddingLeft))*E.x,j=C.top+(S.clientTop+parseFloat(_.paddingTop))*E.y;h*=E.x,p*=E.y,g*=E.x,m*=E.y,h+=N,p+=j,A=as(S),S=mm(A)}}return uu({width:g,height:m,x:h,y:p})}function Fu(i,e){const t=Iu(i).scrollLeft;return e?e.left+t:si(co(i)).left+t}function _S(i,e){const t=i.getBoundingClientRect(),s=t.left+e.scrollLeft-Fu(i,t),a=t.top+e.scrollTop;return{x:s,y:a}}function DR(i){let{elements:e,rect:t,offsetParent:s,strategy:a}=i;const r=a==="fixed",l=co(s),d=e?Bu(e.floating):!1;if(s===l||d&&r)return t;let h={scrollLeft:0,scrollTop:0},p=ro(1);const g=ro(0),m=lo(s);if((m||!m&&!r)&&((Mr(s)!=="body"||ac(l))&&(h=Iu(s)),lo(s))){const w=si(s);p=lr(s),g.x=w.x+s.clientLeft,g.y=w.y+s.clientTop}const v=l&&!m&&!r?_S(l,h):ro(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+g.x+v.x,y:t.y*p.y-h.scrollTop*p.y+g.y+v.y}}function kR(i){return Array.from(i.getClientRects())}function RR(i){const e=co(i),t=Iu(i),s=i.ownerDocument.body,a=os(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),r=os(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let l=-t.scrollLeft+Fu(i);const d=-t.scrollTop;return Fs(s).direction==="rtl"&&(l+=os(e.clientWidth,s.clientWidth)-a),{width:a,height:r,x:l,y:d}}const V1=25;function MR(i,e){const t=as(i),s=co(i),a=t.visualViewport;let r=s.clientWidth,l=s.clientHeight,d=0,h=0;if(a){r=a.width,l=a.height;const g=lg();(!g||g&&e==="fixed")&&(d=a.offsetLeft,h=a.offsetTop)}const p=Fu(s);if(p<=0){const g=s.ownerDocument,m=g.body,v=getComputedStyle(m),w=g.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,A=Math.abs(s.clientWidth-m.clientWidth-w);A<=V1&&(r-=A)}else p<=V1&&(r+=p);return{width:r,height:l,x:d,y:h}}const OR=new Set(["absolute","fixed"]);function LR(i,e){const t=si(i,!0,e==="fixed"),s=t.top+i.clientTop,a=t.left+i.clientLeft,r=lo(i)?lr(i):ro(1),l=i.clientWidth*r.x,d=i.clientHeight*r.y,h=a*r.x,p=s*r.y;return{width:l,height:d,x:h,y:p}}function $1(i,e,t){let s;if(e==="viewport")s=MR(i,t);else if(e==="document")s=RR(co(i));else if(Is(e))s=LR(e,t);else{const a=TS(i);s={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return uu(s)}function NS(i,e){const t=Ta(i);return t===e||!Is(t)||br(t)?!1:Fs(t).position==="fixed"||NS(t,e)}function BR(i,e){const t=e.get(i);if(t)return t;let s=Xl(i,[],!1).filter(d=>Is(d)&&Mr(d)!=="body"),a=null;const r=Fs(i).position==="fixed";let l=r?Ta(i):i;for(;Is(l)&&!br(l);){const d=Fs(l),h=rg(l);!h&&d.position==="fixed"&&(a=null),(r?!h&&!a:!h&&d.position==="static"&&!!a&&OR.has(a.position)||ac(l)&&!h&&NS(i,l))?s=s.filter(g=>g!==l):a=d,l=Ta(l)}return e.set(i,s),s}function IR(i){let{element:e,boundary:t,rootBoundary:s,strategy:a}=i;const l=[...t==="clippingAncestors"?Bu(e)?[]:BR(e,this._c):[].concat(t),s],d=l[0],h=l.reduce((p,g)=>{const m=$1(e,g,a);return p.top=os(m.top,p.top),p.right=Ea(m.right,p.right),p.bottom=Ea(m.bottom,p.bottom),p.left=os(m.left,p.left),p},$1(e,d,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function FR(i){const{width:e,height:t}=ES(i);return{width:e,height:t}}function zR(i,e,t){const s=lo(e),a=co(e),r=t==="fixed",l=si(i,!0,r,e);let d={scrollLeft:0,scrollTop:0};const h=ro(0);function p(){h.x=Fu(a)}if(s||!s&&!r)if((Mr(e)!=="body"||ac(a))&&(d=Iu(e)),s){const w=si(e,!0,r,e);h.x=w.x+e.clientLeft,h.y=w.y+e.clientTop}else a&&p();r&&!s&&a&&p();const g=a&&!s&&!r?_S(a,d):ro(0),m=l.left+d.scrollLeft-h.x-g.x,v=l.top+d.scrollTop-h.y-g.y;return{x:m,y:v,width:l.width,height:l.height}}function $p(i){return Fs(i).position==="static"}function G1(i,e){if(!lo(i)||Fs(i).position==="fixed")return null;if(e)return e(i);let t=i.offsetParent;return co(i)===t&&(t=t.ownerDocument.body),t}function PS(i,e){const t=as(i);if(Bu(i))return t;if(!lo(i)){let a=Ta(i);for(;a&&!br(a);){if(Is(a)&&!$p(a))return a;a=Ta(a)}return t}let s=G1(i,e);for(;s&&SR(s)&&$p(s);)s=G1(s,e);return s&&br(s)&&$p(s)&&!rg(s)?t:s||_R(i)||t}const HR=async function(i){const e=this.getOffsetParent||PS,t=this.getDimensions,s=await t(i.floating);return{reference:zR(i.reference,await e(i.floating),i.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function UR(i){return Fs(i).direction==="rtl"}const VR={convertOffsetParentRelativeRectToViewportRelativeRect:DR,getDocumentElement:co,getClippingRect:IR,getOffsetParent:PS,getElementRects:HR,getClientRects:kR,getDimensions:FR,getScale:lr,isElement:Is,isRTL:UR};function jS(i,e){return i.x===e.x&&i.y===e.y&&i.width===e.width&&i.height===e.height}function $R(i,e){let t=null,s;const a=co(i);function r(){var d;clearTimeout(s),(d=t)==null||d.disconnect(),t=null}function l(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),r();const p=i.getBoundingClientRect(),{left:g,top:m,width:v,height:w}=p;if(d||e(),!v||!w)return;const A=Bd(m),S=Bd(a.clientWidth-(g+v)),E=Bd(a.clientHeight-(m+w)),C=Bd(g),N={rootMargin:-A+"px "+-S+"px "+-E+"px "+-C+"px",threshold:os(0,Ea(1,h))||1};let j=!0;function M(L){const O=L[0].intersectionRatio;if(O!==h){if(!j)return l();O?l(!1,O):s=setTimeout(()=>{l(!1,1e-7)},1e3)}O===1&&!jS(p,i.getBoundingClientRect())&&l(),j=!1}try{t=new IntersectionObserver(M,{...N,root:a.ownerDocument})}catch{t=new IntersectionObserver(M,N)}t.observe(i)}return l(!0),r}function GR(i,e,t,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,p=cg(i),g=a||r?[...p?Xl(p):[],...Xl(e)]:[];g.forEach(C=>{a&&C.addEventListener("scroll",t,{passive:!0}),r&&C.addEventListener("resize",t)});const m=p&&d?$R(p,t):null;let v=-1,w=null;l&&(w=new ResizeObserver(C=>{let[_]=C;_&&_.target===p&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var N;(N=w)==null||N.observe(e)})),t()}),p&&!h&&w.observe(p),w.observe(e));let A,S=h?si(i):null;h&&E();function E(){const C=si(i);S&&!jS(S,C)&&t(),S=C,A=requestAnimationFrame(E)}return t(),()=>{var C;g.forEach(_=>{a&&_.removeEventListener("scroll",t),r&&_.removeEventListener("resize",t)}),m?.(),(C=w)==null||C.disconnect(),w=null,h&&cancelAnimationFrame(A)}}const qR=gR,YR=xR,XR=fR,WR=yR,KR=pR,q1=hR,QR=vR,ZR=(i,e,t)=>{const s=new Map,a={platform:VR,...t},r={...a.platform,_c:s};return uR(i,e,{...a,platform:r})};var JR=typeof document<"u",eM=function(){},eu=JR?b.useLayoutEffect:eM;function hu(i,e){if(i===e)return!0;if(typeof i!=typeof e)return!1;if(typeof i=="function"&&i.toString()===e.toString())return!0;let t,s,a;if(i&&e&&typeof i=="object"){if(Array.isArray(i)){if(t=i.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!hu(i[s],e[s]))return!1;return!0}if(a=Object.keys(i),t=a.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,a[s]))return!1;for(s=t;s--!==0;){const r=a[s];if(!(r==="_owner"&&i.$$typeof)&&!hu(i[r],e[r]))return!1}return!0}return i!==i&&e!==e}function DS(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function Y1(i,e){const t=DS(i);return Math.round(e*t)/t}function Gp(i){const e=b.useRef(i);return eu(()=>{e.current=i}),e}function tM(i){i===void 0&&(i={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:a,elements:{reference:r,floating:l}={},transform:d=!0,whileElementsMounted:h,open:p}=i,[g,m]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,w]=b.useState(s);hu(v,s)||w(s);const[A,S]=b.useState(null),[E,C]=b.useState(null),_=b.useCallback(H=>{H!==L.current&&(L.current=H,S(H))},[]),N=b.useCallback(H=>{H!==O.current&&(O.current=H,C(H))},[]),j=r||A,M=l||E,L=b.useRef(null),O=b.useRef(null),I=b.useRef(g),z=h!=null,$=Gp(h),Y=Gp(a),se=Gp(p),re=b.useCallback(()=>{if(!L.current||!O.current)return;const H={placement:e,strategy:t,middleware:v};Y.current&&(H.platform=Y.current),ZR(L.current,O.current,H).then(F=>{const K={...F,isPositioned:se.current!==!1};ae.current&&!hu(I.current,K)&&(I.current=K,sc.flushSync(()=>{m(K)}))})},[v,e,t,Y,se]);eu(()=>{p===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,m(H=>({...H,isPositioned:!1})))},[p]);const ae=b.useRef(!1);eu(()=>(ae.current=!0,()=>{ae.current=!1}),[]),eu(()=>{if(j&&(L.current=j),M&&(O.current=M),j&&M){if($.current)return $.current(j,M,re);re()}},[j,M,re,$,z]);const fe=b.useMemo(()=>({reference:L,floating:O,setReference:_,setFloating:N}),[_,N]),D=b.useMemo(()=>({reference:j,floating:M}),[j,M]),U=b.useMemo(()=>{const H={position:t,left:0,top:0};if(!D.floating)return H;const F=Y1(D.floating,g.x),K=Y1(D.floating,g.y);return d?{...H,transform:"translate("+F+"px, "+K+"px)",...DS(D.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:F,top:K}},[t,d,D.floating,g.x,g.y]);return b.useMemo(()=>({...g,update:re,refs:fe,elements:D,floatingStyles:U}),[g,re,fe,D,U])}const nM=i=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:i,fn(t){const{element:s,padding:a}=typeof i=="function"?i(t):i;return s&&e(s)?s.current!=null?q1({element:s.current,padding:a}).fn(t):{}:s?q1({element:s,padding:a}).fn(t):{}}}},sM=(i,e)=>({...qR(i),options:[i,e]}),oM=(i,e)=>({...YR(i),options:[i,e]}),aM=(i,e)=>({...QR(i),options:[i,e]}),iM=(i,e)=>({...XR(i),options:[i,e]}),rM=(i,e)=>({...WR(i),options:[i,e]}),lM=(i,e)=>({...KR(i),options:[i,e]}),cM=(i,e)=>({...nM(i),options:[i,e]});var dM="Arrow",kS=b.forwardRef((i,e)=>{const{children:t,width:s=10,height:a=5,...r}=i;return u.jsx(Ie.svg,{...r,ref:e,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:i.asChild?t:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});kS.displayName=dM;var uM=kS;function zu(i){const[e,t]=b.useState(void 0);return En(()=>{if(i){t({width:i.offsetWidth,height:i.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const r=a[0];let l,d;if("borderBoxSize"in r){const h=r.borderBoxSize,p=Array.isArray(h)?h[0]:h;l=p.inlineSize,d=p.blockSize}else l=i.offsetWidth,d=i.offsetHeight;t({width:l,height:d})});return s.observe(i,{box:"border-box"}),()=>s.unobserve(i)}else t(void 0)},[i]),e}var dg="Popper",[RS,Hu]=rs(dg),[hM,MS]=RS(dg),OS=i=>{const{__scopePopper:e,children:t}=i,[s,a]=b.useState(null);return u.jsx(hM,{scope:e,anchor:s,onAnchorChange:a,children:t})};OS.displayName=dg;var LS="PopperAnchor",BS=b.forwardRef((i,e)=>{const{__scopePopper:t,virtualRef:s,...a}=i,r=MS(LS,t),l=b.useRef(null),d=qe(e,l),h=b.useRef(null);return b.useEffect(()=>{const p=h.current;h.current=s?.current||l.current,p!==h.current&&r.onAnchorChange(h.current)}),s?null:u.jsx(Ie.div,{...a,ref:d})});BS.displayName=LS;var ug="PopperContent",[fM,pM]=RS(ug),IS=b.forwardRef((i,e)=>{const{__scopePopper:t,side:s="bottom",sideOffset:a=0,align:r="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:A,...S}=i,E=MS(ug,t),[C,_]=b.useState(null),N=qe(e,Z=>_(Z)),[j,M]=b.useState(null),L=zu(j),O=L?.width??0,I=L?.height??0,z=s+(r!=="center"?"-"+r:""),$=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},Y=Array.isArray(p)?p:[p],se=Y.length>0,re={padding:$,boundary:Y.filter(gM),altBoundary:se},{refs:ae,floatingStyles:fe,placement:D,isPositioned:U,middlewareData:H}=tM({strategy:"fixed",placement:z,whileElementsMounted:(...Z)=>GR(...Z,{animationFrame:w==="always"}),elements:{reference:E.anchor},middleware:[sM({mainAxis:a+I,alignmentAxis:l}),h&&oM({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?aM():void 0,...re}),h&&iM({...re}),rM({...re,apply:({elements:Z,rects:ce,availableWidth:pe,availableHeight:Ae})=>{const{width:ve,height:_e}=ce.reference,Oe=Z.floating.style;Oe.setProperty("--radix-popper-available-width",`${pe}px`),Oe.setProperty("--radix-popper-available-height",`${Ae}px`),Oe.setProperty("--radix-popper-anchor-width",`${ve}px`),Oe.setProperty("--radix-popper-anchor-height",`${_e}px`)}}),j&&cM({element:j,padding:d}),xM({arrowWidth:O,arrowHeight:I}),v&&lM({strategy:"referenceHidden",...re})]}),[F,K]=HS(D),P=An(A);En(()=>{U&&P?.()},[U,P]);const R=H.arrow?.x,B=H.arrow?.y,q=H.arrow?.centerOffset!==0,[X,le]=b.useState();return En(()=>{C&&le(window.getComputedStyle(C).zIndex)},[C]),u.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:U?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:i.dir,children:u.jsx(fM,{scope:t,placedSide:F,onArrowChange:M,arrowX:R,arrowY:B,shouldHideArrow:q,children:u.jsx(Ie.div,{"data-side":F,"data-align":K,...S,ref:N,style:{...S.style,animation:U?void 0:"none"}})})})});IS.displayName=ug;var FS="PopperArrow",mM={top:"bottom",right:"left",bottom:"top",left:"right"},zS=b.forwardRef(function(e,t){const{__scopePopper:s,...a}=e,r=pM(FS,s),l=mM[r.placedSide];return u.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:u.jsx(uM,{...a,ref:t,style:{...a.style,display:"block"}})})});zS.displayName=FS;function gM(i){return i!==null}var xM=i=>({name:"transformOrigin",options:i,fn(e){const{placement:t,rects:s,middlewareData:a}=e,l=a.arrow?.centerOffset!==0,d=l?0:i.arrowWidth,h=l?0:i.arrowHeight,[p,g]=HS(t),m={start:"0%",center:"50%",end:"100%"}[g],v=(a.arrow?.x??0)+d/2,w=(a.arrow?.y??0)+h/2;let A="",S="";return p==="bottom"?(A=l?m:`${v}px`,S=`${-h}px`):p==="top"?(A=l?m:`${v}px`,S=`${s.floating.height+h}px`):p==="right"?(A=`${-h}px`,S=l?m:`${w}px`):p==="left"&&(A=`${s.floating.width+h}px`,S=l?m:`${w}px`),{data:{x:A,y:S}}}});function HS(i){const[e,t="center"]=i.split("-");return[e,t]}var US=OS,VS=BS,$S=IS,GS=zS;function vM(i){const e=yM(i),t=b.forwardRef((s,a)=>{const{children:r,...l}=s,d=b.Children.toArray(r),h=d.find(wM);if(h){const p=h.props.children,g=d.map(m=>m===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:m);return u.jsx(e,{...l,ref:a,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return u.jsx(e,{...l,ref:a,children:r})});return t.displayName=`${i}.Slot`,t}function yM(i){const e=b.forwardRef((t,s)=>{const{children:a,...r}=t;if(b.isValidElement(a)){const l=AM(a),d=SM(r,a.props);return a.type!==b.Fragment&&(d.ref=s?$o(s,l):l),b.cloneElement(a,d)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var bM=Symbol("radix.slottable");function wM(i){return b.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===bM}function SM(i,e){const t={...e};for(const s in e){const a=i[s],r=e[s];/^on[A-Z]/.test(s)?a&&r?t[s]=(...d)=>{const h=r(...d);return a(...d),h}:a&&(t[s]=a):s==="style"?t[s]={...a,...r}:s==="className"&&(t[s]=[a,r].filter(Boolean).join(" "))}return{...i,...t}}function AM(i){let e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}function Uu(i){const e=b.useRef({value:i,previous:i});return b.useMemo(()=>(e.current.value!==i&&(e.current.previous=e.current.value,e.current.value=i),e.current.previous),[i])}var qS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CM="VisuallyHidden",EM=b.forwardRef((i,e)=>u.jsx(Ie.span,{...i,ref:e,style:{...qS,...i.style}}));EM.displayName=CM;var TM=[" ","Enter","ArrowUp","ArrowDown"],_M=[" ","Enter"],oi="Select",[Vu,$u,NM]=Cu(oi),[Or]=rs(oi,[NM,Hu]),Gu=Hu(),[PM,Na]=Or(oi),[jM,DM]=Or(oi),YS=i=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:a,onOpenChange:r,value:l,defaultValue:d,onValueChange:h,dir:p,name:g,autoComplete:m,disabled:v,required:w,form:A}=i,S=Gu(e),[E,C]=b.useState(null),[_,N]=b.useState(null),[j,M]=b.useState(!1),L=Nr(p),[O,I]=Fo({prop:s,defaultProp:a??!1,onChange:r,caller:oi}),[z,$]=Fo({prop:l,defaultProp:d,onChange:h,caller:oi}),Y=b.useRef(null),se=E?A||!!E.closest("form"):!0,[re,ae]=b.useState(new Set),fe=Array.from(re).map(D=>D.props.value).join(";");return u.jsx(US,{...S,children:u.jsxs(PM,{required:w,scope:e,trigger:E,onTriggerChange:C,valueNode:_,onValueNodeChange:N,valueNodeHasChildren:j,onValueNodeHasChildrenChange:M,contentId:ao(),value:z,onValueChange:$,open:O,onOpenChange:I,dir:L,triggerPointerDownPosRef:Y,disabled:v,children:[u.jsx(Vu.Provider,{scope:e,children:u.jsx(jM,{scope:i.__scopeSelect,onNativeOptionAdd:b.useCallback(D=>{ae(U=>new Set(U).add(D))},[]),onNativeOptionRemove:b.useCallback(D=>{ae(U=>{const H=new Set(U);return H.delete(D),H})},[]),children:t})}),se?u.jsxs(mA,{"aria-hidden":!0,required:w,tabIndex:-1,name:g,autoComplete:m,value:z,onChange:D=>$(D.target.value),disabled:v,form:A,children:[z===void 0?u.jsx("option",{value:""}):null,Array.from(re)]},fe):null]})})};YS.displayName=oi;var XS="SelectTrigger",WS=b.forwardRef((i,e)=>{const{__scopeSelect:t,disabled:s=!1,...a}=i,r=Gu(t),l=Na(XS,t),d=l.disabled||s,h=qe(e,l.onTriggerChange),p=$u(t),g=b.useRef("touch"),[m,v,w]=xA(S=>{const E=p().filter(N=>!N.disabled),C=E.find(N=>N.value===l.value),_=vA(E,S,C);_!==void 0&&l.onValueChange(_.value)}),A=S=>{d||(l.onOpenChange(!0),w()),S&&(l.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return u.jsx(VS,{asChild:!0,...r,children:u.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":gA(l.value)?"":void 0,...a,ref:h,onClick:ye(a.onClick,S=>{S.currentTarget.focus(),g.current!=="mouse"&&A(S)}),onPointerDown:ye(a.onPointerDown,S=>{g.current=S.pointerType;const E=S.target;E.hasPointerCapture(S.pointerId)&&E.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(A(S),S.preventDefault())}),onKeyDown:ye(a.onKeyDown,S=>{const E=m.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&v(S.key),!(E&&S.key===" ")&&TM.includes(S.key)&&(A(),S.preventDefault())})})})});WS.displayName=XS;var KS="SelectValue",QS=b.forwardRef((i,e)=>{const{__scopeSelect:t,className:s,style:a,children:r,placeholder:l="",...d}=i,h=Na(KS,t),{onValueNodeHasChildrenChange:p}=h,g=r!==void 0,m=qe(e,h.onValueNodeChange);return En(()=>{p(g)},[p,g]),u.jsx(Ie.span,{...d,ref:m,style:{pointerEvents:"none"},children:gA(h.value)?u.jsx(u.Fragment,{children:l}):r})});QS.displayName=KS;var kM="SelectIcon",ZS=b.forwardRef((i,e)=>{const{__scopeSelect:t,children:s,...a}=i;return u.jsx(Ie.span,{"aria-hidden":!0,...a,ref:e,children:s||""})});ZS.displayName=kM;var RM="SelectPortal",JS=i=>u.jsx(Du,{asChild:!0,...i});JS.displayName=RM;var ai="SelectContent",eA=b.forwardRef((i,e)=>{const t=Na(ai,i.__scopeSelect),[s,a]=b.useState();if(En(()=>{a(new DocumentFragment)},[]),!t.open){const r=s;return r?sc.createPortal(u.jsx(tA,{scope:i.__scopeSelect,children:u.jsx(Vu.Slot,{scope:i.__scopeSelect,children:u.jsx("div",{children:i.children})})}),r):null}return u.jsx(nA,{...i,ref:e})});eA.displayName=ai;var ks=10,[tA,Pa]=Or(ai),MM="SelectContentImpl",OM=vM("SelectContent.RemoveScroll"),nA=b.forwardRef((i,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:r,onPointerDownOutside:l,side:d,sideOffset:h,align:p,alignOffset:g,arrowPadding:m,collisionBoundary:v,collisionPadding:w,sticky:A,hideWhenDetached:S,avoidCollisions:E,...C}=i,_=Na(ai,t),[N,j]=b.useState(null),[M,L]=b.useState(null),O=qe(e,Z=>j(Z)),[I,z]=b.useState(null),[$,Y]=b.useState(null),se=$u(t),[re,ae]=b.useState(!1),fe=b.useRef(!1);b.useEffect(()=>{if(N)return Wm(N)},[N]),Xm();const D=b.useCallback(Z=>{const[ce,...pe]=se().map(_e=>_e.ref.current),[Ae]=pe.slice(-1),ve=document.activeElement;for(const _e of Z)if(_e===ve||(_e?.scrollIntoView({block:"nearest"}),_e===ce&&M&&(M.scrollTop=0),_e===Ae&&M&&(M.scrollTop=M.scrollHeight),_e?.focus(),document.activeElement!==ve))return},[se,M]),U=b.useCallback(()=>D([I,N]),[D,I,N]);b.useEffect(()=>{re&&U()},[re,U]);const{onOpenChange:H,triggerPointerDownPosRef:F}=_;b.useEffect(()=>{if(N){let Z={x:0,y:0};const ce=Ae=>{Z={x:Math.abs(Math.round(Ae.pageX)-(F.current?.x??0)),y:Math.abs(Math.round(Ae.pageY)-(F.current?.y??0))}},pe=Ae=>{Z.x<=10&&Z.y<=10?Ae.preventDefault():N.contains(Ae.target)||H(!1),document.removeEventListener("pointermove",ce),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",pe,{capture:!0})}}},[N,H,F]),b.useEffect(()=>{const Z=()=>H(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[H]);const[K,P]=xA(Z=>{const ce=se().filter(ve=>!ve.disabled),pe=ce.find(ve=>ve.ref.current===document.activeElement),Ae=vA(ce,Z,pe);Ae&&setTimeout(()=>Ae.ref.current.focus())}),R=b.useCallback((Z,ce,pe)=>{const Ae=!fe.current&&!pe;(_.value!==void 0&&_.value===ce||Ae)&&(z(Z),Ae&&(fe.current=!0))},[_.value]),B=b.useCallback(()=>N?.focus(),[N]),q=b.useCallback((Z,ce,pe)=>{const Ae=!fe.current&&!pe;(_.value!==void 0&&_.value===ce||Ae)&&Y(Z)},[_.value]),X=s==="popper"?gm:sA,le=X===gm?{side:d,sideOffset:h,align:p,alignOffset:g,arrowPadding:m,collisionBoundary:v,collisionPadding:w,sticky:A,hideWhenDetached:S,avoidCollisions:E}:{};return u.jsx(tA,{scope:t,content:N,viewport:M,onViewportChange:L,itemRefCallback:R,selectedItem:I,onItemLeave:B,itemTextRefCallback:q,focusSelectedItem:U,selectedItemText:$,position:s,isPositioned:re,searchRef:K,children:u.jsx(Ru,{as:OM,allowPinchZoom:!0,children:u.jsx(ju,{asChild:!0,trapped:_.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:ye(a,Z=>{_.trigger?.focus({preventScroll:!0}),Z.preventDefault()}),children:u.jsx(Pu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:r,onPointerDownOutside:l,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:u.jsx(X,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Z=>Z.preventDefault(),...C,...le,onPlaced:()=>ae(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:ye(C.onKeyDown,Z=>{const ce=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!ce&&Z.key.length===1&&P(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let Ae=se().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const ve=Z.target,_e=Ae.indexOf(ve);Ae=Ae.slice(_e+1)}setTimeout(()=>D(Ae)),Z.preventDefault()}})})})})})})});nA.displayName=MM;var LM="SelectItemAlignedPosition",sA=b.forwardRef((i,e)=>{const{__scopeSelect:t,onPlaced:s,...a}=i,r=Na(ai,t),l=Pa(ai,t),[d,h]=b.useState(null),[p,g]=b.useState(null),m=qe(e,O=>g(O)),v=$u(t),w=b.useRef(!1),A=b.useRef(!0),{viewport:S,selectedItem:E,selectedItemText:C,focusSelectedItem:_}=l,N=b.useCallback(()=>{if(r.trigger&&r.valueNode&&d&&p&&S&&E&&C){const O=r.trigger.getBoundingClientRect(),I=p.getBoundingClientRect(),z=r.valueNode.getBoundingClientRect(),$=C.getBoundingClientRect();if(r.dir!=="rtl"){const ve=$.left-I.left,_e=z.left-ve,Oe=O.left-_e,ke=O.width+Oe,Q=Math.max(ke,I.width),Se=window.innerWidth-ks,Le=ql(_e,[ks,Math.max(ks,Se-Q)]);d.style.minWidth=ke+"px",d.style.left=Le+"px"}else{const ve=I.right-$.right,_e=window.innerWidth-z.right-ve,Oe=window.innerWidth-O.right-_e,ke=O.width+Oe,Q=Math.max(ke,I.width),Se=window.innerWidth-ks,Le=ql(_e,[ks,Math.max(ks,Se-Q)]);d.style.minWidth=ke+"px",d.style.right=Le+"px"}const Y=v(),se=window.innerHeight-ks*2,re=S.scrollHeight,ae=window.getComputedStyle(p),fe=parseInt(ae.borderTopWidth,10),D=parseInt(ae.paddingTop,10),U=parseInt(ae.borderBottomWidth,10),H=parseInt(ae.paddingBottom,10),F=fe+D+re+H+U,K=Math.min(E.offsetHeight*5,F),P=window.getComputedStyle(S),R=parseInt(P.paddingTop,10),B=parseInt(P.paddingBottom,10),q=O.top+O.height/2-ks,X=se-q,le=E.offsetHeight/2,Z=E.offsetTop+le,ce=fe+D+Z,pe=F-ce;if(ce<=q){const ve=Y.length>0&&E===Y[Y.length-1].ref.current;d.style.bottom="0px";const _e=p.clientHeight-S.offsetTop-S.offsetHeight,Oe=Math.max(X,le+(ve?B:0)+_e+U),ke=ce+Oe;d.style.height=ke+"px"}else{const ve=Y.length>0&&E===Y[0].ref.current;d.style.top="0px";const Oe=Math.max(q,fe+S.offsetTop+(ve?R:0)+le)+pe;d.style.height=Oe+"px",S.scrollTop=ce-q+S.offsetTop}d.style.margin=`${ks}px 0`,d.style.minHeight=K+"px",d.style.maxHeight=se+"px",s?.(),requestAnimationFrame(()=>w.current=!0)}},[v,r.trigger,r.valueNode,d,p,S,E,C,r.dir,s]);En(()=>N(),[N]);const[j,M]=b.useState();En(()=>{p&&M(window.getComputedStyle(p).zIndex)},[p]);const L=b.useCallback(O=>{O&&A.current===!0&&(N(),_?.(),A.current=!1)},[N,_]);return u.jsx(IM,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:w,onScrollButtonChange:L,children:u.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:u.jsx(Ie.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});sA.displayName=LM;var BM="SelectPopperPosition",gm=b.forwardRef((i,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:a=ks,...r}=i,l=Gu(t);return u.jsx($S,{...l,...r,ref:e,align:s,collisionPadding:a,style:{boxSizing:"border-box",...r.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gm.displayName=BM;var[IM,hg]=Or(ai,{}),xm="SelectViewport",oA=b.forwardRef((i,e)=>{const{__scopeSelect:t,nonce:s,...a}=i,r=Pa(xm,t),l=hg(xm,t),d=qe(e,r.onViewportChange),h=b.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),u.jsx(Vu.Slot,{scope:t,children:u.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ye(a.onScroll,p=>{const g=p.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:v}=l;if(v?.current&&m){const w=Math.abs(h.current-g.scrollTop);if(w>0){const A=window.innerHeight-ks*2,S=parseFloat(m.style.minHeight),E=parseFloat(m.style.height),C=Math.max(S,E);if(C<A){const _=C+w,N=Math.min(A,_),j=_-N;m.style.height=N+"px",m.style.bottom==="0px"&&(g.scrollTop=j>0?j:0,m.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});oA.displayName=xm;var aA="SelectGroup",[FM,zM]=Or(aA),HM=b.forwardRef((i,e)=>{const{__scopeSelect:t,...s}=i,a=ao();return u.jsx(FM,{scope:t,id:a,children:u.jsx(Ie.div,{role:"group","aria-labelledby":a,...s,ref:e})})});HM.displayName=aA;var iA="SelectLabel",UM=b.forwardRef((i,e)=>{const{__scopeSelect:t,...s}=i,a=zM(iA,t);return u.jsx(Ie.div,{id:a.id,...s,ref:e})});UM.displayName=iA;var fu="SelectItem",[VM,rA]=Or(fu),lA=b.forwardRef((i,e)=>{const{__scopeSelect:t,value:s,disabled:a=!1,textValue:r,...l}=i,d=Na(fu,t),h=Pa(fu,t),p=d.value===s,[g,m]=b.useState(r??""),[v,w]=b.useState(!1),A=qe(e,_=>h.itemRefCallback?.(_,s,a)),S=ao(),E=b.useRef("touch"),C=()=>{a||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(VM,{scope:t,value:s,disabled:a,textId:S,isSelected:p,onItemTextChange:b.useCallback(_=>{m(N=>N||(_?.textContent??"").trim())},[]),children:u.jsx(Vu.ItemSlot,{scope:t,value:s,disabled:a,textValue:g,children:u.jsx(Ie.div,{role:"option","aria-labelledby":S,"data-highlighted":v?"":void 0,"aria-selected":p&&v,"data-state":p?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:A,onFocus:ye(l.onFocus,()=>w(!0)),onBlur:ye(l.onBlur,()=>w(!1)),onClick:ye(l.onClick,()=>{E.current!=="mouse"&&C()}),onPointerUp:ye(l.onPointerUp,()=>{E.current==="mouse"&&C()}),onPointerDown:ye(l.onPointerDown,_=>{E.current=_.pointerType}),onPointerMove:ye(l.onPointerMove,_=>{E.current=_.pointerType,a?h.onItemLeave?.():E.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(l.onPointerLeave,_=>{_.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:ye(l.onKeyDown,_=>{h.searchRef?.current!==""&&_.key===" "||(_M.includes(_.key)&&C(),_.key===" "&&_.preventDefault())})})})})});lA.displayName=fu;var Bl="SelectItemText",cA=b.forwardRef((i,e)=>{const{__scopeSelect:t,className:s,style:a,...r}=i,l=Na(Bl,t),d=Pa(Bl,t),h=rA(Bl,t),p=DM(Bl,t),[g,m]=b.useState(null),v=qe(e,C=>m(C),h.onItemTextChange,C=>d.itemTextRefCallback?.(C,h.value,h.disabled)),w=g?.textContent,A=b.useMemo(()=>u.jsx("option",{value:h.value,disabled:h.disabled,children:w},h.value),[h.disabled,h.value,w]),{onNativeOptionAdd:S,onNativeOptionRemove:E}=p;return En(()=>(S(A),()=>E(A)),[S,E,A]),u.jsxs(u.Fragment,{children:[u.jsx(Ie.span,{id:h.textId,...r,ref:v}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?sc.createPortal(r.children,l.valueNode):null]})});cA.displayName=Bl;var dA="SelectItemIndicator",uA=b.forwardRef((i,e)=>{const{__scopeSelect:t,...s}=i;return rA(dA,t).isSelected?u.jsx(Ie.span,{"aria-hidden":!0,...s,ref:e}):null});uA.displayName=dA;var vm="SelectScrollUpButton",hA=b.forwardRef((i,e)=>{const t=Pa(vm,i.__scopeSelect),s=hg(vm,i.__scopeSelect),[a,r]=b.useState(!1),l=qe(e,s.onScrollButtonChange);return En(()=>{if(t.viewport&&t.isPositioned){let d=function(){const p=h.scrollTop>0;r(p)};const h=t.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),a?u.jsx(pA,{...i,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=t;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});hA.displayName=vm;var ym="SelectScrollDownButton",fA=b.forwardRef((i,e)=>{const t=Pa(ym,i.__scopeSelect),s=hg(ym,i.__scopeSelect),[a,r]=b.useState(!1),l=qe(e,s.onScrollButtonChange);return En(()=>{if(t.viewport&&t.isPositioned){let d=function(){const p=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<p;r(g)};const h=t.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),a?u.jsx(pA,{...i,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=t;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});fA.displayName=ym;var pA=b.forwardRef((i,e)=>{const{__scopeSelect:t,onAutoScroll:s,...a}=i,r=Pa("SelectScrollButton",t),l=b.useRef(null),d=$u(t),h=b.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return b.useEffect(()=>()=>h(),[h]),En(()=>{d().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),u.jsx(Ie.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:ye(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(s,50))}),onPointerMove:ye(a.onPointerMove,()=>{r.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(s,50))}),onPointerLeave:ye(a.onPointerLeave,()=>{h()})})}),$M="SelectSeparator",GM=b.forwardRef((i,e)=>{const{__scopeSelect:t,...s}=i;return u.jsx(Ie.div,{"aria-hidden":!0,...s,ref:e})});GM.displayName=$M;var bm="SelectArrow",qM=b.forwardRef((i,e)=>{const{__scopeSelect:t,...s}=i,a=Gu(t),r=Na(bm,t),l=Pa(bm,t);return r.open&&l.position==="popper"?u.jsx(GS,{...a,...s,ref:e}):null});qM.displayName=bm;var YM="SelectBubbleInput",mA=b.forwardRef(({__scopeSelect:i,value:e,...t},s)=>{const a=b.useRef(null),r=qe(s,a),l=Uu(e);return b.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==e&&g){const m=new Event("change",{bubbles:!0});g.call(d,e),d.dispatchEvent(m)}},[l,e]),u.jsx(Ie.select,{...t,style:{...qS,...t.style},ref:r,defaultValue:e})});mA.displayName=YM;function gA(i){return i===""||i===void 0}function xA(i){const e=An(i),t=b.useRef(""),s=b.useRef(0),a=b.useCallback(l=>{const d=t.current+l;e(d),(function h(p){t.current=p,window.clearTimeout(s.current),p!==""&&(s.current=window.setTimeout(()=>h(""),1e3))})(d)},[e]),r=b.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,a,r]}function vA(i,e,t){const a=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,r=t?i.indexOf(t):-1;let l=XM(i,Math.max(r,0));a.length===1&&(l=l.filter(p=>p!==t));const h=l.find(p=>p.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==t?h:void 0}function XM(i,e){return i.map((t,s)=>i[(e+s)%i.length])}var WM=YS,KM=WS,QM=QS,ZM=ZS,JM=JS,e3=eA,t3=oA,n3=lA,s3=cA,o3=uA,a3=hA,i3=fA;function Oo({...i}){return u.jsx(WM,{"code-path":"src\\components\\ui\\select.tsx:10:10","data-slot":"select",...i})}function Lo({...i}){return u.jsx(QM,{"code-path":"src\\components\\ui\\select.tsx:22:10","data-slot":"select-value",...i})}function Bo({className:i,size:e="default",children:t,...s}){return u.jsxs(KM,{"code-path":"src\\components\\ui\\select.tsx:34:5","data-slot":"select-trigger","data-size":e,className:Ge("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...s,children:[t,u.jsx(ZM,{"code-path":"src\\components\\ui\\select.tsx:44:7",asChild:!0,children:u.jsx($m,{"code-path":"src\\components\\ui\\select.tsx:45:9",className:"size-4 opacity-50"})})]})}function Io({className:i,children:e,position:t="item-aligned",align:s="center",...a}){return u.jsx(JM,{"code-path":"src\\components\\ui\\select.tsx:59:5",children:u.jsxs(e3,{"code-path":"src\\components\\ui\\select.tsx:60:7","data-slot":"select-content",className:Ge("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",i),position:t,align:s,...a,children:[u.jsx(r3,{"code-path":"src\\components\\ui\\select.tsx:72:9"}),u.jsx(t3,{"code-path":"src\\components\\ui\\select.tsx:73:9",className:Ge("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),u.jsx(l3,{"code-path":"src\\components\\ui\\select.tsx:82:9"})]})})}function Gt({className:i,children:e,...t}){return u.jsxs(n3,{"code-path":"src\\components\\ui\\select.tsx:107:5","data-slot":"select-item",className:Ge("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",i),...t,children:[u.jsx("span",{"code-path":"src\\components\\ui\\select.tsx:115:7","data-slot":"select-item-indicator",className:"absolute right-2 flex size-3.5 items-center justify-center",children:u.jsx(o3,{"code-path":"src\\components\\ui\\select.tsx:119:9",children:u.jsx(Aw,{"code-path":"src\\components\\ui\\select.tsx:120:11",className:"size-4"})})}),u.jsx(s3,{"code-path":"src\\components\\ui\\select.tsx:123:7",children:e})]})}function r3({className:i,...e}){return u.jsx(a3,{"code-path":"src\\components\\ui\\select.tsx:146:5","data-slot":"select-scroll-up-button",className:Ge("flex cursor-default items-center justify-center py-1",i),...e,children:u.jsx(Cw,{"code-path":"src\\components\\ui\\select.tsx:154:7",className:"size-4"})})}function l3({className:i,...e}){return u.jsx(i3,{"code-path":"src\\components\\ui\\select.tsx:164:5","data-slot":"select-scroll-down-button",className:Ge("flex cursor-default items-center justify-center py-1",i),...e,children:u.jsx($m,{"code-path":"src\\components\\ui\\select.tsx:172:7",className:"size-4"})})}function qt({className:i,...e}){return u.jsx("div",{"code-path":"src\\components\\ui\\card.tsx:7:5","data-slot":"card",className:Ge("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),...e})}function tu({className:i,...e}){return u.jsx("div",{"code-path":"src\\components\\ui\\card.tsx:20:5","data-slot":"card-header",className:Ge("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i),...e})}function nu({className:i,...e}){return u.jsx("div",{"code-path":"src\\components\\ui\\card.tsx:33:5","data-slot":"card-title",className:Ge("leading-none font-semibold",i),...e})}function Yt({className:i,...e}){return u.jsx("div",{"code-path":"src\\components\\ui\\card.tsx:66:5","data-slot":"card-content",className:Ge("px-6",i),...e})}function c3(i){const e=d3(i),t=b.forwardRef((s,a)=>{const{children:r,...l}=s,d=b.Children.toArray(r),h=d.find(h3);if(h){const p=h.props.children,g=d.map(m=>m===h?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:m);return u.jsx(e,{...l,ref:a,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return u.jsx(e,{...l,ref:a,children:r})});return t.displayName=`${i}.Slot`,t}function d3(i){const e=b.forwardRef((t,s)=>{const{children:a,...r}=t;if(b.isValidElement(a)){const l=p3(a),d=f3(r,a.props);return a.type!==b.Fragment&&(d.ref=s?$o(s,l):l),b.cloneElement(a,d)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var u3=Symbol("radix.slottable");function h3(i){return b.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===u3}function f3(i,e){const t={...e};for(const s in e){const a=i[s],r=e[s];/^on[A-Z]/.test(s)?a&&r?t[s]=(...d)=>{const h=r(...d);return a(...d),h}:a&&(t[s]=a):s==="style"?t[s]={...a,...r}:s==="className"&&(t[s]=[a,r].filter(Boolean).join(" "))}return{...i,...t}}function p3(i){let e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}var wm=["Enter"," "],m3=["ArrowDown","PageUp","Home"],yA=["ArrowUp","PageDown","End"],g3=[...m3,...yA],x3={ltr:[...wm,"ArrowRight"],rtl:[...wm,"ArrowLeft"]},v3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ic="Menu",[Wl,y3,b3]=Cu(ic),[ci,bA]=rs(ic,[b3,Hu,Eu]),qu=Hu(),wA=Eu(),[w3,di]=ci(ic),[S3,rc]=ci(ic),SA=i=>{const{__scopeMenu:e,open:t=!1,children:s,dir:a,onOpenChange:r,modal:l=!0}=i,d=qu(e),[h,p]=b.useState(null),g=b.useRef(!1),m=An(r),v=Nr(a);return b.useEffect(()=>{const w=()=>{g.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>g.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),u.jsx(US,{...d,children:u.jsx(w3,{scope:e,open:t,onOpenChange:m,content:h,onContentChange:p,children:u.jsx(S3,{scope:e,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:g,dir:v,modal:l,children:s})})})};SA.displayName=ic;var A3="MenuAnchor",fg=b.forwardRef((i,e)=>{const{__scopeMenu:t,...s}=i,a=qu(t);return u.jsx(VS,{...a,...s,ref:e})});fg.displayName=A3;var pg="MenuPortal",[C3,AA]=ci(pg,{forceMount:void 0}),CA=i=>{const{__scopeMenu:e,forceMount:t,children:s,container:a}=i,r=di(pg,e);return u.jsx(C3,{scope:e,forceMount:t,children:u.jsx(qn,{present:t||r.open,children:u.jsx(Du,{asChild:!0,container:a,children:s})})})};CA.displayName=pg;var Es="MenuContent",[E3,mg]=ci(Es),EA=b.forwardRef((i,e)=>{const t=AA(Es,i.__scopeMenu),{forceMount:s=t.forceMount,...a}=i,r=di(Es,i.__scopeMenu),l=rc(Es,i.__scopeMenu);return u.jsx(Wl.Provider,{scope:i.__scopeMenu,children:u.jsx(qn,{present:s||r.open,children:u.jsx(Wl.Slot,{scope:i.__scopeMenu,children:l.modal?u.jsx(T3,{...a,ref:e}):u.jsx(_3,{...a,ref:e})})})})}),T3=b.forwardRef((i,e)=>{const t=di(Es,i.__scopeMenu),s=b.useRef(null),a=qe(e,s);return b.useEffect(()=>{const r=s.current;if(r)return Wm(r)},[]),u.jsx(gg,{...i,ref:a,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:ye(i.onFocusOutside,r=>r.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),_3=b.forwardRef((i,e)=>{const t=di(Es,i.__scopeMenu);return u.jsx(gg,{...i,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),N3=c3("MenuContent.ScrollLock"),gg=b.forwardRef((i,e)=>{const{__scopeMenu:t,loop:s=!1,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:v,onDismiss:w,disableOutsideScroll:A,...S}=i,E=di(Es,t),C=rc(Es,t),_=qu(t),N=wA(t),j=y3(t),[M,L]=b.useState(null),O=b.useRef(null),I=qe(e,O,E.onContentChange),z=b.useRef(0),$=b.useRef(""),Y=b.useRef(0),se=b.useRef(null),re=b.useRef("right"),ae=b.useRef(0),fe=A?Ru:b.Fragment,D=A?{as:N3,allowPinchZoom:!0}:void 0,U=F=>{const K=$.current+F,P=j().filter(Z=>!Z.disabled),R=document.activeElement,B=P.find(Z=>Z.ref.current===R)?.textValue,q=P.map(Z=>Z.textValue),X=z3(q,K,B),le=P.find(Z=>Z.textValue===X)?.ref.current;(function Z(ce){$.current=ce,window.clearTimeout(z.current),ce!==""&&(z.current=window.setTimeout(()=>Z(""),1e3))})(K),le&&setTimeout(()=>le.focus())};b.useEffect(()=>()=>window.clearTimeout(z.current),[]),Xm();const H=b.useCallback(F=>re.current===se.current?.side&&U3(F,se.current?.area),[]);return u.jsx(E3,{scope:t,searchRef:$,onItemEnter:b.useCallback(F=>{H(F)&&F.preventDefault()},[H]),onItemLeave:b.useCallback(F=>{H(F)||(O.current?.focus(),L(null))},[H]),onTriggerLeave:b.useCallback(F=>{H(F)&&F.preventDefault()},[H]),pointerGraceTimerRef:Y,onPointerGraceIntentChange:b.useCallback(F=>{se.current=F},[]),children:u.jsx(fe,{...D,children:u.jsx(ju,{asChild:!0,trapped:a,onMountAutoFocus:ye(r,F=>{F.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:u.jsx(Pu,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:g,onFocusOutside:m,onInteractOutside:v,onDismiss:w,children:u.jsx(Kb,{asChild:!0,...N,dir:C.dir,orientation:"vertical",loop:s,currentTabStopId:M,onCurrentTabStopIdChange:L,onEntryFocus:ye(h,F=>{C.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx($S,{role:"menu","aria-orientation":"vertical","data-state":HA(E.open),"data-radix-menu-content":"",dir:C.dir,..._,...S,ref:I,style:{outline:"none",...S.style},onKeyDown:ye(S.onKeyDown,F=>{const P=F.target.closest("[data-radix-menu-content]")===F.currentTarget,R=F.ctrlKey||F.altKey||F.metaKey,B=F.key.length===1;P&&(F.key==="Tab"&&F.preventDefault(),!R&&B&&U(F.key));const q=O.current;if(F.target!==q||!g3.includes(F.key))return;F.preventDefault();const le=j().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);yA.includes(F.key)&&le.reverse(),I3(le)}),onBlur:ye(i.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(z.current),$.current="")}),onPointerMove:ye(i.onPointerMove,Kl(F=>{const K=F.target,P=ae.current!==F.clientX;if(F.currentTarget.contains(K)&&P){const R=F.clientX>ae.current?"right":"left";re.current=R,ae.current=F.clientX}}))})})})})})})});EA.displayName=Es;var P3="MenuGroup",xg=b.forwardRef((i,e)=>{const{__scopeMenu:t,...s}=i;return u.jsx(Ie.div,{role:"group",...s,ref:e})});xg.displayName=P3;var j3="MenuLabel",TA=b.forwardRef((i,e)=>{const{__scopeMenu:t,...s}=i;return u.jsx(Ie.div,{...s,ref:e})});TA.displayName=j3;var pu="MenuItem",X1="menu.itemSelect",Yu=b.forwardRef((i,e)=>{const{disabled:t=!1,onSelect:s,...a}=i,r=b.useRef(null),l=rc(pu,i.__scopeMenu),d=mg(pu,i.__scopeMenu),h=qe(e,r),p=b.useRef(!1),g=()=>{const m=r.current;if(!t&&m){const v=new CustomEvent(X1,{bubbles:!0,cancelable:!0});m.addEventListener(X1,w=>s?.(w),{once:!0}),$b(m,v),v.defaultPrevented?p.current=!1:l.onClose()}};return u.jsx(_A,{...a,ref:h,disabled:t,onClick:ye(i.onClick,g),onPointerDown:m=>{i.onPointerDown?.(m),p.current=!0},onPointerUp:ye(i.onPointerUp,m=>{p.current||m.currentTarget?.click()}),onKeyDown:ye(i.onKeyDown,m=>{const v=d.searchRef.current!=="";t||v&&m.key===" "||wm.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Yu.displayName=pu;var _A=b.forwardRef((i,e)=>{const{__scopeMenu:t,disabled:s=!1,textValue:a,...r}=i,l=mg(pu,t),d=wA(t),h=b.useRef(null),p=qe(e,h),[g,m]=b.useState(!1),[v,w]=b.useState("");return b.useEffect(()=>{const A=h.current;A&&w((A.textContent??"").trim())},[r.children]),u.jsx(Wl.ItemSlot,{scope:t,disabled:s,textValue:a??v,children:u.jsx(Qb,{asChild:!0,...d,focusable:!s,children:u.jsx(Ie.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...r,ref:p,onPointerMove:ye(i.onPointerMove,Kl(A=>{s?l.onItemLeave(A):(l.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(i.onPointerLeave,Kl(A=>l.onItemLeave(A))),onFocus:ye(i.onFocus,()=>m(!0)),onBlur:ye(i.onBlur,()=>m(!1))})})})}),D3="MenuCheckboxItem",NA=b.forwardRef((i,e)=>{const{checked:t=!1,onCheckedChange:s,...a}=i;return u.jsx(RA,{scope:i.__scopeMenu,checked:t,children:u.jsx(Yu,{role:"menuitemcheckbox","aria-checked":mu(t)?"mixed":t,...a,ref:e,"data-state":yg(t),onSelect:ye(a.onSelect,()=>s?.(mu(t)?!0:!t),{checkForDefaultPrevented:!1})})})});NA.displayName=D3;var PA="MenuRadioGroup",[k3,R3]=ci(PA,{value:void 0,onValueChange:()=>{}}),jA=b.forwardRef((i,e)=>{const{value:t,onValueChange:s,...a}=i,r=An(s);return u.jsx(k3,{scope:i.__scopeMenu,value:t,onValueChange:r,children:u.jsx(xg,{...a,ref:e})})});jA.displayName=PA;var DA="MenuRadioItem",kA=b.forwardRef((i,e)=>{const{value:t,...s}=i,a=R3(DA,i.__scopeMenu),r=t===a.value;return u.jsx(RA,{scope:i.__scopeMenu,checked:r,children:u.jsx(Yu,{role:"menuitemradio","aria-checked":r,...s,ref:e,"data-state":yg(r),onSelect:ye(s.onSelect,()=>a.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});kA.displayName=DA;var vg="MenuItemIndicator",[RA,M3]=ci(vg,{checked:!1}),MA=b.forwardRef((i,e)=>{const{__scopeMenu:t,forceMount:s,...a}=i,r=M3(vg,t);return u.jsx(qn,{present:s||mu(r.checked)||r.checked===!0,children:u.jsx(Ie.span,{...a,ref:e,"data-state":yg(r.checked)})})});MA.displayName=vg;var O3="MenuSeparator",OA=b.forwardRef((i,e)=>{const{__scopeMenu:t,...s}=i;return u.jsx(Ie.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});OA.displayName=O3;var L3="MenuArrow",LA=b.forwardRef((i,e)=>{const{__scopeMenu:t,...s}=i,a=qu(t);return u.jsx(GS,{...a,...s,ref:e})});LA.displayName=L3;var B3="MenuSub",[L6,BA]=ci(B3),Il="MenuSubTrigger",IA=b.forwardRef((i,e)=>{const t=di(Il,i.__scopeMenu),s=rc(Il,i.__scopeMenu),a=BA(Il,i.__scopeMenu),r=mg(Il,i.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=r,p={__scopeMenu:i.__scopeMenu},g=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>g,[g]),b.useEffect(()=>{const m=d.current;return()=>{window.clearTimeout(m),h(null)}},[d,h]),u.jsx(fg,{asChild:!0,...p,children:u.jsx(_A,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":a.contentId,"data-state":HA(t.open),...i,ref:$o(e,a.onTriggerChange),onClick:m=>{i.onClick?.(m),!(i.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:ye(i.onPointerMove,Kl(m=>{r.onItemEnter(m),!m.defaultPrevented&&!i.disabled&&!t.open&&!l.current&&(r.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),g()},100))})),onPointerLeave:ye(i.onPointerLeave,Kl(m=>{g();const v=t.content?.getBoundingClientRect();if(v){const w=t.content?.dataset.side,A=w==="right",S=A?-5:5,E=v[A?"left":"right"],C=v[A?"right":"left"];r.onPointerGraceIntentChange({area:[{x:m.clientX+S,y:m.clientY},{x:E,y:v.top},{x:C,y:v.top},{x:C,y:v.bottom},{x:E,y:v.bottom}],side:w}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>r.onPointerGraceIntentChange(null),300)}else{if(r.onTriggerLeave(m),m.defaultPrevented)return;r.onPointerGraceIntentChange(null)}})),onKeyDown:ye(i.onKeyDown,m=>{const v=r.searchRef.current!=="";i.disabled||v&&m.key===" "||x3[s.dir].includes(m.key)&&(t.onOpenChange(!0),t.content?.focus(),m.preventDefault())})})})});IA.displayName=Il;var FA="MenuSubContent",zA=b.forwardRef((i,e)=>{const t=AA(Es,i.__scopeMenu),{forceMount:s=t.forceMount,...a}=i,r=di(Es,i.__scopeMenu),l=rc(Es,i.__scopeMenu),d=BA(FA,i.__scopeMenu),h=b.useRef(null),p=qe(e,h);return u.jsx(Wl.Provider,{scope:i.__scopeMenu,children:u.jsx(qn,{present:s||r.open,children:u.jsx(Wl.Slot,{scope:i.__scopeMenu,children:u.jsx(gg,{id:d.contentId,"aria-labelledby":d.triggerId,...a,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{l.isUsingKeyboardRef.current&&h.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:ye(i.onFocusOutside,g=>{g.target!==d.trigger&&r.onOpenChange(!1)}),onEscapeKeyDown:ye(i.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:ye(i.onKeyDown,g=>{const m=g.currentTarget.contains(g.target),v=v3[l.dir].includes(g.key);m&&v&&(r.onOpenChange(!1),d.trigger?.focus(),g.preventDefault())})})})})})});zA.displayName=FA;function HA(i){return i?"open":"closed"}function mu(i){return i==="indeterminate"}function yg(i){return mu(i)?"indeterminate":i?"checked":"unchecked"}function I3(i){const e=document.activeElement;for(const t of i)if(t===e||(t.focus(),document.activeElement!==e))return}function F3(i,e){return i.map((t,s)=>i[(e+s)%i.length])}function z3(i,e,t){const a=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,r=t?i.indexOf(t):-1;let l=F3(i,Math.max(r,0));a.length===1&&(l=l.filter(p=>p!==t));const h=l.find(p=>p.toLowerCase().startsWith(a.toLowerCase()));return h!==t?h:void 0}function H3(i,e){const{x:t,y:s}=i;let a=!1;for(let r=0,l=e.length-1;r<e.length;l=r++){const d=e[r],h=e[l],p=d.x,g=d.y,m=h.x,v=h.y;g>s!=v>s&&t<(m-p)*(s-g)/(v-g)+p&&(a=!a)}return a}function U3(i,e){if(!e)return!1;const t={x:i.clientX,y:i.clientY};return H3(t,e)}function Kl(i){return e=>e.pointerType==="mouse"?i(e):void 0}var V3=SA,$3=fg,G3=CA,q3=EA,Y3=xg,X3=TA,W3=Yu,K3=NA,Q3=jA,Z3=kA,J3=MA,e5=OA,t5=LA,n5=IA,s5=zA,Xu="DropdownMenu",[o5]=rs(Xu,[bA]),Rn=bA(),[a5,UA]=o5(Xu),VA=i=>{const{__scopeDropdownMenu:e,children:t,dir:s,open:a,defaultOpen:r,onOpenChange:l,modal:d=!0}=i,h=Rn(e),p=b.useRef(null),[g,m]=Fo({prop:a,defaultProp:r??!1,onChange:l,caller:Xu});return u.jsx(a5,{scope:e,triggerId:ao(),triggerRef:p,contentId:ao(),open:g,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(v=>!v),[m]),modal:d,children:u.jsx(V3,{...h,open:g,onOpenChange:m,dir:s,modal:d,children:t})})};VA.displayName=Xu;var $A="DropdownMenuTrigger",GA=b.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,disabled:s=!1,...a}=i,r=UA($A,t),l=Rn(t);return u.jsx($3,{asChild:!0,...l,children:u.jsx(Ie.button,{type:"button",id:r.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":r.open?r.contentId:void 0,"data-state":r.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:$o(e,r.triggerRef),onPointerDown:ye(i.onPointerDown,d=>{!s&&d.button===0&&d.ctrlKey===!1&&(r.onOpenToggle(),r.open||d.preventDefault())}),onKeyDown:ye(i.onKeyDown,d=>{s||(["Enter"," "].includes(d.key)&&r.onOpenToggle(),d.key==="ArrowDown"&&r.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});GA.displayName=$A;var i5="DropdownMenuPortal",qA=i=>{const{__scopeDropdownMenu:e,...t}=i,s=Rn(e);return u.jsx(G3,{...s,...t})};qA.displayName=i5;var YA="DropdownMenuContent",XA=b.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...s}=i,a=UA(YA,t),r=Rn(t),l=b.useRef(!1);return u.jsx(q3,{id:a.contentId,"aria-labelledby":a.triggerId,...r,...s,ref:e,onCloseAutoFocus:ye(i.onCloseAutoFocus,d=>{l.current||a.triggerRef.current?.focus(),l.current=!1,d.preventDefault()}),onInteractOutside:ye(i.onInteractOutside,d=>{const h=d.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,g=h.button===2||p;(!a.modal||g)&&(l.current=!0)}),style:{...i.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XA.displayName=YA;var r5="DropdownMenuGroup",l5=b.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...s}=i,a=Rn(t);return u.jsx(Y3,{...a,...s,ref:e})});l5.displayName=r5;var c5="DropdownMenuLabel",d5=b.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...s}=i,a=Rn(t);return u.jsx(X3,{...a,...s,ref:e})});d5.displayName=c5;var u5="DropdownMenuItem",WA=b.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...s}=i,a=Rn(t);return u.jsx(W3,{...a,...s,ref:e})});WA.displayName=u5;var h5="DropdownMenuCheckboxItem",f5=b.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...s}=i,a=Rn(t);return u.jsx(K3,{...a,...s,ref:e})});f5.displayName=h5;var p5="DropdownMenuRadioGroup",m5=b.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...s}=i,a=Rn(t);return u.jsx(Q3,{...a,...s,ref:e})});m5.displayName=p5;var g5="DropdownMenuRadioItem",x5=b.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...s}=i,a=Rn(t);return u.jsx(Z3,{...a,...s,ref:e})});x5.displayName=g5;var v5="DropdownMenuItemIndicator",y5=b.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...s}=i,a=Rn(t);return u.jsx(J3,{...a,...s,ref:e})});y5.displayName=v5;var b5="DropdownMenuSeparator",w5=b.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...s}=i,a=Rn(t);return u.jsx(e5,{...a,...s,ref:e})});w5.displayName=b5;var S5="DropdownMenuArrow",A5=b.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...s}=i,a=Rn(t);return u.jsx(t5,{...a,...s,ref:e})});A5.displayName=S5;var C5="DropdownMenuSubTrigger",E5=b.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...s}=i,a=Rn(t);return u.jsx(n5,{...a,...s,ref:e})});E5.displayName=C5;var T5="DropdownMenuSubContent",_5=b.forwardRef((i,e)=>{const{__scopeDropdownMenu:t,...s}=i,a=Rn(t);return u.jsx(s5,{...a,...s,ref:e,style:{...i.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_5.displayName=T5;var N5=VA,P5=GA,j5=qA,D5=XA,k5=WA;function wr({...i}){return u.jsx(N5,{"code-path":"src\\components\\ui\\dropdown-menu.tsx:10:10","data-slot":"dropdown-menu",...i})}function Sr({...i}){return u.jsx(P5,{"code-path":"src\\components\\ui\\dropdown-menu.tsx:25:5","data-slot":"dropdown-menu-trigger",...i})}function Ar({className:i,sideOffset:e=4,...t}){return u.jsx(j5,{"code-path":"src\\components\\ui\\dropdown-menu.tsx:38:5",children:u.jsx(D5,{"code-path":"src\\components\\ui\\dropdown-menu.tsx:39:7","data-slot":"dropdown-menu-content",sideOffset:e,className:Ge("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",i),...t})})}function Gn({className:i,inset:e,variant:t="default",...s}){return u.jsx(k5,{"code-path":"src\\components\\ui\\dropdown-menu.tsx:70:5","data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:Ge("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...s})}const R5={unread:"",reading:"",completed:""},M5={unread:"bg-slate-100 text-slate-700",reading:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700"},O5={book:"",paper:"",article:"",other:""};function L5({book:i,category:e,onClick:t,onEdit:s,onDelete:a}){return u.jsx(qt,{"code-path":"src\\components\\BookCard.tsx:42:5",className:"cursor-pointer hover:shadow-md transition-shadow overflow-hidden",onClick:t,children:u.jsx(Yt,{"code-path":"src\\components\\BookCard.tsx:43:7",className:"p-4",children:u.jsxs("div",{"code-path":"src\\components\\BookCard.tsx:44:9",className:"flex gap-3",children:[u.jsx("div",{"code-path":"src\\components\\BookCard.tsx:46:11",className:"flex-shrink-0",children:i.coverUrl?u.jsx("img",{"code-path":"src\\components\\BookCard.tsx:48:15",src:i.coverUrl,alt:i.title,className:"w-20 h-28 object-cover rounded-md bg-muted"}):u.jsxs("div",{"code-path":"src\\components\\BookCard.tsx:54:15",className:"w-20 h-28 rounded-md bg-muted flex items-center justify-center relative",children:[u.jsx(kr,{"code-path":"src\\components\\BookCard.tsx:55:17",className:"h-8 w-8 text-muted-foreground"}),i.fileId&&u.jsx("div",{"code-path":"src\\components\\BookCard.tsx:57:19",className:"absolute bottom-1 right-1 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:u.jsx(wa,{"code-path":"src\\components\\BookCard.tsx:58:21",className:"h-3 w-3 text-primary-foreground"})})]})}),u.jsxs("div",{"code-path":"src\\components\\BookCard.tsx:66:11",className:"flex-1 min-w-0",children:[u.jsxs("div",{"code-path":"src\\components\\BookCard.tsx:67:13",className:"flex items-start justify-between gap-2",children:[u.jsx("h3",{"code-path":"src\\components\\BookCard.tsx:68:15",className:"font-semibold text-sm line-clamp-2 flex-1",children:i.title}),u.jsxs(wr,{"code-path":"src\\components\\BookCard.tsx:69:15",children:[u.jsx(Sr,{"code-path":"src\\components\\BookCard.tsx:70:17",asChild:!0,children:u.jsx(ie,{"code-path":"src\\components\\BookCard.tsx:71:19",variant:"ghost",size:"icon",className:"h-7 w-7 -mr-2 -mt-1 flex-shrink-0",onClick:r=>r.stopPropagation(),children:u.jsx(yr,{"code-path":"src\\components\\BookCard.tsx:77:21",className:"h-4 w-4"})})}),u.jsxs(Ar,{"code-path":"src\\components\\BookCard.tsx:80:17",align:"end",children:[u.jsx(Gn,{"code-path":"src\\components\\BookCard.tsx:81:19",onClick:r=>{r.stopPropagation(),s?.()},children:""}),u.jsx(Gn,{"code-path":"src\\components\\BookCard.tsx:84:19",className:"text-destructive",onClick:r=>{r.stopPropagation(),a?.()},children:""})]})]})]}),u.jsx("p",{"code-path":"src\\components\\BookCard.tsx:94:13",className:"text-xs text-muted-foreground mt-1",children:i.author}),u.jsxs("div",{"code-path":"src\\components\\BookCard.tsx:96:13",className:"flex items-center gap-2 mt-2 flex-wrap",children:[u.jsx(fn,{"code-path":"src\\components\\BookCard.tsx:97:15",variant:"secondary",className:`text-xs ${M5[i.status]}`,children:R5[i.status]}),u.jsx(fn,{"code-path":"src\\components\\BookCard.tsx:100:15",variant:"outline",className:"text-xs",children:O5[i.type]}),e&&u.jsx(fn,{"code-path":"src\\components\\BookCard.tsx:104:17",variant:"outline",className:"text-xs",style:{borderColor:e.color,color:e.color},children:e.name})]}),u.jsxs("div",{"code-path":"src\\components\\BookCard.tsx:114:13",className:"flex items-center justify-between mt-3",children:[u.jsx("div",{"code-path":"src\\components\\BookCard.tsx:115:15",className:"flex items-center gap-1",children:i.rating?u.jsxs(u.Fragment,{children:[u.jsx(Ow,{"code-path":"src\\components\\BookCard.tsx:118:21",className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),u.jsx("span",{"code-path":"src\\components\\BookCard.tsx:119:21",className:"text-xs",children:i.rating})]}):u.jsx("span",{"code-path":"src\\components\\BookCard.tsx:122:19",className:"text-xs text-muted-foreground",children:""})}),u.jsxs("div",{"code-path":"src\\components\\BookCard.tsx:125:15",className:"flex items-center gap-2 text-muted-foreground",children:[i.fileId&&u.jsx(wa,{"code-path":"src\\components\\BookCard.tsx:127:19",className:"h-3 w-3 text-primary"}),u.jsxs("div",{"code-path":"src\\components\\BookCard.tsx:129:17",className:"flex items-center gap-1",children:[u.jsx(_u,{"code-path":"src\\components\\BookCard.tsx:130:19",className:"h-3 w-3"}),u.jsx("span",{"code-path":"src\\components\\BookCard.tsx:131:19",className:"text-xs",children:i.annotations.length})]})]})]}),i.currentPage&&i.totalPages&&u.jsxs("div",{"code-path":"src\\components\\BookCard.tsx:137:15",className:"mt-2",children:[u.jsx("div",{"code-path":"src\\components\\BookCard.tsx:138:17",className:"h-1.5 w-full bg-muted rounded-full overflow-hidden",children:u.jsx("div",{"code-path":"src\\components\\BookCard.tsx:139:19",className:"h-full bg-primary rounded-full",style:{width:`${i.currentPage/i.totalPages*100}%`}})}),u.jsxs("p",{"code-path":"src\\components\\BookCard.tsx:144:17",className:"text-xs text-muted-foreground mt-0.5",children:[i.currentPage," / ",i.totalPages," "]})]})]})]})})})}const W1=[{value:"unread",label:""},{value:"reading",label:""},{value:"completed",label:""}],K1=[{value:"book",label:""},{value:"paper",label:""},{value:"article",label:""},{value:"other",label:""}];function B5({books:i,categories:e,filter:t,onFilterChange:s,onBookClick:a,allTags:r,onEditBook:l,onDeleteBook:d}){const[h,p]=b.useState(!1),g=w=>e.find(A=>A.id===w),m=t.categoryId||t.status||t.type||t.tags&&t.tags.length>0,v=()=>{s({categoryId:void 0,status:void 0,type:void 0,tags:void 0})};return u.jsxs("div",{"code-path":"src\\components\\BookList.tsx:61:5",className:"space-y-4",children:[u.jsxs("div",{"code-path":"src\\components\\BookList.tsx:63:7",className:"flex items-center gap-2",children:[u.jsxs(gS,{"code-path":"src\\components\\BookList.tsx:64:9",open:h,onOpenChange:p,children:[u.jsx(xS,{"code-path":"src\\components\\BookList.tsx:65:11",asChild:!0,children:u.jsxs(ie,{"code-path":"src\\components\\BookList.tsx:66:13",variant:"outline",size:"sm",className:"gap-2",children:[u.jsx(xj,{"code-path":"src\\components\\BookList.tsx:67:15",className:"h-4 w-4"}),"",m&&u.jsx(fn,{"code-path":"src\\components\\BookList.tsx:70:17",variant:"secondary",className:"ml-1",children:"!"})]})}),u.jsxs(vS,{"code-path":"src\\components\\BookList.tsx:76:11",side:"right",className:"w-full sm:max-w-md",children:[u.jsx(yS,{"code-path":"src\\components\\BookList.tsx:77:13",children:u.jsx(bS,{"code-path":"src\\components\\BookList.tsx:78:15",children:""})}),u.jsxs("div",{"code-path":"src\\components\\BookList.tsx:80:13",className:"space-y-6 py-6",children:[u.jsxs("div",{"code-path":"src\\components\\BookList.tsx:82:15",className:"space-y-2",children:[u.jsx("label",{"code-path":"src\\components\\BookList.tsx:83:17",className:"text-sm font-medium",children:""}),u.jsxs(Oo,{"code-path":"src\\components\\BookList.tsx:84:17",value:t.categoryId||"all",onValueChange:w=>s({categoryId:w==="all"?void 0:w}),children:[u.jsx(Bo,{"code-path":"src\\components\\BookList.tsx:90:19",children:u.jsx(Lo,{"code-path":"src\\components\\BookList.tsx:91:21",placeholder:""})}),u.jsxs(Io,{"code-path":"src\\components\\BookList.tsx:93:19",children:[u.jsx(Gt,{"code-path":"src\\components\\BookList.tsx:94:21",value:"all",children:""}),e.map(w=>u.jsx(Gt,{"code-path":"src\\components\\BookList.tsx:96:23",value:w.id,children:u.jsxs("div",{"code-path":"src\\components\\BookList.tsx:97:25",className:"flex items-center gap-2",children:[u.jsx("div",{"code-path":"src\\components\\BookList.tsx:98:27",className:"w-3 h-3 rounded-full",style:{backgroundColor:w.color}}),w.name]})},w.id))]})]})]}),u.jsxs("div",{"code-path":"src\\components\\BookList.tsx:111:15",className:"space-y-2",children:[u.jsx("label",{"code-path":"src\\components\\BookList.tsx:112:17",className:"text-sm font-medium",children:""}),u.jsxs(Oo,{"code-path":"src\\components\\BookList.tsx:113:17",value:t.status||"all",onValueChange:w=>s({status:w==="all"?void 0:w}),children:[u.jsx(Bo,{"code-path":"src\\components\\BookList.tsx:119:19",children:u.jsx(Lo,{"code-path":"src\\components\\BookList.tsx:120:21",placeholder:""})}),u.jsxs(Io,{"code-path":"src\\components\\BookList.tsx:122:19",children:[u.jsx(Gt,{"code-path":"src\\components\\BookList.tsx:123:21",value:"all",children:""}),W1.map(w=>u.jsx(Gt,{"code-path":"src\\components\\BookList.tsx:125:23",value:w.value,children:w.label},w.value))]})]})]}),u.jsxs("div",{"code-path":"src\\components\\BookList.tsx:134:15",className:"space-y-2",children:[u.jsx("label",{"code-path":"src\\components\\BookList.tsx:135:17",className:"text-sm font-medium",children:""}),u.jsxs(Oo,{"code-path":"src\\components\\BookList.tsx:136:17",value:t.type||"all",onValueChange:w=>s({type:w==="all"?void 0:w}),children:[u.jsx(Bo,{"code-path":"src\\components\\BookList.tsx:142:19",children:u.jsx(Lo,{"code-path":"src\\components\\BookList.tsx:143:21",placeholder:""})}),u.jsxs(Io,{"code-path":"src\\components\\BookList.tsx:145:19",children:[u.jsx(Gt,{"code-path":"src\\components\\BookList.tsx:146:21",value:"all",children:""}),K1.map(w=>u.jsx(Gt,{"code-path":"src\\components\\BookList.tsx:148:23",value:w.value,children:w.label},w.value))]})]})]}),r.length>0&&u.jsxs("div",{"code-path":"src\\components\\BookList.tsx:158:17",className:"space-y-2",children:[u.jsx("label",{"code-path":"src\\components\\BookList.tsx:159:19",className:"text-sm font-medium",children:""}),u.jsx("div",{"code-path":"src\\components\\BookList.tsx:160:19",className:"flex flex-wrap gap-2",children:r.map(w=>u.jsx(fn,{"code-path":"src\\components\\BookList.tsx:162:23",variant:t.tags?.includes(w)?"default":"outline",className:"cursor-pointer",onClick:()=>{const A=t.tags||[],S=A.includes(w)?A.filter(E=>E!==w):[...A,w];s({tags:S.length>0?S:void 0})},children:w},w))})]}),m&&u.jsx(ie,{"code-path":"src\\components\\BookList.tsx:182:17",variant:"outline",className:"w-full",onClick:v,children:""})]})]})]}),t.categoryId&&u.jsxs(fn,{"code-path":"src\\components\\BookList.tsx:192:11",variant:"secondary",className:"gap-1",children:[g(t.categoryId)?.name,u.jsx(Cn,{"code-path":"src\\components\\BookList.tsx:194:13",className:"h-3 w-3 cursor-pointer",onClick:()=>s({categoryId:void 0})})]}),t.status&&u.jsxs(fn,{"code-path":"src\\components\\BookList.tsx:201:11",variant:"secondary",className:"gap-1",children:[W1.find(w=>w.value===t.status)?.label,u.jsx(Cn,{"code-path":"src\\components\\BookList.tsx:203:13",className:"h-3 w-3 cursor-pointer",onClick:()=>s({status:void 0})})]}),t.type&&u.jsxs(fn,{"code-path":"src\\components\\BookList.tsx:210:11",variant:"secondary",className:"gap-1",children:[K1.find(w=>w.value===t.type)?.label,u.jsx(Cn,{"code-path":"src\\components\\BookList.tsx:212:13",className:"h-3 w-3 cursor-pointer",onClick:()=>s({type:void 0})})]})]}),u.jsxs("div",{"code-path":"src\\components\\BookList.tsx:221:7",className:"text-sm text-muted-foreground",children:[" ",i.length," "]}),i.length>0?u.jsx("div",{"code-path":"src\\components\\BookList.tsx:227:9",className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.map(w=>u.jsx(L5,{"code-path":"src\\components\\BookList.tsx:229:13",book:w,category:g(w.categoryId),onClick:()=>a(w),onEdit:()=>l?.(w),onDelete:()=>d?.(w.id)},w.id))}):u.jsxs("div",{"code-path":"src\\components\\BookList.tsx:240:9",className:"text-center py-12",children:[u.jsx("p",{"code-path":"src\\components\\BookList.tsx:241:11",className:"text-muted-foreground",children:""}),m&&u.jsx(ie,{"code-path":"src\\components\\BookList.tsx:243:13",variant:"link",onClick:v,children:""})]})]})}function Bs({className:i,...e}){return u.jsx("textarea",{"code-path":"src\\components\\ui\\textarea.tsx:7:5","data-slot":"textarea",className:Ge("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),...e})}function ft({className:i,type:e,...t}){return u.jsx("input",{"code-path":"src\\components\\ui\\input.tsx:7:5",type:e,"data-slot":"input",className:Ge("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i),...t})}var I5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],F5=I5.reduce((i,e)=>{const t=qm(`Primitive.${e}`),s=b.forwardRef((a,r)=>{const{asChild:l,...d}=a,h=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(h,{...d,ref:r})});return s.displayName=`Primitive.${e}`,{...i,[e]:s}},{}),z5="Label",KA=b.forwardRef((i,e)=>u.jsx(F5.label,{...i,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(i.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));KA.displayName=z5;var H5=KA;function Be({className:i,...e}){return u.jsx(H5,{"code-path":"src\\components\\ui\\label.tsx:13:5","data-slot":"label",className:Ge("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",i),...e})}function nn({...i}){return u.jsx(Jm,{"code-path":"src\\components\\ui\\dialog.tsx:10:10","data-slot":"dialog",...i})}function U5({...i}){return u.jsx(eg,{"code-path":"src\\components\\ui\\dialog.tsx:22:10","data-slot":"dialog-portal",...i})}function V5({className:i,...e}){return u.jsx(tg,{"code-path":"src\\components\\ui\\dialog.tsx:36:5","data-slot":"dialog-overlay",className:Ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",i),...e})}function sn({className:i,children:e,showCloseButton:t=!0,...s}){return u.jsxs(U5,{"code-path":"src\\components\\ui\\dialog.tsx:56:5","data-slot":"dialog-portal",children:[u.jsx(V5,{"code-path":"src\\components\\ui\\dialog.tsx:57:7"}),u.jsxs(ng,{"code-path":"src\\components\\ui\\dialog.tsx:58:7","data-slot":"dialog-content",className:Ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",i),...s,children:[e,t&&u.jsxs(Ou,{"code-path":"src\\components\\ui\\dialog.tsx:68:11","data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(Cn,{"code-path":"src\\components\\ui\\dialog.tsx:72:13"}),u.jsx("span",{"code-path":"src\\components\\ui\\dialog.tsx:73:13",className:"sr-only",children:"Close"})]})]})]})}function on({className:i,...e}){return u.jsx("div",{"code-path":"src\\components\\ui\\dialog.tsx:83:5","data-slot":"dialog-header",className:Ge("flex flex-col gap-2 text-center sm:text-left",i),...e})}function Os({className:i,...e}){return u.jsx("div",{"code-path":"src\\components\\ui\\dialog.tsx:93:5","data-slot":"dialog-footer",className:Ge("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",i),...e})}function an({className:i,...e}){return u.jsx(sg,{"code-path":"src\\components\\ui\\dialog.tsx:109:5","data-slot":"dialog-title",className:Ge("text-lg leading-none font-semibold",i),...e})}function QA({className:i,...e}){return u.jsx(mS,{"code-path":"src\\components\\ui\\dialog.tsx:122:5","data-slot":"dialog-description",className:Ge("text-muted-foreground text-sm",i),...e})}const $5={unread:"",reading:"",completed:""};function G5({book:i,categories:e,onBack:t,onUpdate:s,onDelete:a,onAddAnnotation:r,onUpdateAnnotation:l,onDeleteAnnotation:d,onUploadFile:h,onDeleteFile:p,onReadPDF:g,onReadText:m,hasFile:v,onUploadCover:w}){const[A,S]=b.useState(!1),[E,C]=b.useState(!1),[_,N]=b.useState(""),[j,M]=b.useState(""),[L,O]=b.useState(null),[I,z]=b.useState(""),[$,Y]=b.useState({title:i.title,author:i.author,description:i.description||"",totalPages:i.totalPages?.toString()||"",currentPage:i.currentPage?.toString()||"",rating:i.rating?.toString()||""}),se=b.useRef(null),re=b.useRef(null),ae=e.find(X=>X.id===i.categoryId),fe=async X=>{const le=X.target.files?.[0];if(le&&w){if(!le.type.startsWith("image/")){be.error("");return}await w(i.id,le),be.success("")}},D=()=>{s(i.id,{coverUrl:void 0}),be.success("")},U=()=>{if(!$.title.trim()){be.error("");return}s(i.id,{title:$.title.trim(),author:$.author.trim(),description:$.description.trim()||void 0,totalPages:$.totalPages?parseInt($.totalPages):void 0,currentPage:$.currentPage?parseInt($.currentPage):void 0,rating:$.rating?parseInt($.rating):void 0}),S(!1),be.success("")},H=()=>{a(i.id)},F=()=>{if(!_.trim()){be.error("");return}r(i.id,_.trim(),j?parseInt(j):void 0),N(""),M(""),be.success("")},K=()=>{if(!L||!I.trim()){be.error("");return}l(i.id,L.id,I.trim()),O(null),z(""),be.success("")},P=X=>{d(i.id,X)},R=X=>{const le=X.target.files?.[0];le&&h&&h(i.id,le)},B=async()=>{if(p)try{await p(i.id),be.success("")}catch{be.error("")}},q=i.totalPages&&i.currentPage?Math.round(i.currentPage/i.totalPages*100):0;return u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:192:5",className:"space-y-6",children:[u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:194:7",className:"flex items-center gap-2",children:[u.jsx(ie,{"code-path":"src\\components\\BookDetail.tsx:195:9",variant:"ghost",size:"icon",onClick:t,children:u.jsx(ZN,{"code-path":"src\\components\\BookDetail.tsx:196:11",className:"h-5 w-5"})}),u.jsx("h1",{"code-path":"src\\components\\BookDetail.tsx:198:9",className:"text-lg font-semibold flex-1 truncate",children:i.title}),u.jsxs(wr,{"code-path":"src\\components\\BookDetail.tsx:199:9",children:[u.jsx(Sr,{"code-path":"src\\components\\BookDetail.tsx:200:11",asChild:!0,children:u.jsx(ie,{"code-path":"src\\components\\BookDetail.tsx:201:13",variant:"ghost",size:"icon",children:u.jsx(yr,{"code-path":"src\\components\\BookDetail.tsx:202:15",className:"h-5 w-5"})})}),u.jsxs(Ar,{"code-path":"src\\components\\BookDetail.tsx:205:11",align:"end",children:[u.jsxs(Gn,{"code-path":"src\\components\\BookDetail.tsx:206:13",onClick:()=>S(!0),children:[u.jsx(Ul,{"code-path":"src\\components\\BookDetail.tsx:207:15",className:"h-4 w-4 mr-2"}),""]}),u.jsxs(Gn,{"code-path":"src\\components\\BookDetail.tsx:210:13",className:"text-destructive",onClick:()=>C(!0),children:[u.jsx(io,{"code-path":"src\\components\\BookDetail.tsx:214:15",className:"h-4 w-4 mr-2"}),""]})]})]})]}),u.jsx(qt,{"code-path":"src\\components\\BookDetail.tsx:222:7",children:u.jsxs(Yt,{"code-path":"src\\components\\BookDetail.tsx:223:9",className:"p-4",children:[u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:224:11",className:"flex gap-4",children:[u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:226:13",className:"flex-shrink-0 relative group",children:[i.coverUrl?u.jsxs(u.Fragment,{children:[u.jsx("img",{"code-path":"src\\components\\BookDetail.tsx:229:19",src:i.coverUrl,alt:i.title,className:"w-28 h-40 object-cover rounded-lg bg-muted"}),u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:230:19",className:"absolute inset-0 bg-black/50 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[u.jsx(ie,{"code-path":"src\\components\\BookDetail.tsx:231:21",variant:"ghost",size:"icon",className:"text-white hover:text-white hover:bg-white/20",onClick:()=>re.current?.click(),children:u.jsx(Gl,{"code-path":"src\\components\\BookDetail.tsx:237:23",className:"h-4 w-4"})}),u.jsx(ie,{"code-path":"src\\components\\BookDetail.tsx:239:21",variant:"ghost",size:"icon",className:"text-white hover:text-white hover:bg-white/20",onClick:D,children:u.jsx(Cn,{"code-path":"src\\components\\BookDetail.tsx:245:23",className:"h-4 w-4"})})]})]}):u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:250:17",className:"w-28 h-40 rounded-lg bg-gradient-to-br from-muted to-muted/50 flex flex-col items-center justify-center cursor-pointer hover:from-muted/80 hover:to-muted/30 transition-colors border-2 border-dashed border-muted-foreground/30",onClick:()=>re.current?.click(),children:[u.jsx(DP,{"code-path":"src\\components\\BookDetail.tsx:254:19",className:"h-10 w-10 text-muted-foreground/50 mb-2"}),u.jsx("span",{"code-path":"src\\components\\BookDetail.tsx:255:19",className:"text-xs text-muted-foreground/70",children:""})]}),u.jsx("input",{"code-path":"src\\components\\BookDetail.tsx:258:15",ref:re,type:"file",accept:"image/*",className:"hidden",onChange:fe})]}),u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:268:13",className:"flex-1 space-y-2",children:[u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:269:15",children:[u.jsx("h2",{"code-path":"src\\components\\BookDetail.tsx:270:17",className:"font-semibold text-lg",children:i.title}),u.jsxs("p",{"code-path":"src\\components\\BookDetail.tsx:271:17",className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[u.jsx(Rj,{"code-path":"src\\components\\BookDetail.tsx:272:19",className:"h-3 w-3"}),i.author]})]}),ae&&u.jsx(fn,{"code-path":"src\\components\\BookDetail.tsx:278:17",variant:"outline",style:{borderColor:ae.color,color:ae.color},children:ae.name}),u.jsxs(Oo,{"code-path":"src\\components\\BookDetail.tsx:284:15",value:i.status,onValueChange:X=>{s(i.id,{status:X,completedAt:X==="completed"?new Date().toISOString():void 0}),be.success("")},children:[u.jsx(Bo,{"code-path":"src\\components\\BookDetail.tsx:294:17",className:"w-32 h-8",children:u.jsx(Lo,{"code-path":"src\\components\\BookDetail.tsx:295:19"})}),u.jsx(Io,{"code-path":"src\\components\\BookDetail.tsx:297:17",children:Object.entries($5).map(([X,le])=>u.jsx(Gt,{"code-path":"src\\components\\BookDetail.tsx:299:21",value:X,children:le},X))})]}),u.jsx("div",{"code-path":"src\\components\\BookDetail.tsx:307:15",className:"flex items-center gap-1",children:[1,2,3,4,5].map(X=>u.jsx("button",{"code-path":"src\\components\\BookDetail.tsx:309:19",onClick:()=>s(i.id,{rating:X}),className:"p-0.5",children:u.jsx(Ow,{"code-path":"src\\components\\BookDetail.tsx:310:21",className:`h-5 w-5 ${(i.rating||0)>=X?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`})},X))})]})]}),u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:322:11",className:"mt-4 pt-4 border-t",children:[u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:323:13",className:"flex items-center justify-between",children:[u.jsx("span",{"code-path":"src\\components\\BookDetail.tsx:324:15",className:"text-sm font-medium",children:""}),v?u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:326:17",className:"flex gap-2",children:[i.fileType==="txt"&&m&&u.jsxs(ie,{"code-path":"src\\components\\BookDetail.tsx:328:21",size:"sm",variant:"outline",onClick:m,children:[u.jsx(r1,{"code-path":"src\\components\\BookDetail.tsx:329:23",className:"h-4 w-4 mr-1"}),""]}),i.fileType&&i.fileType!=="txt"&&SD(i.fileType)&&g&&u.jsxs(ie,{"code-path":"src\\components\\BookDetail.tsx:334:21",size:"sm",variant:"outline",onClick:g,children:[u.jsx(r1,{"code-path":"src\\components\\BookDetail.tsx:335:23",className:"h-4 w-4 mr-1"}),""]}),p&&u.jsxs(ie,{"code-path":"src\\components\\BookDetail.tsx:340:21",size:"sm",variant:"outline",className:"text-destructive",onClick:B,children:[u.jsx(io,{"code-path":"src\\components\\BookDetail.tsx:341:23",className:"h-4 w-4 mr-1"}),""]})]}):u.jsxs(ie,{"code-path":"src\\components\\BookDetail.tsx:347:17",size:"sm",variant:"outline",onClick:()=>se.current?.click(),children:[u.jsx(Gl,{"code-path":"src\\components\\BookDetail.tsx:348:19",className:"h-4 w-4 mr-1"}),""]})]}),u.jsx("input",{"code-path":"src\\components\\BookDetail.tsx:353:13",ref:se,type:"file",className:"hidden",onChange:R}),v&&u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:360:15",className:"flex items-center gap-2 mt-2 text-sm text-muted-foreground",children:[u.jsx("span",{"code-path":"src\\components\\BookDetail.tsx:361:17",className:"text-lg",children:i.fileType?bD(i.fileType):""}),u.jsx("span",{"code-path":"src\\components\\BookDetail.tsx:362:17",children:i.fileName||""}),i.fileType&&u.jsx(fn,{"code-path":"src\\components\\BookDetail.tsx:364:19",variant:"secondary",className:"text-xs",children:wD(i.fileType)})]})]}),i.totalPages&&u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:374:13",className:"mt-4 pt-4 border-t",children:[u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:375:15",className:"flex items-center justify-between mb-2",children:[u.jsx("span",{"code-path":"src\\components\\BookDetail.tsx:376:17",className:"text-sm",children:""}),u.jsxs("span",{"code-path":"src\\components\\BookDetail.tsx:377:17",className:"text-sm text-muted-foreground",children:[i.currentPage||0," / ",i.totalPages,"  (",q,"%)"]})]}),u.jsx("div",{"code-path":"src\\components\\BookDetail.tsx:381:15",className:"h-2 w-full bg-muted rounded-full overflow-hidden",children:u.jsx("div",{"code-path":"src\\components\\BookDetail.tsx:382:17",className:"h-full bg-primary rounded-full transition-all",style:{width:`${q}%`}})}),u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:384:15",className:"flex gap-2 mt-3",children:[u.jsx(ft,{"code-path":"src\\components\\BookDetail.tsx:385:17",type:"number",placeholder:"",value:i.currentPage||"",onChange:X=>s(i.id,{currentPage:X.target.value?parseInt(X.target.value):void 0}),className:"w-28"}),u.jsx(ie,{"code-path":"src\\components\\BookDetail.tsx:396:17",variant:"outline",size:"sm",onClick:()=>s(i.id,{currentPage:i.totalPages,status:"completed",completedAt:new Date().toISOString()}),children:""})]})]}),i.description&&u.jsx("div",{"code-path":"src\\components\\BookDetail.tsx:415:13",className:"mt-4 pt-4 border-t",children:u.jsx("p",{"code-path":"src\\components\\BookDetail.tsx:416:15",className:"text-sm text-muted-foreground whitespace-pre-wrap",children:i.description})}),i.tags.length>0&&u.jsx("div",{"code-path":"src\\components\\BookDetail.tsx:422:13",className:"mt-4 pt-4 border-t",children:u.jsx("div",{"code-path":"src\\components\\BookDetail.tsx:423:15",className:"flex flex-wrap gap-2",children:i.tags.map(X=>u.jsx(fn,{"code-path":"src\\components\\BookDetail.tsx:425:19",variant:"secondary",children:X},X))})}),u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:434:11",className:"mt-4 pt-4 border-t flex items-center gap-4 text-xs text-muted-foreground",children:[u.jsxs("span",{"code-path":"src\\components\\BookDetail.tsx:435:13",className:"flex items-center gap-1",children:[u.jsx(gr,{"code-path":"src\\components\\BookDetail.tsx:436:15",className:"h-3 w-3"})," ",new Date(i.createdAt).toLocaleDateString()]}),i.completedAt&&u.jsxs("span",{"code-path":"src\\components\\BookDetail.tsx:440:15",className:"flex items-center gap-1",children:[u.jsx(gr,{"code-path":"src\\components\\BookDetail.tsx:441:17",className:"h-3 w-3"})," ",new Date(i.completedAt).toLocaleDateString()]})]})]})}),u.jsxs(qt,{"code-path":"src\\components\\BookDetail.tsx:450:7",children:[u.jsx(tu,{"code-path":"src\\components\\BookDetail.tsx:451:9",children:u.jsxs(nu,{"code-path":"src\\components\\BookDetail.tsx:452:11",className:"text-lg flex items-center gap-2",children:[u.jsx(_u,{"code-path":"src\\components\\BookDetail.tsx:453:13",className:"h-5 w-5"})," (",i.annotations.length,")"]})}),u.jsxs(Yt,{"code-path":"src\\components\\BookDetail.tsx:457:9",className:"space-y-4",children:[u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:459:11",className:"space-y-2",children:[u.jsx(Bs,{"code-path":"src\\components\\BookDetail.tsx:460:13",placeholder:"...",value:_,onChange:X=>N(X.target.value),rows:3}),u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:466:13",className:"flex gap-2",children:[u.jsx(ft,{"code-path":"src\\components\\BookDetail.tsx:467:15",type:"number",placeholder:"",value:j,onChange:X=>M(X.target.value),className:"w-32"}),u.jsxs(ie,{"code-path":"src\\components\\BookDetail.tsx:474:15",onClick:F,disabled:!_.trim(),className:"gap-2",children:[u.jsx(Ls,{"code-path":"src\\components\\BookDetail.tsx:475:17",className:"h-4 w-4"}),""]})]})]}),i.annotations.length>0?u.jsx("div",{"code-path":"src\\components\\BookDetail.tsx:483:13",className:"space-y-3",children:i.annotations.map(X=>u.jsx("div",{"code-path":"src\\components\\BookDetail.tsx:485:17",className:"p-3 bg-muted rounded-lg",children:u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:486:19",className:"flex items-start justify-between gap-2",children:[u.jsx("div",{"code-path":"src\\components\\BookDetail.tsx:487:21",className:"flex-1",children:L?.id===X.id?u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:489:25",className:"space-y-2",children:[u.jsx(Bs,{"code-path":"src\\components\\BookDetail.tsx:490:27",value:I,onChange:le=>z(le.target.value),rows:3}),u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:495:27",className:"flex gap-2",children:[u.jsx(ie,{"code-path":"src\\components\\BookDetail.tsx:496:29",size:"sm",onClick:K,children:""}),u.jsx(ie,{"code-path":"src\\components\\BookDetail.tsx:499:29",size:"sm",variant:"outline",onClick:()=>{O(null),z("")},children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{"code-path":"src\\components\\BookDetail.tsx:513:27",className:"text-sm whitespace-pre-wrap",children:X.content}),X.page&&u.jsxs("p",{"code-path":"src\\components\\BookDetail.tsx:515:29",className:"text-xs text-muted-foreground mt-1",children:[" ",X.page," "]}),u.jsx("p",{"code-path":"src\\components\\BookDetail.tsx:517:27",className:"text-xs text-muted-foreground mt-2",children:new Date(X.createdAt).toLocaleString()})]})}),L?.id!==X.id&&u.jsxs(wr,{"code-path":"src\\components\\BookDetail.tsx:524:23",children:[u.jsx(Sr,{"code-path":"src\\components\\BookDetail.tsx:525:25",asChild:!0,children:u.jsx(ie,{"code-path":"src\\components\\BookDetail.tsx:526:27",variant:"ghost",size:"icon",className:"h-8 w-8",children:u.jsx(yr,{"code-path":"src\\components\\BookDetail.tsx:527:29",className:"h-4 w-4"})})}),u.jsxs(Ar,{"code-path":"src\\components\\BookDetail.tsx:530:25",align:"end",children:[u.jsxs(Gn,{"code-path":"src\\components\\BookDetail.tsx:531:27",onClick:()=>{O(X),z(X.content)},children:[u.jsx(Ul,{"code-path":"src\\components\\BookDetail.tsx:537:29",className:"h-4 w-4 mr-2"}),""]}),u.jsxs(Gn,{"code-path":"src\\components\\BookDetail.tsx:540:27",className:"text-destructive",onClick:()=>P(X.id),children:[u.jsx(io,{"code-path":"src\\components\\BookDetail.tsx:544:29",className:"h-4 w-4 mr-2"}),""]})]})]})]})},X.id))}):u.jsx("p",{"code-path":"src\\components\\BookDetail.tsx:555:13",className:"text-center text-muted-foreground py-4",children:""})]})]}),u.jsx(nn,{"code-path":"src\\components\\BookDetail.tsx:561:7",open:A,onOpenChange:S,children:u.jsxs(sn,{"code-path":"src\\components\\BookDetail.tsx:562:9",className:"max-w-md max-h-[90vh] overflow-y-auto",children:[u.jsx(on,{"code-path":"src\\components\\BookDetail.tsx:563:11",children:u.jsx(an,{"code-path":"src\\components\\BookDetail.tsx:564:13",children:""})}),u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:566:11",className:"space-y-4 py-4",children:[u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:567:13",className:"space-y-2",children:[u.jsxs(Be,{"code-path":"src\\components\\BookDetail.tsx:568:15",children:[" ",u.jsx("span",{"code-path":"src\\components\\BookDetail.tsx:568:25",className:"text-red-500",children:"*"})]}),u.jsx(ft,{"code-path":"src\\components\\BookDetail.tsx:569:15",value:$.title,onChange:X=>Y({...$,title:X.target.value}),placeholder:""})]}),u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:575:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\BookDetail.tsx:576:15",children:""}),u.jsx(ft,{"code-path":"src\\components\\BookDetail.tsx:577:15",value:$.author,onChange:X=>Y({...$,author:X.target.value}),placeholder:""})]}),u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:583:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\BookDetail.tsx:584:15",children:""}),u.jsx(Bs,{"code-path":"src\\components\\BookDetail.tsx:585:15",value:$.description,onChange:X=>Y({...$,description:X.target.value}),rows:3,placeholder:""})]}),u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:592:13",className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:593:15",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\BookDetail.tsx:594:17",children:""}),u.jsx(ft,{"code-path":"src\\components\\BookDetail.tsx:595:17",type:"number",value:$.totalPages,onChange:X=>Y({...$,totalPages:X.target.value}),placeholder:""})]}),u.jsxs("div",{"code-path":"src\\components\\BookDetail.tsx:602:15",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\BookDetail.tsx:603:17",children:""}),u.jsx(ft,{"code-path":"src\\components\\BookDetail.tsx:604:17",type:"number",value:$.currentPage,onChange:X=>Y({...$,currentPage:X.target.value}),placeholder:""})]})]})]}),u.jsxs(Os,{"code-path":"src\\components\\BookDetail.tsx:613:11",children:[u.jsx(ie,{"code-path":"src\\components\\BookDetail.tsx:614:13",variant:"outline",onClick:()=>S(!1),children:""}),u.jsx(ie,{"code-path":"src\\components\\BookDetail.tsx:617:13",onClick:U,children:""})]})]})}),u.jsx(nn,{"code-path":"src\\components\\BookDetail.tsx:623:7",open:E,onOpenChange:C,children:u.jsxs(sn,{"code-path":"src\\components\\BookDetail.tsx:624:9",children:[u.jsxs(on,{"code-path":"src\\components\\BookDetail.tsx:625:11",children:[u.jsx(an,{"code-path":"src\\components\\BookDetail.tsx:626:13",children:""}),u.jsxs(QA,{"code-path":"src\\components\\BookDetail.tsx:627:13",children:["",i.title,"PDF"]})]}),u.jsxs(Os,{"code-path":"src\\components\\BookDetail.tsx:631:11",children:[u.jsx(ie,{"code-path":"src\\components\\BookDetail.tsx:632:13",variant:"outline",onClick:()=>C(!1),children:""}),u.jsx(ie,{"code-path":"src\\components\\BookDetail.tsx:635:13",variant:"destructive",onClick:H,children:""})]})]})})]})}const q5=[{value:"book",label:"",icon:u.jsx(kr,{"code-path":"src\\components\\AddBookDialog.tsx:35:39",className:"h-4 w-4"})},{value:"paper",label:"",icon:u.jsx(wa,{"code-path":"src\\components\\AddBookDialog.tsx:36:40",className:"h-4 w-4"})},{value:"article",label:"",icon:u.jsx(QP,{"code-path":"src\\components\\AddBookDialog.tsx:37:42",className:"h-4 w-4"})},{value:"other",label:"",icon:u.jsx(Pw,{"code-path":"src\\components\\AddBookDialog.tsx:38:40",className:"h-4 w-4"})}];function Y5({open:i,onOpenChange:e,categories:t,onAdd:s,allTags:a}){const[r,l]=b.useState({title:"",author:"",description:"",type:"book",categoryId:t[0]?.id||"",status:"unread",totalPages:"",tags:[],newTag:""}),d=()=>{if(!r.title.trim()||!r.author.trim()){be.error("");return}s({title:r.title.trim(),author:r.author.trim(),description:r.description.trim()||void 0,type:r.type,categoryId:r.categoryId,status:r.status,totalPages:r.totalPages?parseInt(r.totalPages):void 0,tags:r.tags,rating:void 0,coverUrl:void 0,currentPage:void 0,completedAt:void 0}),be.success(""),h(),e(!1)},h=()=>{l({title:"",author:"",description:"",type:"book",categoryId:t[0]?.id||"",status:"unread",totalPages:"",tags:[],newTag:""})},p=()=>{r.newTag.trim()&&!r.tags.includes(r.newTag.trim())&&l({...r,tags:[...r.tags,r.newTag.trim()],newTag:""})},g=v=>{l({...r,tags:r.tags.filter(w=>w!==v)})},m=v=>{r.tags.includes(v)||l({...r,tags:[...r.tags,v]})};return u.jsx(nn,{"code-path":"src\\components\\AddBookDialog.tsx:127:5",open:i,onOpenChange:e,children:u.jsxs(sn,{"code-path":"src\\components\\AddBookDialog.tsx:128:7",className:"max-w-md max-h-[90vh] overflow-y-auto",children:[u.jsxs(on,{"code-path":"src\\components\\AddBookDialog.tsx:129:9",children:[u.jsx(an,{"code-path":"src\\components\\AddBookDialog.tsx:130:11",children:"/"}),u.jsx(QA,{"code-path":"src\\components\\AddBookDialog.tsx:131:11",children:""})]}),u.jsxs("div",{"code-path":"src\\components\\AddBookDialog.tsx:134:9",className:"space-y-4 py-4",children:[u.jsxs("div",{"code-path":"src\\components\\AddBookDialog.tsx:136:11",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\AddBookDialog.tsx:137:13",children:""}),u.jsx("div",{"code-path":"src\\components\\AddBookDialog.tsx:138:13",className:"grid grid-cols-4 gap-2",children:q5.map(v=>u.jsxs("button",{"code-path":"src\\components\\AddBookDialog.tsx:140:17",onClick:()=>l({...r,type:v.value}),className:`flex flex-col items-center gap-1 p-3 rounded-lg border transition-colors ${r.type===v.value?"border-primary bg-primary/5":"border-border hover:bg-accent"}`,children:[v.icon,u.jsx("span",{"code-path":"src\\components\\AddBookDialog.tsx:150:19",className:"text-xs",children:v.label})]},v.value))})]}),u.jsxs("div",{"code-path":"src\\components\\AddBookDialog.tsx:157:11",className:"space-y-2",children:[u.jsxs(Be,{"code-path":"src\\components\\AddBookDialog.tsx:158:13",children:["/ ",u.jsx("span",{"code-path":"src\\components\\AddBookDialog.tsx:159:21",className:"text-destructive",children:"*"})]}),u.jsx(ft,{"code-path":"src\\components\\AddBookDialog.tsx:161:13",placeholder:"",value:r.title,onChange:v=>l({...r,title:v.target.value})})]}),u.jsxs("div",{"code-path":"src\\components\\AddBookDialog.tsx:169:11",className:"space-y-2",children:[u.jsxs(Be,{"code-path":"src\\components\\AddBookDialog.tsx:170:13",children:[" ",u.jsx("span",{"code-path":"src\\components\\AddBookDialog.tsx:171:18",className:"text-destructive",children:"*"})]}),u.jsx(ft,{"code-path":"src\\components\\AddBookDialog.tsx:173:13",placeholder:"",value:r.author,onChange:v=>l({...r,author:v.target.value})})]}),u.jsxs("div",{"code-path":"src\\components\\AddBookDialog.tsx:181:11",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\AddBookDialog.tsx:182:13",children:""}),u.jsxs(Oo,{"code-path":"src\\components\\AddBookDialog.tsx:183:13",value:r.categoryId,onValueChange:v=>l({...r,categoryId:v}),children:[u.jsx(Bo,{"code-path":"src\\components\\AddBookDialog.tsx:189:15",children:u.jsx(Lo,{"code-path":"src\\components\\AddBookDialog.tsx:190:17",placeholder:""})}),u.jsx(Io,{"code-path":"src\\components\\AddBookDialog.tsx:192:15",children:t.map(v=>u.jsx(Gt,{"code-path":"src\\components\\AddBookDialog.tsx:194:19",value:v.id,children:u.jsxs("div",{"code-path":"src\\components\\AddBookDialog.tsx:195:21",className:"flex items-center gap-2",children:[u.jsx("div",{"code-path":"src\\components\\AddBookDialog.tsx:196:23",className:"w-3 h-3 rounded-full",style:{backgroundColor:v.color}}),v.name]})},v.id))})]})]}),u.jsxs("div",{"code-path":"src\\components\\AddBookDialog.tsx:209:11",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\AddBookDialog.tsx:210:13",children:""}),u.jsxs(Oo,{"code-path":"src\\components\\AddBookDialog.tsx:211:13",value:r.status,onValueChange:v=>l({...r,status:v}),children:[u.jsx(Bo,{"code-path":"src\\components\\AddBookDialog.tsx:217:15",children:u.jsx(Lo,{"code-path":"src\\components\\AddBookDialog.tsx:218:17"})}),u.jsxs(Io,{"code-path":"src\\components\\AddBookDialog.tsx:220:15",children:[u.jsx(Gt,{"code-path":"src\\components\\AddBookDialog.tsx:221:17",value:"unread",children:""}),u.jsx(Gt,{"code-path":"src\\components\\AddBookDialog.tsx:222:17",value:"reading",children:""}),u.jsx(Gt,{"code-path":"src\\components\\AddBookDialog.tsx:223:17",value:"completed",children:""})]})]})]}),u.jsxs("div",{"code-path":"src\\components\\AddBookDialog.tsx:229:11",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\AddBookDialog.tsx:230:13",children:""}),u.jsx(ft,{"code-path":"src\\components\\AddBookDialog.tsx:231:13",type:"number",placeholder:"",value:r.totalPages,onChange:v=>l({...r,totalPages:v.target.value})})]}),u.jsxs("div",{"code-path":"src\\components\\AddBookDialog.tsx:242:11",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\AddBookDialog.tsx:243:13",children:""}),u.jsx(Bs,{"code-path":"src\\components\\AddBookDialog.tsx:244:13",placeholder:"",value:r.description,onChange:v=>l({...r,description:v.target.value}),rows:3})]}),u.jsxs("div",{"code-path":"src\\components\\AddBookDialog.tsx:255:11",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\AddBookDialog.tsx:256:13",children:""}),u.jsxs("div",{"code-path":"src\\components\\AddBookDialog.tsx:257:13",className:"flex gap-2",children:[u.jsx(ft,{"code-path":"src\\components\\AddBookDialog.tsx:258:15",placeholder:"",value:r.newTag,onChange:v=>l({...r,newTag:v.target.value}),onKeyDown:v=>{v.key==="Enter"&&(v.preventDefault(),p())}}),u.jsx(ie,{"code-path":"src\\components\\AddBookDialog.tsx:271:15",type:"button",onClick:p,variant:"outline",children:""})]}),a.length>0&&u.jsxs("div",{"code-path":"src\\components\\AddBookDialog.tsx:278:15",className:"flex flex-wrap gap-1 mt-2",children:[u.jsx("span",{"code-path":"src\\components\\AddBookDialog.tsx:279:17",className:"text-xs text-muted-foreground mr-1",children:":"}),a.map(v=>u.jsx(fn,{"code-path":"src\\components\\AddBookDialog.tsx:281:19",variant:r.tags.includes(v)?"default":"outline",className:"cursor-pointer text-xs",onClick:()=>m(v),children:v},v))]}),r.tags.length>0&&u.jsx("div",{"code-path":"src\\components\\AddBookDialog.tsx:297:15",className:"flex flex-wrap gap-2 mt-2",children:r.tags.map(v=>u.jsxs(fn,{"code-path":"src\\components\\AddBookDialog.tsx:299:19",variant:"secondary",className:"gap-1",children:[v,u.jsx("button",{"code-path":"src\\components\\AddBookDialog.tsx:301:21",onClick:()=>g(v),className:"ml-1 hover:text-destructive",children:""})]},v))})]})]}),u.jsxs(Os,{"code-path":"src\\components\\AddBookDialog.tsx:314:9",children:[u.jsx(ie,{"code-path":"src\\components\\AddBookDialog.tsx:315:11",variant:"outline",onClick:()=>e(!1),children:""}),u.jsx(ie,{"code-path":"src\\components\\AddBookDialog.tsx:318:11",onClick:d,children:""})]})]})})}function X5(i,e=[]){let t=[];function s(r,l){const d=b.createContext(l);d.displayName=r+"Context";const h=t.length;t=[...t,l];const p=m=>{const{scope:v,children:w,...A}=m,S=v?.[i]?.[h]||d,E=b.useMemo(()=>A,Object.values(A));return u.jsx(S.Provider,{value:E,children:w})};p.displayName=r+"Provider";function g(m,v){const w=v?.[i]?.[h]||d,A=b.useContext(w);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${r}\``)}return[p,g]}const a=()=>{const r=t.map(l=>b.createContext(l));return function(d){const h=d?.[i]||r;return b.useMemo(()=>({[`__scope${i}`]:{...d,[i]:h}}),[d,h])}};return a.scopeName=i,[s,W5(a,...e)]}function W5(...i){const e=i[0];if(i.length===1)return e;const t=()=>{const s=i.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(r){const l=s.reduce((d,{useScope:h,scopeName:p})=>{const m=h(r)[`__scope${p}`];return{...d,...m}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var K5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ZA=K5.reduce((i,e)=>{const t=qm(`Primitive.${e}`),s=b.forwardRef((a,r)=>{const{asChild:l,...d}=a,h=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(h,{...d,ref:r})});return s.displayName=`Primitive.${e}`,{...i,[e]:s}},{}),bg="Progress",wg=100,[Q5]=X5(bg),[Z5,J5]=Q5(bg),JA=b.forwardRef((i,e)=>{const{__scopeProgress:t,value:s=null,max:a,getValueLabel:r=e4,...l}=i;(a||a===0)&&!Q1(a)&&console.error(t4(`${a}`,"Progress"));const d=Q1(a)?a:wg;s!==null&&!Z1(s,d)&&console.error(n4(`${s}`,"Progress"));const h=Z1(s,d)?s:null,p=gu(h)?r(h,d):void 0;return u.jsx(Z5,{scope:t,value:h,max:d,children:u.jsx(ZA.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":gu(h)?h:void 0,"aria-valuetext":p,role:"progressbar","data-state":n2(h,d),"data-value":h??void 0,"data-max":d,...l,ref:e})})});JA.displayName=bg;var e2="ProgressIndicator",t2=b.forwardRef((i,e)=>{const{__scopeProgress:t,...s}=i,a=J5(e2,t);return u.jsx(ZA.div,{"data-state":n2(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:e})});t2.displayName=e2;function e4(i,e){return`${Math.round(i/e*100)}%`}function n2(i,e){return i==null?"indeterminate":i===e?"complete":"loading"}function gu(i){return typeof i=="number"}function Q1(i){return gu(i)&&!isNaN(i)&&i>0}function Z1(i,e){return gu(i)&&!isNaN(i)&&i<=e&&i>=0}function t4(i,e){return`Invalid prop \`max\` of value \`${i}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${wg}\`.`}function n4(i,e){return`Invalid prop \`value\` of value \`${i}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${wg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var s4=JA,o4=t2;function a4({className:i,value:e,...t}){return u.jsx(s4,{"code-path":"src\\components\\ui\\progress.tsx:12:5","data-slot":"progress",className:Ge("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",i),...t,children:u.jsx(o4,{"code-path":"src\\components\\ui\\progress.tsx:20:7","data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function i4({stats:i}){const e=i.total>0?Math.round(i.completed/i.total*100):0;return u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:32:5",className:"space-y-4",children:[u.jsx("h2",{"code-path":"src\\components\\StatsPanel.tsx:33:7",className:"text-lg font-semibold",children:""}),u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:36:7",className:"grid grid-cols-2 gap-4",children:[u.jsx(qt,{"code-path":"src\\components\\StatsPanel.tsx:37:9",children:u.jsx(Yt,{"code-path":"src\\components\\StatsPanel.tsx:38:11",className:"p-4",children:u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:39:13",className:"flex items-center gap-3",children:[u.jsx("div",{"code-path":"src\\components\\StatsPanel.tsx:40:15",className:"p-2 bg-primary/10 rounded-lg",children:u.jsx(kr,{"code-path":"src\\components\\StatsPanel.tsx:41:17",className:"h-5 w-5 text-primary"})}),u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:43:15",children:[u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:44:17",className:"text-2xl font-bold",children:i.total}),u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:45:17",className:"text-xs text-muted-foreground",children:""})]})]})})}),u.jsx(qt,{"code-path":"src\\components\\StatsPanel.tsx:51:9",children:u.jsx(Yt,{"code-path":"src\\components\\StatsPanel.tsx:52:11",className:"p-4",children:u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:53:13",className:"flex items-center gap-3",children:[u.jsx("div",{"code-path":"src\\components\\StatsPanel.tsx:54:15",className:"p-2 bg-green-100 rounded-lg",children:u.jsx(Ew,{"code-path":"src\\components\\StatsPanel.tsx:55:17",className:"h-5 w-5 text-green-600"})}),u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:57:15",children:[u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:58:17",className:"text-2xl font-bold",children:i.completed}),u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:59:17",className:"text-xs text-muted-foreground",children:""})]})]})})}),u.jsx(qt,{"code-path":"src\\components\\StatsPanel.tsx:65:9",children:u.jsx(Yt,{"code-path":"src\\components\\StatsPanel.tsx:66:11",className:"p-4",children:u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:67:13",className:"flex items-center gap-3",children:[u.jsx("div",{"code-path":"src\\components\\StatsPanel.tsx:68:15",className:"p-2 bg-blue-100 rounded-lg",children:u.jsx(fP,{"code-path":"src\\components\\StatsPanel.tsx:69:17",className:"h-5 w-5 text-blue-600"})}),u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:71:15",children:[u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:72:17",className:"text-2xl font-bold",children:i.reading}),u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:73:17",className:"text-xs text-muted-foreground",children:""})]})]})})}),u.jsx(qt,{"code-path":"src\\components\\StatsPanel.tsx:79:9",children:u.jsx(Yt,{"code-path":"src\\components\\StatsPanel.tsx:80:11",className:"p-4",children:u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:81:13",className:"flex items-center gap-3",children:[u.jsx("div",{"code-path":"src\\components\\StatsPanel.tsx:82:15",className:"p-2 bg-purple-100 rounded-lg",children:u.jsx(_u,{"code-path":"src\\components\\StatsPanel.tsx:83:17",className:"h-5 w-5 text-purple-600"})}),u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:85:15",children:[u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:86:17",className:"text-2xl font-bold",children:i.totalAnnotations}),u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:87:17",className:"text-xs text-muted-foreground",children:""})]})]})})})]}),u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:95:7",className:"grid grid-cols-3 gap-4",children:[u.jsx(qt,{"code-path":"src\\components\\StatsPanel.tsx:96:9",children:u.jsxs(Yt,{"code-path":"src\\components\\StatsPanel.tsx:97:11",className:"p-4 text-center",children:[u.jsx(Nw,{"code-path":"src\\components\\StatsPanel.tsx:98:13",className:"h-5 w-5 mx-auto text-orange-500 mb-2"}),u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:99:13",className:"text-xl font-bold",children:i.projectCount}),u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:100:13",className:"text-xs text-muted-foreground",children:""})]})}),u.jsx(qt,{"code-path":"src\\components\\StatsPanel.tsx:103:9",children:u.jsxs(Yt,{"code-path":"src\\components\\StatsPanel.tsx:104:11",className:"p-4 text-center",children:[u.jsx(mP,{"code-path":"src\\components\\StatsPanel.tsx:105:13",className:"h-5 w-5 mx-auto text-yellow-500 mb-2"}),u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:106:13",className:"text-xl font-bold",children:i.pendingNotes}),u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:107:13",className:"text-xs text-muted-foreground",children:""})]})}),u.jsx(qt,{"code-path":"src\\components\\StatsPanel.tsx:110:9",children:u.jsxs(Yt,{"code-path":"src\\components\\StatsPanel.tsx:111:11",className:"p-4 text-center",children:[u.jsx(tP,{"code-path":"src\\components\\StatsPanel.tsx:112:13",className:"h-5 w-5 mx-auto text-cyan-500 mb-2"}),u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:113:13",className:"text-xl font-bold",children:i.noteCount}),u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:114:13",className:"text-xs text-muted-foreground",children:""})]})})]}),u.jsxs(qt,{"code-path":"src\\components\\StatsPanel.tsx:120:7",children:[u.jsx(tu,{"code-path":"src\\components\\StatsPanel.tsx:121:9",children:u.jsx(nu,{"code-path":"src\\components\\StatsPanel.tsx:122:11",className:"text-sm font-medium",children:""})}),u.jsx(Yt,{"code-path":"src\\components\\StatsPanel.tsx:124:9",children:u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:125:11",className:"space-y-2",children:[u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:126:13",className:"flex justify-between text-sm",children:[u.jsxs("span",{"code-path":"src\\components\\StatsPanel.tsx:127:15",children:[e,"%"]}),u.jsxs("span",{"code-path":"src\\components\\StatsPanel.tsx:128:15",className:"text-muted-foreground",children:[i.completed," / ",i.total]})]}),u.jsx(a4,{"code-path":"src\\components\\StatsPanel.tsx:132:13",value:e,className:"h-2"})]})})]}),u.jsxs(qt,{"code-path":"src\\components\\StatsPanel.tsx:138:7",children:[u.jsx(tu,{"code-path":"src\\components\\StatsPanel.tsx:139:9",children:u.jsx(nu,{"code-path":"src\\components\\StatsPanel.tsx:140:11",className:"text-sm font-medium",children:""})}),u.jsx(Yt,{"code-path":"src\\components\\StatsPanel.tsx:142:9",children:u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:143:11",className:"space-y-3",children:[i.categoryStats.filter(t=>t.count>0).sort((t,s)=>s.count-t.count).map(t=>u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:148:17",className:"flex items-center gap-3",children:[u.jsx("div",{"code-path":"src\\components\\StatsPanel.tsx:149:19",className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:t.color}}),u.jsx("span",{"code-path":"src\\components\\StatsPanel.tsx:150:19",className:"text-sm flex-1",children:t.name}),u.jsx("span",{"code-path":"src\\components\\StatsPanel.tsx:151:19",className:"text-sm font-medium",children:t.count})]},t.id)),i.categoryStats.filter(t=>t.count>0).length===0&&u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:155:15",className:"text-sm text-muted-foreground text-center py-2",children:""})]})})]}),u.jsxs(qt,{"code-path":"src\\components\\StatsPanel.tsx:162:7",children:[u.jsx(tu,{"code-path":"src\\components\\StatsPanel.tsx:163:9",children:u.jsx(nu,{"code-path":"src\\components\\StatsPanel.tsx:164:11",className:"text-sm font-medium",children:""})}),u.jsx(Yt,{"code-path":"src\\components\\StatsPanel.tsx:166:9",children:u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:167:11",className:"space-y-3",children:[i.typeStats?[{key:"book",label:"",count:i.typeStats.book},{key:"paper",label:"",count:i.typeStats.paper},{key:"article",label:"",count:i.typeStats.article},{key:"other",label:"",count:i.typeStats.other}].filter(t=>t.count>0).map(t=>u.jsxs("div",{"code-path":"src\\components\\StatsPanel.tsx:177:19",className:"flex items-center gap-3",children:[u.jsx("span",{"code-path":"src\\components\\StatsPanel.tsx:178:21",className:"text-sm flex-1",children:t.label}),u.jsx("span",{"code-path":"src\\components\\StatsPanel.tsx:179:21",className:"text-sm font-medium",children:t.count})]},t.key)):null,(!i.typeStats||i.total===0)&&u.jsx("p",{"code-path":"src\\components\\StatsPanel.tsx:183:57",className:"text-sm text-muted-foreground text-center py-2",children:""})]})})]})]})}var r4=Symbol("radix.slottable");function l4(i){const e=({children:t})=>u.jsx(u.Fragment,{children:t});return e.displayName=`${i}.Slottable`,e.__radixId=r4,e}var s2="AlertDialog",[c4]=rs(s2,[Zw]),Go=Zw(),o2=i=>{const{__scopeAlertDialog:e,...t}=i,s=Go(e);return u.jsx(Jm,{...s,...t,modal:!0})};o2.displayName=s2;var d4="AlertDialogTrigger",u4=b.forwardRef((i,e)=>{const{__scopeAlertDialog:t,...s}=i,a=Go(t);return u.jsx(pS,{...a,...s,ref:e})});u4.displayName=d4;var h4="AlertDialogPortal",a2=i=>{const{__scopeAlertDialog:e,...t}=i,s=Go(e);return u.jsx(eg,{...s,...t})};a2.displayName=h4;var f4="AlertDialogOverlay",i2=b.forwardRef((i,e)=>{const{__scopeAlertDialog:t,...s}=i,a=Go(t);return u.jsx(tg,{...a,...s,ref:e})});i2.displayName=f4;var cr="AlertDialogContent",[p4,m4]=c4(cr),g4=l4("AlertDialogContent"),r2=b.forwardRef((i,e)=>{const{__scopeAlertDialog:t,children:s,...a}=i,r=Go(t),l=b.useRef(null),d=qe(e,l),h=b.useRef(null);return u.jsx(Xk,{contentName:cr,titleName:l2,docsSlug:"alert-dialog",children:u.jsx(p4,{scope:t,cancelRef:h,children:u.jsxs(ng,{role:"alertdialog",...r,...a,ref:d,onOpenAutoFocus:ye(a.onOpenAutoFocus,p=>{p.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[u.jsx(g4,{children:s}),u.jsx(v4,{contentRef:l})]})})})});r2.displayName=cr;var l2="AlertDialogTitle",c2=b.forwardRef((i,e)=>{const{__scopeAlertDialog:t,...s}=i,a=Go(t);return u.jsx(sg,{...a,...s,ref:e})});c2.displayName=l2;var d2="AlertDialogDescription",u2=b.forwardRef((i,e)=>{const{__scopeAlertDialog:t,...s}=i,a=Go(t);return u.jsx(mS,{...a,...s,ref:e})});u2.displayName=d2;var x4="AlertDialogAction",h2=b.forwardRef((i,e)=>{const{__scopeAlertDialog:t,...s}=i,a=Go(t);return u.jsx(Ou,{...a,...s,ref:e})});h2.displayName=x4;var f2="AlertDialogCancel",p2=b.forwardRef((i,e)=>{const{__scopeAlertDialog:t,...s}=i,{cancelRef:a}=m4(f2,t),r=Go(t),l=qe(e,a);return u.jsx(Ou,{...r,...s,ref:l})});p2.displayName=f2;var v4=({contentRef:i})=>{const e=`\`${cr}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${cr}\` by passing a \`${d2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${cr}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{document.getElementById(i.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,i]),null},y4=o2,b4=a2,w4=i2,S4=r2,A4=h2,C4=p2,E4=c2,T4=u2;function _4({...i}){return u.jsx(y4,{"code-path":"src\\components\\ui\\alert-dialog.tsx:10:10","data-slot":"alert-dialog",...i})}function N4({...i}){return u.jsx(b4,{"code-path":"src\\components\\ui\\alert-dialog.tsx:25:5","data-slot":"alert-dialog-portal",...i})}function P4({className:i,...e}){return u.jsx(w4,{"code-path":"src\\components\\ui\\alert-dialog.tsx:34:5","data-slot":"alert-dialog-overlay",className:Ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",i),...e})}function j4({className:i,...e}){return u.jsxs(N4,{"code-path":"src\\components\\ui\\alert-dialog.tsx:50:5",children:[u.jsx(P4,{"code-path":"src\\components\\ui\\alert-dialog.tsx:51:7"}),u.jsx(S4,{"code-path":"src\\components\\ui\\alert-dialog.tsx:52:7","data-slot":"alert-dialog-content",className:Ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",i),...e})]})}function D4({className:i,...e}){return u.jsx("div",{"code-path":"src\\components\\ui\\alert-dialog.tsx:69:5","data-slot":"alert-dialog-header",className:Ge("flex flex-col gap-2 text-center sm:text-left",i),...e})}function k4({className:i,...e}){return u.jsx("div",{"code-path":"src\\components\\ui\\alert-dialog.tsx:82:5","data-slot":"alert-dialog-footer",className:Ge("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",i),...e})}function R4({className:i,...e}){return u.jsx(E4,{"code-path":"src\\components\\ui\\alert-dialog.tsx:98:5","data-slot":"alert-dialog-title",className:Ge("text-lg font-semibold",i),...e})}function M4({className:i,...e}){return u.jsx(T4,{"code-path":"src\\components\\ui\\alert-dialog.tsx:111:5","data-slot":"alert-dialog-description",className:Ge("text-muted-foreground text-sm",i),...e})}function O4({className:i,...e}){return u.jsx(A4,{"code-path":"src\\components\\ui\\alert-dialog.tsx:124:5",className:Ge(Ym(),i),...e})}function L4({className:i,...e}){return u.jsx(C4,{"code-path":"src\\components\\ui\\alert-dialog.tsx:136:5",className:Ge(Ym({variant:"outline"}),i),...e})}function B4({categories:i,onAddCategory:e,onDeleteCategory:t}){const[s,a]=b.useState(!1),[r,l]=b.useState(!1),[d,h]=b.useState(null),[p,g]=b.useState(""),[m,v]=b.useState(Mp[0]),w=()=>{if(!p.trim()){be.error("");return}e(p.trim(),m),g(""),v(Mp[0]),a(!1),be.success("")},A=()=>{d&&(t(d.id),l(!1),h(null),be.success(""))};return u.jsxs("div",{"code-path":"src\\components\\SettingsPanel.tsx:66:5",className:"space-y-3",children:[u.jsxs("div",{"code-path":"src\\components\\SettingsPanel.tsx:67:7",className:"flex items-center justify-between",children:[u.jsx("h3",{"code-path":"src\\components\\SettingsPanel.tsx:68:9",className:"text-sm font-medium",children:""}),u.jsxs(ie,{"code-path":"src\\components\\SettingsPanel.tsx:69:9",size:"sm",variant:"outline",onClick:()=>a(!0),children:[u.jsx(Ls,{"code-path":"src\\components\\SettingsPanel.tsx:70:11",className:"h-4 w-4 mr-1"}),""]})]}),u.jsx("div",{"code-path":"src\\components\\SettingsPanel.tsx:75:7",className:"space-y-2",children:i.map(S=>u.jsxs("div",{"code-path":"src\\components\\SettingsPanel.tsx:77:11",className:"flex items-center justify-between p-2 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[u.jsxs("div",{"code-path":"src\\components\\SettingsPanel.tsx:81:13",className:"flex items-center gap-3",children:[u.jsx("div",{"code-path":"src\\components\\SettingsPanel.tsx:82:15",className:"w-4 h-4 rounded-full",style:{backgroundColor:S.color}}),u.jsx("span",{"code-path":"src\\components\\SettingsPanel.tsx:86:15",className:"text-sm",children:S.name})]}),!["cat-entertainment","cat-tech","cat-academic","cat-literature","cat-business","cat-other"].includes(S.id)&&u.jsx(ie,{"code-path":"src\\components\\SettingsPanel.tsx:89:15",variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground hover:text-destructive",onClick:()=>{h(S),l(!0)},children:u.jsx(Cn,{"code-path":"src\\components\\SettingsPanel.tsx:98:17",className:"h-4 w-4"})})]},S.id))}),u.jsx(nn,{"code-path":"src\\components\\SettingsPanel.tsx:106:7",open:s,onOpenChange:a,children:u.jsxs(sn,{"code-path":"src\\components\\SettingsPanel.tsx:107:9",children:[u.jsx(on,{"code-path":"src\\components\\SettingsPanel.tsx:108:11",children:u.jsx(an,{"code-path":"src\\components\\SettingsPanel.tsx:109:13",children:""})}),u.jsxs("div",{"code-path":"src\\components\\SettingsPanel.tsx:111:11",className:"space-y-4 py-4",children:[u.jsxs("div",{"code-path":"src\\components\\SettingsPanel.tsx:112:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\SettingsPanel.tsx:113:15",children:""}),u.jsx(ft,{"code-path":"src\\components\\SettingsPanel.tsx:114:15",value:p,onChange:S=>g(S.target.value),placeholder:""})]}),u.jsxs("div",{"code-path":"src\\components\\SettingsPanel.tsx:120:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\SettingsPanel.tsx:121:15",children:""}),u.jsx("div",{"code-path":"src\\components\\SettingsPanel.tsx:122:15",className:"flex flex-wrap gap-2",children:Mp.map(S=>u.jsx("button",{"code-path":"src\\components\\SettingsPanel.tsx:124:19",onClick:()=>v(S),className:`w-8 h-8 rounded-full transition-all ${m===S?"ring-2 ring-offset-2 ring-primary scale-110":""}`,style:{backgroundColor:S}},S))})]})]}),u.jsxs(Os,{"code-path":"src\\components\\SettingsPanel.tsx:136:11",children:[u.jsx(ie,{"code-path":"src\\components\\SettingsPanel.tsx:137:13",variant:"outline",onClick:()=>a(!1),children:""}),u.jsx(ie,{"code-path":"src\\components\\SettingsPanel.tsx:138:13",onClick:w,children:""})]})]})}),u.jsx(_4,{"code-path":"src\\components\\SettingsPanel.tsx:144:7",open:r,onOpenChange:l,children:u.jsxs(j4,{"code-path":"src\\components\\SettingsPanel.tsx:145:9",children:[u.jsxs(D4,{"code-path":"src\\components\\SettingsPanel.tsx:146:11",children:[u.jsx(R4,{"code-path":"src\\components\\SettingsPanel.tsx:147:13",children:""}),u.jsxs(M4,{"code-path":"src\\components\\SettingsPanel.tsx:148:13",children:['"',d?.name,'"""']})]}),u.jsxs(k4,{"code-path":"src\\components\\SettingsPanel.tsx:152:11",children:[u.jsx(L4,{"code-path":"src\\components\\SettingsPanel.tsx:153:13",onClick:()=>h(null),children:""}),u.jsx(O4,{"code-path":"src\\components\\SettingsPanel.tsx:154:13",onClick:A,className:"bg-destructive",children:""})]})]})})]})}function I4({value:i,onChange:e,placeholder:t="..."}){return u.jsxs("div",{"code-path":"src\\components\\SearchBar.tsx:13:5",className:"relative",children:[u.jsx(Mw,{"code-path":"src\\components\\SearchBar.tsx:14:7",className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),u.jsx(ft,{"code-path":"src\\components\\SearchBar.tsx:15:7",value:i,onChange:s=>e(s.target.value),placeholder:t,className:"pl-10 pr-10"}),i&&u.jsx(ie,{"code-path":"src\\components\\SearchBar.tsx:22:9",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>e(""),children:u.jsx(Cn,{"code-path":"src\\components\\SearchBar.tsx:28:11",className:"h-4 w-4"})})]})}const Dn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Sm=[.001,0,0,.001,0,0],qp=1.35,ts={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},so={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Ql="pdfjs_internal_editor_",Xe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},at={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},m2={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},wn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Vl={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Vt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},nr={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},lc={ERRORS:0,WARNINGS:1,INFOS:5},Cr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Id={moveTo:0,lineTo:1,curveTo:2,closePath:3},g2={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Wu=lc.WARNINGS;function F4(i){Number.isInteger(i)&&(Wu=i)}function z4(){return Wu}function Ku(i){Wu>=lc.INFOS&&console.info(`Info: ${i}`)}function We(i){Wu>=lc.WARNINGS&&console.warn(`Warning: ${i}`)}function _t(i){throw new Error(i)}function lt(i,e){i||_t(e)}function H4(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Sg(i,e=null,t=null){if(!i)return null;if(t&&typeof i=="string"&&(t.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),t.tryConvertEncoding))try{i=q4(i)}catch{}const s=e?URL.parse(i,e):URL.parse(i);return H4(s)?s:null}function Ag(i,e,t=!1){const s=URL.parse(i);return s?(s.hash=e,s.href):t&&Sg(i,"http://example.com")?i.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ze(i,e,t,s=!1){return Object.defineProperty(i,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const ui=(function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e})();class J1 extends ui{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Yp extends ui{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class xu extends ui{constructor(e){super(e,"InvalidPDFException")}}class Zl extends ui{constructor(e,t,s){super(e,"ResponseException"),this.status=t,this.missing=s}}class U4 extends ui{constructor(e){super(e,"FormatError")}}class Uo extends ui{constructor(e){super(e,"AbortException")}}function x2(i){(typeof i!="object"||i?.length===void 0)&&_t("Invalid argument for bytesToString");const e=i.length,t=8192;if(e<t)return String.fromCharCode.apply(null,i);const s=[];for(let a=0;a<e;a+=t){const r=Math.min(a+t,e),l=i.subarray(a,r);s.push(String.fromCharCode.apply(null,l))}return s.join("")}function cc(i){typeof i!="string"&&_t("Invalid argument for stringToBytes");const e=i.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=i.charCodeAt(s)&255;return t}function V4(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function $4(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function G4(){try{return new Function(""),!0}catch{return!1}}class pn{static get isLittleEndian(){return Ze(this,"isLittleEndian",$4())}static get isEvalSupported(){return Ze(this,"isEvalSupported",G4())}static get isOffscreenCanvasSupported(){return Ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ze(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Ze(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return Ze(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Xp=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));class Ee{static makeHexColor(e,t,s){return`#${Xp[e]}${Xp[t]}${Xp[s]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,s=0){const a=e[s],r=e[s+1];e[s]=a*t[0]+r*t[2]+t[4],e[s+1]=a*t[1]+r*t[3]+t[5]}static applyTransformToBezier(e,t,s=0){const a=t[0],r=t[1],l=t[2],d=t[3],h=t[4],p=t[5];for(let g=0;g<6;g+=2){const m=e[s+g],v=e[s+g+1];e[s+g]=m*a+v*l+h,e[s+g+1]=m*r+v*d+p}}static applyInverseTransform(e,t){const s=e[0],a=e[1],r=t[0]*t[3]-t[1]*t[2];e[0]=(s*t[3]-a*t[2]+t[2]*t[5]-t[4]*t[3])/r,e[1]=(-s*t[1]+a*t[0]+t[4]*t[1]-t[5]*t[0])/r}static axialAlignedBoundingBox(e,t,s){const a=t[0],r=t[1],l=t[2],d=t[3],h=t[4],p=t[5],g=e[0],m=e[1],v=e[2],w=e[3];let A=a*g+h,S=A,E=a*v+h,C=E,_=d*m+p,N=_,j=d*w+p,M=j;if(r!==0||l!==0){const L=r*g,O=r*v,I=l*m,z=l*w;A+=I,C+=I,E+=z,S+=z,_+=L,M+=L,j+=O,N+=O}s[0]=Math.min(s[0],A,E,S,C),s[1]=Math.min(s[1],_,j,N,M),s[2]=Math.max(s[2],A,E,S,C),s[3]=Math.max(s[3],_,j,N,M)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const s=e[0],a=e[1],r=e[2],l=e[3],d=s**2+a**2,h=s*r+a*l,p=r**2+l**2,g=(d+p)/2,m=Math.sqrt(g**2-(d*p-h**2));t[0]=Math.sqrt(g+m||1),t[1]=Math.sqrt(g-m||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),a=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>a)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>l?null:[s,r,a,l]}static pointBoundingBox(e,t,s){s[0]=Math.min(s[0],e),s[1]=Math.min(s[1],t),s[2]=Math.max(s[2],e),s[3]=Math.max(s[3],t)}static rectBoundingBox(e,t,s,a,r){r[0]=Math.min(r[0],e,s),r[1]=Math.min(r[1],t,a),r[2]=Math.max(r[2],e,s),r[3]=Math.max(r[3],t,a)}static#e(e,t,s,a,r,l,d,h,p,g){if(p<=0||p>=1)return;const m=1-p,v=p*p,w=v*p,A=m*(m*(m*e+3*p*t)+3*v*s)+w*a,S=m*(m*(m*r+3*p*l)+3*v*d)+w*h;g[0]=Math.min(g[0],A),g[1]=Math.min(g[1],S),g[2]=Math.max(g[2],A),g[3]=Math.max(g[3],S)}static#t(e,t,s,a,r,l,d,h,p,g,m,v){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&this.#e(e,t,s,a,r,l,d,h,-m/g,v);return}const w=g**2-4*m*p;if(w<0)return;const A=Math.sqrt(w),S=2*p;this.#e(e,t,s,a,r,l,d,h,(-g+A)/S,v),this.#e(e,t,s,a,r,l,d,h,(-g-A)/S,v)}static bezierBoundingBox(e,t,s,a,r,l,d,h,p){p[0]=Math.min(p[0],e,d),p[1]=Math.min(p[1],t,h),p[2]=Math.max(p[2],e,d),p[3]=Math.max(p[3],t,h),this.#t(e,s,r,d,t,a,l,h,3*(-e+3*(s-r)+d),6*(e-2*s+r),3*(s-e),p),this.#t(e,s,r,d,t,a,l,h,3*(-t+3*(a-l)+h),6*(t-2*a+l),3*(a-t),p)}}function q4(i){return decodeURIComponent(escape(i))}let Wp=null,eb=null;function v2(i){return Wp||(Wp=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,eb=new Map([["","t"]])),i.replaceAll(Wp,(e,t,s)=>t?t.normalize("NFKC"):eb.get(s))}function Cg(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),x2(i)}const Eg="pdfjs_internal_id_";function Y4(i,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[s,a,...r]=t;if(!i(s)&&!Number.isInteger(s)||!e(a))return!1;const l=r.length;let d=!0;switch(a.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;d=!1;break;default:return!1}for(const h of r)if(!(typeof h=="number"||d&&h===null))return!1;return!0}function Nn(i,e,t){return Math.min(Math.max(i,e),t)}function y2(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(x2(i))}function X4(i){return Uint8Array.fromBase64?Uint8Array.fromBase64(i):cc(atob(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...e){return new Promise(t=>{t(i(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(i){return i.reduce((e,t)=>e+t,0)});class Jl{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function a(r){if(!r)return;let l=null;const d=r.name;if(d==="#text")l=r.value;else if(Jl.shouldBuildText(d))r?.attributes?.textContent?l=r.attributes.textContent:r.value&&(l=r.value);else return;if(l!==null&&t.push({str:l}),!!r.children)for(const h of r.children)a(h)}return a(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class Tg{static setupStorage(e,t,s,a,r){const l=a.getValue(t,{value:null});switch(s.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),r==="print")break;e.addEventListener("input",d=>{a.setValue(t,{value:d.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(l.value===s.attributes.xfaOn?e.setAttribute("checked",!0):l.value===s.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",d=>{a.setValue(t,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),r==="print")break;e.addEventListener("input",d=>{a.setValue(t,{value:d.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const d of s.children)d.attributes.value===l.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}e.addEventListener("input",d=>{const h=d.target.options,p=h.selectedIndex===-1?"":h[h.selectedIndex].value;a.setValue(t,{value:p})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:a,linkService:r}){const{attributes:l}=t,d=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${a}`);for(const[h,p]of Object.entries(l))if(p!=null)switch(h){case"class":p.length&&e.setAttribute(h,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!d||h!=="href"&&h!=="newWindow")&&e.setAttribute(h,p)}d&&r.addLinkAttributes(e,l.href,l.newWindow),s&&l.dataId&&this.setupStorage(e,l.dataId,t,s)}static render(e){const t=e.annotationStorage,s=e.linkService,a=e.xfaHtml,r=e.intent||"display",l=document.createElement(a.name);a.attributes&&this.setAttributes({html:l,element:a,intent:r,linkService:s});const d=r!=="richText",h=e.div;if(h.append(l),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;h.style.transform=m}d&&h.setAttribute("class","xfaLayer xfaFont");const p=[];if(a.children.length===0){if(a.value){const m=document.createTextNode(a.value);l.append(m),d&&Jl.shouldBuildText(a.name)&&p.push(m)}return{textDivs:p}}const g=[[a,-1,l]];for(;g.length>0;){const[m,v,w]=g.at(-1);if(v+1===m.children.length){g.pop();continue}const A=m.children[++g.at(-1)[1]];if(A===null)continue;const{name:S}=A;if(S==="#text"){const C=document.createTextNode(A.value);p.push(C),w.append(C);continue}const E=A?.attributes?.xmlns?document.createElementNS(A.attributes.xmlns,S):document.createElement(S);if(w.append(E),A.attributes&&this.setAttributes({html:E,element:A,storage:t,intent:r,linkService:s}),A.children?.length>0)g.push([A,-1,E]);else if(A.value){const C=document.createTextNode(A.value);d&&Jl.shouldBuildText(S)&&p.push(C),E.append(C)}}for(const m of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ro="http://www.w3.org/2000/svg";class ii{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Lr(i,e="text"){if(Fl(i,document.baseURI)){const t=await fetch(i);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const a=new XMLHttpRequest;a.open("GET",i,!0),a.responseType=e,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(a.response);return}t(a.responseText);return}s(new Error(a.statusText))}},a.send(null)})}class dc{constructor({viewBox:e,userUnit:t,scale:s,rotation:a,offsetX:r=0,offsetY:l=0,dontFlip:d=!1}){this.viewBox=e,this.userUnit=t,this.scale=s,this.rotation=a,this.offsetX=r,this.offsetY=l,s*=t;const h=(e[2]+e[0])/2,p=(e[3]+e[1])/2;let g,m,v,w;switch(a%=360,a<0&&(a+=360),a){case 180:g=-1,m=0,v=0,w=1;break;case 90:g=0,m=1,v=1,w=0;break;case 270:g=0,m=-1,v=-1,w=0;break;case 0:g=1,m=0,v=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}d&&(v=-v,w=-w);let A,S,E,C;g===0?(A=Math.abs(p-e[1])*s+r,S=Math.abs(h-e[0])*s+l,E=(e[3]-e[1])*s,C=(e[2]-e[0])*s):(A=Math.abs(h-e[0])*s+r,S=Math.abs(p-e[1])*s+l,E=(e[2]-e[0])*s,C=(e[3]-e[1])*s),this.transform=[g*s,m*s,v*s,w*s,A-g*s*h-v*s*p,S-m*s*h-w*s*p],this.width=E,this.height=C}get rawDims(){const e=this.viewBox;return Ze(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:a=this.offsetY,dontFlip:r=!1}={}){return new dc({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:a,dontFlip:r})}convertToViewportPoint(e,t){const s=[e,t];return Ee.applyTransform(s,this.transform),s}convertToViewportRectangle(e){const t=[e[0],e[1]];Ee.applyTransform(t,this.transform);const s=[e[2],e[3]];return Ee.applyTransform(s,this.transform),[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){const s=[e,t];return Ee.applyInverseTransform(s,this.transform),s}}class Qu extends ui{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function uc(i){const e=i.length;let t=0;for(;t<e&&i[t].trim()==="";)t++;return i.substring(t,t+5).toLowerCase()==="data:"}function Zu(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function b2(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function w2(i,e="document.pdf"){if(typeof i!="string")return e;if(uc(i))return We('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const s=(d=>{try{return new URL(d)}catch{try{return new URL(decodeURIComponent(d))}catch{try{return new URL(d,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(d),"https://foo.bar")}catch{return null}}}}})(i);if(!s)return e;const a=d=>{try{let h=decodeURIComponent(d);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:d):h}catch{return d}},r=/\.pdf$/i,l=s.pathname.split("/").at(-1);if(r.test(l))return a(l);if(s.searchParams.size>0){const d=Array.from(s.searchParams.values()).reverse();for(const p of d)if(r.test(p))return a(p);const h=Array.from(s.searchParams.keys()).reverse();for(const p of h)if(r.test(p))return a(p)}if(s.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(s.hash);if(h)return a(h[0])}return e}class tb{started=Object.create(null);times=[];time(e){e in this.started&&We(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||We(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:a,end:r}of this.times)e.push(`${s.padEnd(t)} ${r-a}ms
`);return e.join("")}}function Fl(i,e){const t=e?URL.parse(i,e):URL.parse(i);return t?.protocol==="http:"||t?.protocol==="https:"}function is(i){i.preventDefault()}function Ot(i){i.preventDefault(),i.stopPropagation()}function W4(i){console.log("Deprecated API usage: "+i)}class vu{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const s=parseInt(t[1],10);let a=parseInt(t[2],10);a=a>=1&&a<=12?a-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let d=parseInt(t[5],10);d=d>=0&&d<=59?d:0;let h=parseInt(t[6],10);h=h>=0&&h<=59?h:0;const p=t[7]||"Z";let g=parseInt(t[8],10);g=g>=0&&g<=23?g:0;let m=parseInt(t[9],10)||0;return m=m>=0&&m<=59?m:0,p==="-"?(l+=g,d+=m):p==="+"&&(l-=g,d-=m),new Date(Date.UTC(s,a,r,l,d,h))}}function S2(i,{scale:e=1,rotation:t=0}){const{width:s,height:a}=i.attributes.style,r=[0,0,parseInt(s),parseInt(a)];return new dc({viewBox:r,userUnit:1,scale:e,rotation:t})}function Br(i){if(i.startsWith("#")){const e=parseInt(i.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(e=>parseInt(e)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(We(`Not a valid color format: "${i}"`),[0,0,0])}function K4(i){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of i.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;i.set(t,Br(s))}e.remove()}function Mt(i){const{a:e,b:t,c:s,d:a,e:r,f:l}=i.getTransform();return[e,t,s,a,r,l]}function Ks(i){const{a:e,b:t,c:s,d:a,e:r,f:l}=i.getTransform().invertSelf();return[e,t,s,a,r,l]}function _a(i,e,t=!1,s=!0){if(e instanceof dc){const{pageWidth:a,pageHeight:r}=e.rawDims,{style:l}=i,d=pn.isCSSRoundSupported,h=`var(--total-scale-factor) * ${a}px`,p=`var(--total-scale-factor) * ${r}px`,g=d?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,m=d?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!t||e.rotation%180===0?(l.width=g,l.height=m):(l.width=m,l.height=g)}s&&i.setAttribute("data-main-rotation",e.rotation)}class zs{constructor(){const{pixelRatio:e}=zs;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,s,a,r=-1){let l=1/0,d=1/0,h=1/0;s=zs.capPixels(s,r),s>0&&(l=Math.sqrt(s/(e*t))),a!==-1&&(d=a/e,h=a/t);const p=Math.min(l,d,h);return this.sx>p||this.sy>p?(this.sx=p,this.sy=p,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,s):s}return e}}const yu=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Q4{static get isDarkMode(){return Ze(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class A2{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:s}=window.getComputedStyle(e);return e.remove(),Ze(this,"commentForegroundColor",Br(s))}}function C2(i,e,t,s){s=Math.min(Math.max(s??1,0),1);const a=255*(1-s);return i=Math.round(i*s+a),e=Math.round(e*s+a),t=Math.round(t*s+a),[i,e,t]}function nb(i,e){const t=i[0]/255,s=i[1]/255,a=i[2]/255,r=Math.max(t,s,a),l=Math.min(t,s,a),d=(r+l)/2;if(r===l)e[0]=e[1]=0;else{const h=r-l;switch(e[1]=d<.5?h/(r+l):h/(2-r-l),r){case t:e[0]=((s-a)/h+(s<a?6:0))*60;break;case s:e[0]=((a-t)/h+2)*60;break;case a:e[0]=((t-s)/h+4)*60;break}}e[2]=d}function Am(i,e){const t=i[0],s=i[1],a=i[2],r=(1-Math.abs(2*a-1))*s,l=r*(1-Math.abs(t/60%2-1)),d=a-r/2;switch(Math.floor(t/60)){case 0:e[0]=r+d,e[1]=l+d,e[2]=d;break;case 1:e[0]=l+d,e[1]=r+d,e[2]=d;break;case 2:e[0]=d,e[1]=r+d,e[2]=l+d;break;case 3:e[0]=d,e[1]=l+d,e[2]=r+d;break;case 4:e[0]=l+d,e[1]=d,e[2]=r+d;break;case 5:case 6:e[0]=r+d,e[1]=d,e[2]=l+d;break}}function sb(i){return i<=.03928?i/12.92:((i+.055)/1.055)**2.4}function ob(i,e,t){Am(i,t),t.map(sb);const s=.2126*t[0]+.7152*t[1]+.0722*t[2];Am(e,t),t.map(sb);const a=.2126*t[0]+.7152*t[1]+.0722*t[2];return s>a?(s+.05)/(a+.05):(a+.05)/(s+.05)}const ab=new Map;function E2(i,e){const t=i[0]+i[1]*256+i[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let s=ab.get(t);if(s)return s;const a=new Float32Array(9),r=a.subarray(0,3),l=a.subarray(3,6);nb(i,l);const d=a.subarray(6,9);nb(e,d);const h=d[2]<.5,p=h?12:4.5;if(l[2]=h?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),ob(l,d,r)<p){let g,m;h?(g=l[2],m=1):(g=0,m=l[2]);const v=.005;for(;m-g>v;){const w=l[2]=(g+m)/2;h===ob(l,d,r)<p?g=w:m=w}l[2]=h?m:g}return Am(l,r),s=Ee.makeHexColor(Math.round(r[0]*255),Math.round(r[1]*255),Math.round(r[2]*255)),ab.set(t,s),s}function _g({html:i,dir:e,className:t},s){const a=document.createDocumentFragment();if(typeof i=="string"){const r=document.createElement("p");r.dir=e||"auto";const l=i.split(/(?:\r\n?|\n)/);for(let d=0,h=l.length;d<h;++d){const p=l[d];r.append(document.createTextNode(p)),d<h-1&&r.append(document.createElement("br"))}a.append(r)}else Tg.render({xfaHtml:i,div:a,intent:"richText"});a.firstChild.classList.add("richText",t),s.append(a)}class $l{#e=null;#t=null;#s;#n=null;#i=null;#o=null;#a=null;#r=null;static#c=null;constructor(e){this.#s=e,$l.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#s._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",is,{signal:t}),e.addEventListener("pointerdown",$l.#l,{signal:t}));const s=this.#n=document.createElement("div");s.className="buttons",e.append(s);const a=this.#s.toolbarPosition;if(a){const{style:r}=e,l=this.#s._uiManager.direction==="ltr"?1-a[0]:a[0];r.insetInlineEnd=`${100*l}%`,r.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#h(e){this.#s._focusEventsAllowed=!1,Ot(e)}#u(e){this.#s._focusEventsAllowed=!0,Ot(e)}#f(e){const t=this.#s._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#u.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",is,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#i?.shown(),this.#o?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#s,s=document.createElement("button");s.classList.add("basic","deleteButton"),s.tabIndex=0,s.setAttribute("data-l10n-id",$l.#c[e]),this.#f(s)&&s.addEventListener("click",a=>{t.delete()},{signal:t._signal}),this.#n.append(s)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#f(t),this.#n.append(t,this.#g),this.#i=e}addComment(e,t=null){if(this.#o)return;const s=e.renderForToolbar();if(!s)return;this.#f(s);const a=this.#a=this.#g;t?(this.#n.insertBefore(s,t),this.#n.insertBefore(a,t)):this.#n.append(s,a),this.#o=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#f(t),this.#n.append(t,this.#g)}async addEditSignatureButton(e){const t=this.#r=await e.renderEditButton(this.#s);this.#f(t),this.#n.append(t,this.#g)}removeButton(e){e==="comment"&&(this.#o?.removeToolbarCommentButton(),this.#o=null,this.#a?.remove(),this.#a=null)}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,s){const a=this.#n.querySelector(s);a&&e==="comment"&&this.addComment(t,a)}updateEditSignatureButton(e){this.#r&&(this.#r.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class Z4{#e=null;#t=null;#s;constructor(e){this.#s=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#s._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",is,{signal:t});const s=this.#e=document.createElement("div");return s.className="buttons",e.append(s),this.#s.hasCommentManager()&&this.#o("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#s.commentSelection("floating_button")}),this.#o("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#s.highlightSelection("floating_button")}),e}#i(e,t){let s=0,a=0;for(const r of e){const l=r.y+r.height;if(l<s)continue;const d=r.x+(t?r.width:0);if(l>s){a=d,s=l;continue}t?d>a&&(a=d):d<a&&(a=d)}return[t?1-a:a,s]}show(e,t,s){const[a,r]=this.#i(t,s),{style:l}=this.#t||=this.#n();e.append(this.#t),l.insetInlineEnd=`${100*a}%`,l.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#o(e,t,s,a){const r=document.createElement("button");r.classList.add("basic",e),r.tabIndex=0,r.setAttribute("data-l10n-id",t);const l=document.createElement("span");r.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",s);const d=this.#s._signal;d instanceof AbortSignal&&!d.aborted&&(r.addEventListener("contextmenu",is,{signal:d}),r.addEventListener("click",a,{signal:d})),this.#e.append(r)}}function T2(i,e,t){for(const s of t)e.addEventListener(s,i[s].bind(i))}class J4{#e=0;get id(){return`${Ql}${this.#e++}`}}class Ng{#e=Cg();#t=0;#s=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=e;const r=a.decode().then(()=>(s.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Ze(this,"_isSVGFittingCanvas",r)}async#n(e,t){this.#s||=new Map;let s=this.#s.get(e);if(s===null)return null;if(s?.bitmap)return s.refCounter+=1,s;try{s||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let a;if(typeof t=="string"?(s.url=t,a=await Lr(t,"blob")):t instanceof File?a=s.file=t:t instanceof Blob&&(a=t),a.type==="image/svg+xml"){const r=Ng._isSVGFittingCanvas,l=new FileReader,d=new Image,h=new Promise((p,g)=>{d.onload=()=>{s.bitmap=d,s.isSvg=!0,p()},l.onload=async()=>{const m=s.svgUrl=l.result;d.src=await r?`${m}#svgView(preserveAspectRatio(none))`:m},d.onerror=l.onerror=g});l.readAsDataURL(a),await h}else s.bitmap=await createImageBitmap(a);s.refCounter=1}catch(a){We(a),s=null}return this.#s.set(e,s),s&&this.#s.set(s.id,s),s}async getFromFile(e){const{lastModified:t,name:s,size:a,type:r}=e;return this.#n(`${t}_${s}_${a}_${r}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,t){const s=await t;return this.#n(e,s)}async getFromId(e){this.#s||=new Map;const t=this.#s.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#s||=new Map;let s=this.#s.get(e);if(s?.bitmap)return s.refCounter+=1,s;const a=new OffscreenCanvas(t.width,t.height);return a.getContext("2d").drawImage(t,0,0),s={bitmap:a.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#s.set(e,s),this.#s.set(s.id,s),s}getSvgUrl(e){const t=this.#s.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#s||=new Map;const t=this.#s.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const a=new OffscreenCanvas(s.width,s.height);a.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=a.convertToBlob()}s.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class eO{#e=[];#t=!1;#s;#n=-1;constructor(e=128){this.#s=e}add({cmd:e,undo:t,post:s,mustExec:a,type:r=NaN,overwriteIfSameType:l=!1,keepUndo:d=!1}){if(a&&e(),this.#t)return;const h={cmd:e,undo:t,post:s,type:r};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(h);return}if(l&&this.#e[this.#n].type===r){d&&(h.undo=this.#e[this.#n].undo),this.#e[this.#n]=h;return}const p=this.#n+1;p===this.#s?this.#e.splice(0,1):(this.#n=p,p<this.#e.length&&this.#e.splice(p)),this.#e.push(h)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let t=this.#n;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#n-t),this.#n=t;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class hc{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=pn.platform;for(const[s,a,r={}]of e)for(const l of s){const d=l.startsWith("mac+");t&&d?(this.callbacks.set(l.slice(4),{callback:a,options:r}),this.allKeys.add(l.split("+").at(-1))):!t&&!d&&(this.callbacks.set(l,{callback:a,options:r}),this.allKeys.add(l.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(this.#e(t));if(!s)return;const{callback:a,options:{bubbles:r=!1,args:l=[],checker:d=null}}=s;d&&!d(e,t)||(a.bind(e,...l,t)(),r||Ot(t))}}class Pg{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return K4(e),Ze(this,"_colors",e)}convert(e){const t=Br(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,a]of this._colors)if(a.every((r,l)=>r===t[l]))return Pg._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?Ee.makeHexColor(...t):e}}class Vo{#e=new AbortController;#t=null;#s=null;#n=new Map;#i=new Map;#o=null;#a=null;#r=null;#c=new eO;#l=null;#h=null;#u=null;#f=0;#g=new Set;#p=null;#d=null;#m=new Set;_editorUndoBar=null;#x=!1;#y=!1;#v=!1;#E=null;#A=null;#b=null;#_=null;#S=!1;#C=null;#j=new J4;#N=!1;#P=!1;#B=!1;#k=null;#M=null;#I=null;#O=null;#$=null;#T=Xe.NONE;#w=new Set;#R=null;#F=null;#H=null;#Y=null;#q=null;#X={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#L=null;#G=null;#Z=null;#J=null;#z=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Vo.prototype,t=l=>l.#G.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),s=(l,{target:d})=>{if(d instanceof HTMLInputElement){const{type:h}=d;return h!=="text"&&h!=="number"}return!0},a=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new hc([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:d})=>!(d instanceof HTMLButtonElement)&&l.#G.contains(d)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:d})=>!(d instanceof HTMLButtonElement)&&l.#G.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}constructor(e,t,s,a,r,l,d,h,p,g,m,v,w,A,S,E){const C=this._signal=this.#e.signal;this.#G=e,this.#Z=t,this.#J=s,this.#o=a,this.#l=r,this.#F=l,this.#q=h,this._eventBus=d,d._on("editingaction",this.onEditingAction.bind(this),{signal:C}),d._on("pagechanging",this.onPageChanging.bind(this),{signal:C}),d._on("scalechanging",this.onScaleChanging.bind(this),{signal:C}),d._on("rotationchanging",this.onRotationChanging.bind(this),{signal:C}),d._on("setpreference",this.onSetPreference.bind(this),{signal:C}),d._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:C}),window.addEventListener("pointerdown",()=>{this.#P=!0},{capture:!0,signal:C}),window.addEventListener("pointerup",()=>{this.#P=!1},{capture:!0,signal:C}),this.#le(),this.#he(),this.#te(),this.#a=h.annotationStorage,this.#E=h.filterFactory,this.#H=p,this.#_=g||null,this.#x=m,this.#y=v,this.#v=w,this.#$=A||null,this.viewParameters={realScale:ii.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=S||null,this._supportsPinchToZoom=E!==!1,r?.setSidebarUiManager(this)}destroy(){this.#z?.resolve(),this.#z=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#i.values())e.destroy();this.#i.clear(),this.#n.clear(),this.#m.clear(),this.#O?.clear(),this.#t=null,this.#w.clear(),this.#c.destroy(),this.#o?.destroy(),this.#l?.destroy(),this.#F?.destroy(),this.#C?.hide(),this.#C=null,this.#I?.destroy(),this.#I=null,this.#s=null,this.#A&&(clearTimeout(this.#A),this.#A=null),this.#L&&(clearTimeout(this.#L),this.#L=null),this._editorUndoBar?.destroy(),this.#q=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#$}get useNewAltTextFlow(){return this.#y}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Ze(this,"hcmFilter",this.#H?this.#E.addHCMFilter(this.#H.foreground,this.#H.background):"none")}get direction(){return Ze(this,"direction",getComputedStyle(this.#G).direction)}get _highlightColors(){return Ze(this,"_highlightColors",this.#_?new Map(this.#_.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ze(this,"highlightColors",null);const t=new Map,s=!!this.#H;for(const[a,r]of e){const l=a.endsWith("_HCM");if(s&&l){t.set(a.replace("_HCM",""),r);continue}!s&&!l&&t.set(a,r)}return Ze(this,"highlightColors",t)}get highlightColorNames(){return Ze(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#u=e}setMainHighlightColorPicker(e){this.#I=e}editAltText(e,t=!1){this.#o?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,s,a){this.#l?.showDialog(this,e,t,s,a)}selectComment(e,t){this.#i.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,t,s=void 0){this.#l?.toggleCommentPopup(e,t,s)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#i.has(e-1))return;const{resolve:t,promise:s}=Promise.withResolvers(),a=r=>{r.pageNumber===e&&(this._eventBus._off("editorsrendered",a),t())};this._eventBus.on("editorsrendered",a),await s}getSignature(e){this.#F?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#F}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){e==="enableNewAltTextWhenAddingImage"&&(this.#v=t)}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#G.focus()}findParent(e,t){for(const s of this.#i.values()){const{x:a,y:r,width:l,height:d}=s.div.getBoundingClientRect();if(e>=a&&e<=a+l&&t>=r&&t<=r+d)return s}return null}disableUserSelect(e=!1){this.#Z.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#m.add(e)}removeShouldRescale(e){this.#m.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*ii.PDF_TO_CSS_UNITS;for(const t of this.#m)t.onScaleChanging();this.#u?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Q({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of this.#i.values())if(s.hasTextLayer(e))return s;return null}highlightSelection(e="",t=!1){const s=document.getSelection();if(!s||s.isCollapsed)return;const{anchorNode:a,anchorOffset:r,focusNode:l,focusOffset:d}=s,h=s.toString(),g=this.#Q(s).closest(".textLayer"),m=this.getSelectionBoxes(g);if(!m)return;s.empty();const v=this.#ee(g),w=this.#T===Xe.NONE,A=()=>{const S=v?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:m,anchorNode:a,anchorOffset:r,focusNode:l,focusOffset:d,text:h});w&&this.showAllEditors("highlight",!0,!0),t&&S?.editComment()};if(w){this.switchToMode(Xe.HIGHLIGHT,A);return}A()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=this.#Q(e).closest(".textLayer"),a=this.getSelectionBoxes(s);a&&(this.#C||=new Z4(this),this.#C.show(s,a,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#a)return null;const t=`${Ql}${e}`,s=this.#a.getRawValue(t);return s&&this.#a.remove(t),s}addToAnnotationStorage(e){!e.isEmpty()&&this.#a&&!this.#a.has(e.id)&&this.#a.setValue(e.id,e)}a11yAlert(e,t=null){const s=this.#J;s&&(s.setAttribute("data-l10n-id",e),t?s.setAttribute("data-l10n-args",JSON.stringify(t)):s.removeAttribute("data-l10n-args"))}#re(){const e=document.getSelection();if(!e||e.isCollapsed){this.#R&&(this.#C?.hide(),this.#R=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#R)return;const a=this.#Q(e).closest(".textLayer");if(!a){this.#R&&(this.#C?.hide(),this.#R=null,this.#D({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#R=t,this.#D({hasSelectedText:!0}),!(this.#T!==Xe.HIGHLIGHT&&this.#T!==Xe.NONE)&&(this.#T===Xe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#S=this.isShiftKeyDown,!this.isShiftKeyDown)){const r=this.#T===Xe.HIGHLIGHT?this.#ee(a):null;if(r?.toggleDrawing(),this.#P){const l=new AbortController,d=this.combinedSignal(l),h=p=>{p.type==="pointerup"&&p.button!==0||(l.abort(),r?.toggleDrawing(!0),p.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else r?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(e=""){this.#T===Xe.HIGHLIGHT?this.highlightSelection(e):this.#x&&this.#ie()}#le(){document.addEventListener("selectionchange",this.#re.bind(this),{signal:this._signal})}#ce(){if(this.#b)return;this.#b=new AbortController;const e=this.combinedSignal(this.#b);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#de(){this.#b?.abort(),this.#b=null}blur(){if(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#w)if(t.div.contains(e)){this.#M=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#M)return;const[e,t]=this.#M;this.#M=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#k)return;this.#k=new AbortController;const e=this.combinedSignal(this.#k);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ue(){this.#k?.abort(),this.#k=null}#ne(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#se(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.#ne()}removeEditListeners(){this.#ue(),this.#se()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of this.#d)if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of this.#d)if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of this.#w){const a=s.serialize(!0);a&&t.push(a)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const l of this.#d)if(l.isHandlingMimeForPasting(r.type)){l.paste(r,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(r){We(`paste: "${r.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const a=this.currentLayer;try{const r=[];for(const h of s){const p=await a.deserialize(h);if(!p)return;r.push(p)}const l=()=>{for(const h of r)this.#oe(h);this.#ae(r)},d=()=>{for(const h of r)h.remove()};this.addCommands({cmd:l,undo:d,mustExec:!0})}catch(r){We(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#T!==Xe.NONE&&!this.isEditorHandlingKeyboard&&Vo._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#W("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#D(e){Object.entries(e).some(([s,a])=>this.#X[s]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#X,e)}),this.#T===Xe.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#V([[at.HIGHLIGHT_FREE,!0]]))}#V(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ce(),this.#ne(),this.#D({isEditing:this.#T!==Xe.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#de(),this.#se(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#d){this.#d=e;for(const t of this.#d)this.#V(t.defaultPropertiesToUpdate)}}getId(){return this.#j.id}get currentLayer(){return this.#i.get(this.#f)}getLayer(e){return this.#i.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#i.set(e.pageIndex,e),this.#N?e.enable():e.disable()}removeLayer(e){this.#i.delete(e.pageIndex)}async updateMode(e,t=null,s=!1,a=!1,r=!1){if(this.#T!==e&&!(this.#z&&(await this.#z.promise,!this.#z))){if(this.#z=Promise.withResolvers(),this.#u?.commitOrRemove(),this.#T===Xe.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#T=e,e===Xe.NONE){this.setEditingState(!1),this.#pe();for(const l of this.#n.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#z.resolve();return}for(const l of this.#n.values())l.addStandaloneCommentButton();e===Xe.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const l of this.#i.values())l.updateMode(e);if(e===Xe.POPUP){this.#s||=await this.#q.getAnnotationsByType(new Set(this.#d.map(h=>h._editorType)));const l=new Set,d=[];for(const h of this.#n.values()){const{annotationElementId:p,hasComment:g,deleted:m}=h;p&&l.add(p),g&&!m&&d.push(h.getData())}for(const h of this.#s){const{id:p,popupRef:g,contentsObj:m}=h;g&&m?.str&&!l.has(p)&&!this.#g.has(p)&&d.push(h)}this.#l?.showSidebar(d)}if(!t){s&&this.addNewEditorFromKeyboard(),this.#z.resolve();return}for(const l of this.#n.values())l.uid===t?(this.setSelected(l),r?l.editComment():a?l.enterInEditMode():l.focus()):l.unselect();this.#z.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#T&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#d){switch(e){case at.CREATE:this.currentLayer.addNewEditor(t);return;case at.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#Y||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const s of this.#w)s.updateParams(e,t);else for(const s of this.#d)s.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){for(const r of this.#n.values())r.editorType===e&&r.show(t);(this.#Y?.get(at.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#V([[at.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#B!==e){this.#B=e;for(const t of this.#i.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#N){this.#N=!0;const e=[];for(const t of this.#i.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#pe(){if(this.unselectAll(),this.#N){this.#N=!1;for(const e of this.#i.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const t of this.#n.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.focusMainContainer(),this.#A=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#O?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#a?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#oe(e){const t=this.#i.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#V(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#w);return e}updateUI(e){this.#me===e&&this.#V(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#V(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#w.has(e)){this.#w.delete(e),e.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#w.add(e),e.select(),this.#V(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#u?.commitOrRemove();for(const t of this.#w)t!==e&&t.unselect();this.#w.clear(),this.#w.add(e),e.select(),this.#V(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(e){return this.#w.has(e)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(e){e.unselect(),this.#w.delete(e),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#D({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(e){this.#c.add(e),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(e){this.#c.cleanType(e)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#w],s=()=>{this._editorUndoBar?.show(a,t.length===1?t[0].editorType:t.length);for(const r of t)r.remove()},a=()=>{for(const r of t)this.#oe(r)};this.addCommands({cmd:s,undo:a,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ae(e){for(const t of this.#w)t.unselect();this.#w.clear();for(const t of e)t.isEmpty()||(this.#w.add(t),t.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#w)e.commit();this.#ae(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#T!==Xe.NONE))&&!this.#u?.commitOrRemove()&&this.hasSelection){for(const e of this.#w)e.unselect();this.#w.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=e,this.#U[1]+=t;const[a,r]=this.#U,l=[...this.#w],d=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(a,r),h.translationDone())},undo:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(-a,-r),h.translationDone())},mustExec:!1})},d);for(const h of l)h.translateInPage(e,t),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const e of this.#w)this.#p.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const e=this.#p;this.#p=null;let t=!1;for(const[{x:a,y:r,pageIndex:l},d]of e)d.newX=a,d.newY=r,d.newPageIndex=l,t||=a!==d.savedX||r!==d.savedY||l!==d.savedPageIndex;if(!t)return!1;const s=(a,r,l,d)=>{if(this.#n.has(a.id)){const h=this.#i.get(d);h?a._setParentAndPosition(h,r,l):(a.pageIndex=d,a.x=r,a.y=l)}};return this.addCommands({cmd:()=>{for(const[a,{newX:r,newY:l,newPageIndex:d}]of e)s(a,r,l,d)},undo:()=>{for(const[a,{savedX:r,savedY:l,savedPageIndex:d}]of e)s(a,r,l,d)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#p)for(const s of this.#p.keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#T}isEditingMode(){return this.#T!==Xe.NONE}get imageManager(){return Ze(this,"imageManager",new Ng)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let p=0,g=t.rangeCount;p<g;p++)if(!e.contains(t.getRangeAt(p).commonAncestorContainer))return null;const{x:s,y:a,width:r,height:l}=e.getBoundingClientRect();let d;switch(e.getAttribute("data-main-rotation")){case"90":d=(p,g,m,v)=>({x:(g-a)/l,y:1-(p+m-s)/r,width:v/l,height:m/r});break;case"180":d=(p,g,m,v)=>({x:1-(p+m-s)/r,y:1-(g+v-a)/l,width:m/r,height:v/l});break;case"270":d=(p,g,m,v)=>({x:1-(g+v-a)/l,y:(p-s)/r,width:v/l,height:m/r});break;default:d=(p,g,m,v)=>({x:(p-s)/r,y:(g-a)/l,width:m/r,height:v/l});break}const h=[];for(let p=0,g=t.rangeCount;p<g;p++){const m=t.getRangeAt(p);if(!m.collapsed)for(const{x:v,y:w,width:A,height:S}of m.getClientRects())A===0||S===0||h.push(d(v,w,A,S))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#r||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#r?.delete(e)}renderAnnotationElement(e){const t=this.#r?.get(e.data.id);if(!t)return;const s=this.#a.getRawValue(t);s&&(this.#T===Xe.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}setMissingCanvas(e,t,s){const a=this.#O?.get(e);a&&(a.setCanvas(t,s),this.#O.delete(e))}addMissingCanvas(e,t){(this.#O||=new Map).set(e,t)}}class eo{#e=null;#t=!1;#s=null;#n=null;#i=null;#o=null;#a=!1;#r=null;#c=null;#l=null;#h=null;#u=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#u=e._uiManager.useNewAltTextFlow,eo.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){eo._l10n??=e}async render(){const e=this.#s=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#n=document.createElement("span");e.append(t),this.#u?(e.classList.add("new"),e.setAttribute("data-l10n-id",eo.#f.missing),t.setAttribute("data-l10n-id",eo.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=this.#c._uiManager._signal;e.addEventListener("contextmenu",is,{signal:s}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:s});const a=r=>{r.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#u&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",a,{capture:!0,signal:s}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(this.#a=!0,a(r))},{signal:s}),await this.#p(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#s&&(this.#s.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#u?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#u?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await eo._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#u||this.#e){this.#r?.remove(),this.#r=null;return}if(!this.#r){const t=this.#r=document.createElement("div");t.className="noAltTextBadge",this.#c.div.append(t)}this.#r.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#h),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:a,cancel:r=!1}){s&&(this.#l=s,this.#h=a),!(this.#e===e&&this.#t===t)&&(r||(this.#e=e,this.#t=t),this.#p())}toggle(e=!1){this.#s&&(!e&&this.#o&&(clearTimeout(this.#o),this.#o=null),this.#s.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#s?.remove(),this.#s=null,this.#n=null,this.#i=null,this.#r?.remove(),this.#r=null}async#p(){const e=this.#s;if(!e)return;if(this.#u){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",eo.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",eo.#f[`${this.#g}-label`]),!this.#e){this.#i?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#i?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#i;if(!t){this.#i=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#c.id}`;const a=100,r=this.#c._uiManager._signal;r.addEventListener("abort",()=>{clearTimeout(this.#o),this.#o=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#i.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:r}),e.addEventListener("mouseleave",()=>{this.#o&&(clearTimeout(this.#o),this.#o=null),this.#i?.classList.remove("show")},{signal:r})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#c.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Fd{#e=null;#t=null;#s=!1;#n=null;#i=null;#o=null;#a=null;#r=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#n.commentButtonPosition;if(t){const{style:s}=e;s.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,s.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const a=this.#n.commentButtonColor;a&&(s.backgroundColor=a)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:s}=this.#e.getBoundingClientRect(),{x:a,y:r,width:l,height:d}=this.#n.parent.boundingClientRect;return[(e-a)/l,(t+s-r)/d]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#h(e,t){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const s=this.#n._uiManager._signal;if(!(s instanceof AbortSignal)||s.aborted)return e;e.addEventListener("contextmenu",is,{signal:s}),t&&(e.addEventListener("focusin",r=>{this.#n._focusEventsAllowed=!1,Ot(r)},{capture:!0,signal:s}),e.addEventListener("focusout",r=>{this.#n._focusEventsAllowed=!0,Ot(r)},{capture:!0,signal:s})),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:s});const a=r=>{r.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",a,{capture:!0,signal:s}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(this.#s=!0,a(r))},{signal:s}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:s}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:s}),e}edit(e){const t=this.commentPopupPositionInLayer;let s,a;if(t)[s,a]=t;else{[s,a]=this.#n.commentButtonPosition;const{width:g,height:m,x:v,y:w}=this.#n;s=v+s*g,a=w+a*m}const r=this.#n.parent.boundingClientRect,{x:l,y:d,width:h,height:p}=r;this.#n._uiManager.editComment(this.#n,l+s*h,d+a*p,{...e,parentDimensions:r})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#s}),this.#s=!1)}isDeleted(){return this.#c||this.#a===""}isEmpty(){return this.#a===null}hasBeenEdited(){return this.isDeleted()||this.#a!==this.#i}serialize(){return this.data}get data(){return{text:this.#a,richText:this.#o,date:this.#r,deleted:this.isDeleted()}}set data(e){if(e!==this.#a&&(this.#o=null),e===null){this.#a="",this.#c=!0;return}this.#a=e,this.#r=new Date,this.#c=!1}setInitialText(e,t=null){this.#i=e,this.data=e,this.#r=null,this.#o=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#a="",this.#o=null,this.#r=null,this.#n=null,this.#s=!1,this.#c=!1}}class fc{#e;#t=!1;#s=null;#n;#i;#o;#a;#r=null;#c;#l=null;#h;#u=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:s=null,onPinchStart:a=null,onPinching:r=null,onPinchEnd:l=null,signal:d}){this.#e=e,this.#s=s,this.#n=t,this.#i=a,this.#o=r,this.#a=l,this.#h=new AbortController,this.#c=AbortSignal.any([d,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/zs.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#r)return;const a=this.#r=new AbortController,r=AbortSignal.any([this.#c,a.signal]),l=this.#e,d={capture:!0,signal:r,passive:!1},h=p=>{p.pointerType==="touch"&&(this.#r?.abort(),this.#r=null)};l.addEventListener("pointerdown",p=>{p.pointerType==="touch"&&(Ot(p),h(p))},d),l.addEventListener("pointerup",h,d),l.addEventListener("pointercancel",h,d);return}if(!this.#u){this.#u=new AbortController;const a=AbortSignal.any([this.#c,this.#u.signal]),r=this.#e,l={signal:a,capture:!1,passive:!1};r.addEventListener("touchmove",this.#g.bind(this),l);const d=this.#p.bind(this);r.addEventListener("touchend",d,l),r.addEventListener("touchcancel",d,l),l.capture=!0,r.addEventListener("pointerdown",Ot,l),r.addEventListener("pointermove",Ot,l),r.addEventListener("pointercancel",Ot,l),r.addEventListener("pointerup",Ot,l),this.#i?.()}if(Ot(e),e.touches.length!==2||this.#s?.()){this.#l=null;return}let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:s.screenX,touch1Y:s.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;Ot(e);let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]);const{screenX:a,screenY:r}=t,{screenX:l,screenY:d}=s,h=this.#l,{touch0X:p,touch0Y:g,touch1X:m,touch1Y:v}=h,w=m-p,A=v-g,S=l-a,E=d-r,C=Math.hypot(S,E)||1,_=Math.hypot(w,A)||1;if(!this.#t&&Math.abs(_-C)<=fc.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=a,h.touch0Y=r,h.touch1X=l,h.touch1Y=d,!this.#t){this.#t=!0;return}const N=[(a+l)/2,(r+d)/2];this.#o?.(N,_,C)}#p(e){e.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#a?.()),this.#l&&(Ot(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#r?.abort(),this.#r=null}}class Me{#e=null;#t=null;#s=null;#n=null;#i=null;#o=!1;#a=null;#r="";#c=null;#l=null;#h=null;#u=null;#f=null;#g="";#p=!1;#d=null;#m=!1;#x=!1;#y=!1;#v=null;#E=0;#A=0;#b=null;#_=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#S=!1;#C=Me._zIndex++;static _borderLineWidth=-1;static _colorManager=new Pg;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Me.prototype._resizeWithKeyboard,t=Vo.TRANSLATE_SMALL,s=Vo.TRANSLATE_BIG;return Ze(this,"_resizerKeyboardManager",new hc([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],Me.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:a,pageX:r,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,a],this.pageTranslation=[r,l];const[d,h]=this.parentDimensions;this.x=e.x/d,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ze(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new tO({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Me._l10n??=e,Me._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Me._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Me._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){_t("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#S}set _isDraggable(e){this.#S=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#L(),this.#u?.remove(),this.#u=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,a){const[r,l]=this.parentDimensions;[s,a]=this.screenToPageTranslation(s,a),this.x=(e+s)/r,this.y=(t+a)/l,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[s,a]=this.parentDimensions;this.setAt(e*s,t*a,this.width*s,this.height*a),this._onTranslated()}#j([e,t],s,a){[s,a]=this.screenToPageTranslation(s,a),this.x+=s/e,this.y+=a/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#j(this.parentDimensions,e,t)}translateInPage(e,t){this.#d||=[this.x,this.y,this.width,this.height],this.#j(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#d||=[this.x,this.y,this.width,this.height];const{div:s,parentDimensions:[a,r]}=this;if(this.x+=e/a,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:d}=this;const[h,p]=this.getBaseTranslation();l+=h,d+=p;const{style:g}=s;g.left=`${(100*l).toFixed(2)}%`,g.top=`${(100*d).toFixed(2)}%`,this._onTranslating(l,d),s.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#d&&(this.#d[0]!==this.x||this.#d[1]!==this.y)}get _hasBeenResized(){return!!this.#d&&(this.#d[2]!==this.width||this.#d[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=Me,a=s/e,r=s/t;switch(this.rotation){case 90:return[-a,r];case 180:return[a,r];case 270:return[a,-r];default:return[-a,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[s,a]}=this;let{x:r,y:l,width:d,height:h}=this;if(d*=s,h*=a,r*=s,l*=a,this._mustFixPosition)switch(e){case 0:r=Nn(r,0,s-d),l=Nn(l,0,a-h);break;case 90:r=Nn(r,0,s-h),l=Nn(l,d,a);break;case 180:r=Nn(r,d,s),l=Nn(l,h,a);break;case 270:r=Nn(r,h,s),l=Nn(l,0,a-d);break}this.x=r/=s,this.y=l/=a;const[p,g]=this.getBaseTranslation();r+=p,l+=g,t.left=`${(100*r).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#N(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Me.#N(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Me.#N(e,t,360-this.parentRotation)}#P(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(){const{div:{style:e},width:t,height:s}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*s).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#B(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const a=document.createElement("div");this.#c.append(a),a.classList.add("resizer",s),a.setAttribute("data-resizer-name",s),a.addEventListener("pointerdown",this.#k.bind(this,s),{signal:t}),a.addEventListener("contextmenu",is,{signal:t}),a.tabIndex=-1}this.div.prepend(this.#c)}#k(e,t){t.preventDefault();const{isMac:s}=pn.platform;if(t.button!==0||t.ctrlKey&&s)return;this.#s?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const r=new AbortController,l=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#O.bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Ot,{passive:!1,signal:l}),window.addEventListener("contextmenu",is,{signal:l}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{r.abort(),this.parent.togglePointerEvents(!0),this.#s?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=d,this.div.style.cursor=h,this.#I()};window.addEventListener("pointerup",p,{signal:l}),window.addEventListener("blur",p,{signal:l})}#M(e,t,s,a){this.width=s,this.height=a,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#I(){if(!this.#h)return;const{savedX:e,savedY:t,savedWidth:s,savedHeight:a}=this.#h;this.#h=null;const r=this.x,l=this.y,d=this.width,h=this.height;r===e&&l===t&&d===s&&h===a||this.addCommands({cmd:this.#M.bind(this,r,l,d,h),undo:this.#M.bind(this,e,t,s,a),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#O(e,t){const[s,a]=this.parentDimensions,r=this.x,l=this.y,d=this.width,h=this.height,p=Me.MIN_SIZE/s,g=Me.MIN_SIZE/a,m=this.#P(this.rotation),v=(D,U)=>[m[0]*D+m[2]*U,m[1]*D+m[3]*U],w=this.#P(360-this.rotation),A=(D,U)=>[w[0]*D+w[2]*U,w[1]*D+w[3]*U];let S,E,C=!1,_=!1;switch(e){case"topLeft":C=!0,S=(D,U)=>[0,0],E=(D,U)=>[D,U];break;case"topMiddle":S=(D,U)=>[D/2,0],E=(D,U)=>[D/2,U];break;case"topRight":C=!0,S=(D,U)=>[D,0],E=(D,U)=>[0,U];break;case"middleRight":_=!0,S=(D,U)=>[D,U/2],E=(D,U)=>[0,U/2];break;case"bottomRight":C=!0,S=(D,U)=>[D,U],E=(D,U)=>[0,0];break;case"bottomMiddle":S=(D,U)=>[D/2,U],E=(D,U)=>[D/2,0];break;case"bottomLeft":C=!0,S=(D,U)=>[0,U],E=(D,U)=>[D,0];break;case"middleLeft":_=!0,S=(D,U)=>[0,U/2],E=(D,U)=>[D,U/2];break}const N=S(d,h),j=E(d,h);let M=v(...j);const L=Me._round(r+M[0]),O=Me._round(l+M[1]);let I=1,z=1,$,Y;if(t.fromKeyboard)({deltaX:$,deltaY:Y}=t);else{const{screenX:D,screenY:U}=t,[H,F]=this.#l;[$,Y]=this.screenToPageTranslation(D-H,U-F),this.#l[0]=D,this.#l[1]=U}if([$,Y]=A($/s,Y/a),C){const D=Math.hypot(d,h);I=z=Math.max(Math.min(Math.hypot(j[0]-N[0]-$,j[1]-N[1]-Y)/D,1/d,1/h),p/d,g/h)}else _?I=Nn(Math.abs(j[0]-N[0]-$),p,1)/d:z=Nn(Math.abs(j[1]-N[1]-Y),g,1)/h;const se=Me._round(d*I),re=Me._round(h*z);M=v(...E(se,re));const ae=L-M[0],fe=O-M[1];this.#d||=[this.x,this.y,this.width,this.height],this.width=se,this.height=re,this.x=ae,this.y=fe,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#s?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#x)return this._editToolbar;this._editToolbar=new $l(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,s]of e)await this._editToolbar.addButton(t,s);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#s?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#s||(eo.initialize(Me._l10n),this.#s=new eo(this),this.#e&&(this.#s.data=this.#e,this.#e=null)),this.#s}get altTextData(){return this.#s?.data}set altTextData(e){this.#s&&(this.#s.data=e)}get guessedAltText(){return this.#s?.guessedText}async setGuessedAltText(e){await this.#s?.setGuessedText(e)}serializeAltText(e){return this.#s?.serialize(e)}hasAltText(){return!!this.#s&&!this.#s.isEmpty()}hasAltTextData(){return this.#s?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new Fd(this)}addStandaloneCommentButton(){if(this.#i){this._uiManager.isEditingMode()&&this.#i.classList.remove("hidden");return}this.hasComment&&(this.#i=this.#n.renderForStandalone(),this.div.append(this.#i))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#i=null}hideStandaloneCommentButton(){this.#i?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:s,deleted:a}}=this.#n;return{text:t,richText:e,date:s,deleted:a,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new Fd(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:s}){if(!t||(this.#n||=new Fd(this),this.#n.setInitialText(e,s),!this.annotationElementId))return;const a=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);a&&this.updateFromAnnotationLayer(a)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new Fd(this),this.#n.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,a]=e.rect,[r]=this.pageDimensions,[l]=this.pageTranslation,d=l+r+1,h=a-100,p=d+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[d,h,p,a]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#n.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#o?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#H();const[t,s]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*s/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/s).toFixed(2)}%`);const[a,r]=this.getInitialTranslation();return this.translate(a,r),T2(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#_||=new fc({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#$.bind(this),onPinching:this.#T.bind(this),onPinchEnd:this.#w.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#$(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#s?.toggle(!1),this.parent.togglePointerEvents(!1)}#T(e,t,s){let r=.7*(s/t)+1-.7;if(r===1)return;const l=this.#P(this.rotation),d=(L,O)=>[l[0]*L+l[2]*O,l[1]*L+l[3]*O],[h,p]=this.parentDimensions,g=this.x,m=this.y,v=this.width,w=this.height,A=Me.MIN_SIZE/h,S=Me.MIN_SIZE/p;r=Math.max(Math.min(r,1/v,1/w),A/v,S/w);const E=Me._round(v*r),C=Me._round(w*r);if(E===v&&C===w)return;this.#d||=[g,m,v,w];const _=d(v/2,w/2),N=Me._round(g+_[0]),j=Me._round(m+_[1]),M=d(E/2,C/2);this.x=N-M[0],this.y=j-M[1],this.width=E,this.height=C,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#w(){this.#s?.toggle(!0),this.parent.togglePointerEvents(!0),this.#I()}pointerdown(e){const{isMac:t}=pn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#F(e);return}this.#R(e)}#R(e){const{isMac:t}=pn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#F(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let s=!1;const a=new AbortController,r=this._uiManager.combinedSignal(a),l={capture:!0,passive:!1,signal:r},d=p=>{a.abort(),this.#a=null,this.#p=!1,this._uiManager.endDragSession()||this.#R(p),s&&this._onStopDragging()};t&&(this.#E=e.clientX,this.#A=e.clientY,this.#a=e.pointerId,this.#r=e.pointerType,window.addEventListener("pointermove",p=>{s||(s=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:g,clientY:m,pointerId:v}=p;if(v!==this.#a){Ot(p);return}const[w,A]=this.screenToPageTranslation(g-this.#E,m-this.#A);this.#E=g,this.#A=m,this._uiManager.dragSelectedEditors(w,A)},l),window.addEventListener("touchmove",Ot,l),window.addEventListener("pointerdown",p=>{p.pointerType===this.#r&&(this.#_||p.isPrimary)&&d(p),Ot(p)},l));const h=p=>{if(!this.#a||this.#a===p.pointerId){d(p);return}Ot(p)};window.addEventListener("pointerup",h,{signal:r}),window.addEventListener("blur",h,{signal:r})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,s=this.rotation){const a=this.parentScale,[r,l]=this.pageDimensions,[d,h]=this.pageTranslation,p=e/a,g=t/a,m=this.x*r,v=this.y*l,w=this.width*r,A=this.height*l;switch(s){case 0:return[m+p+d,l-v-g-A+h,m+p+w+d,l-v-g+h];case 90:return[m+g+d,l-v+p+h,m+g+A+d,l-v+p+w+h];case 180:return[m-p-w+d,l-v+g+h,m-p+d,l-v+g+A+h];case 270:return[m-g-A+d,l-v-p-w+h,m-g+d,l-v-p+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,a,r,l]=e,d=r-s,h=l-a;switch(this.rotation){case 0:return[s,t-l,d,h];case 90:return[s,t-a,h,d];case 180:return[r,t-a,d,h];case 270:return[r,t-l,h,d];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Me._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:s,opacity:a,deleted:r,richText:l},uid:d,pageIndex:h,creationDate:p,modificationDate:g}=this;return{id:d,pageIndex:h,rect:this.getPDFRect(),richText:l,contentsObj:{str:e},creationDate:p,modificationDate:s||g,popupRef:!r,color:t,opacity:a}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#x=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#x=!1,!0):!1}isInEditMode(){return this.#x}shouldGetKeyboardEvents(){return this.#y}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:s,right:a}=this.getClientDimensions(),{innerHeight:r,innerWidth:l}=window;return t<l&&a>0&&e<r&&s>0}#H(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#H()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,s){const a=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});a.rotation=e.rotation,a.#e=e.accessibilityData,a._isCopy=e.isCopy||!1;const[r,l]=a.pageDimensions,[d,h,p,g]=a.getRectInCurrentCoords(e.rect,l);return a.x=d/r,a.y=h/l,a.width=p/r,a.height=g/l,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#L(),this.removeEditToolbar(),this.#b){for(const e of this.#b.values())clearTimeout(e);this.#b=null}this.parent=null,this.#_?.destroy(),this.#_=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#B(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[s,a,r,l]=this.getPDFRect();return[Me._round(s+(r-s)*e),Me._round(a+(l-a)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#c.children;if(!this.#t){this.#t=Array.from(t);const l=this.#Y.bind(this),d=this.#q.bind(this),h=this._uiManager._signal;for(const p of this.#t){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",l,{signal:h}),p.addEventListener("blur",d,{signal:h}),p.addEventListener("focus",this.#X.bind(this,g),{signal:h}),p.setAttribute("data-l10n-id",Me._l10nResizer[g])}}const s=this.#t[0];let a=0;for(const l of t){if(l===s)break;a++}const r=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(r!==a){if(r<a)for(let d=0;d<a-r;d++)this.#c.append(this.#c.firstChild);else if(r>a)for(let d=0;d<r-a;d++)this.#c.firstChild.before(this.#c.lastChild);let l=0;for(const d of t){const p=this.#t[l++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",Me._l10nResizer[p])}}this.#U(0),this.#y=!0,this.#c.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#Y(e){Me._resizerKeyboardManager.exec(this,e)}#q(e){this.#y&&e.relatedTarget?.parentNode!==this.#c&&this.#L()}#X(e){this.#g=this.#y?e:""}#U(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#y&&this.#O(this.#g,{deltaX:e,deltaY:t,fromKeyboard:!0})}#L(){this.#y=!1,this.#U(-1),this.#I()}_stopResizingWithKeyboard(){this.#L(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#s?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#s?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(e){this.#m=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#b||=new Map;const{action:s}=e;let a=this.#b.get(s);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(e),this.#b.delete(s),this.#b.size===0&&(this.#b=null)},Me._telemetryTimeout),this.#b.set(s,a);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#o=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#o=!0}updateFakeAnnotationElement(e){if(!this.#u&&!this.deleted){this.#u=e.addFakeAnnotation(this);return}if(this.deleted){this.#u.remove(),this.#u=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#u.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class tO extends Me{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const ib=3285377520,Ss=4294901760,Qs=65535;class _2{constructor(e){this.h1=e?e&4294967295:ib,this.h2=e?e&4294967295:ib}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let S=0,E=e.length;S<E;S++){const C=e.charCodeAt(S);C<=255?t[s++]=C:(t[s++]=C>>>8,t[s++]=C&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=s>>2,r=s-a*4,l=new Uint32Array(t.buffer,0,a);let d=0,h=0,p=this.h1,g=this.h2;const m=3432918353,v=461845907,w=m&Qs,A=v&Qs;for(let S=0;S<a;S++)S&1?(d=l[S],d=d*m&Ss|d*w&Qs,d=d<<15|d>>>17,d=d*v&Ss|d*A&Qs,p^=d,p=p<<13|p>>>19,p=p*5+3864292196):(h=l[S],h=h*m&Ss|h*w&Qs,h=h<<15|h>>>17,h=h*v&Ss|h*A&Qs,g^=h,g=g<<13|g>>>19,g=g*5+3864292196);switch(d=0,r){case 3:d^=t[a*4+2]<<16;case 2:d^=t[a*4+1]<<8;case 1:d^=t[a*4],d=d*m&Ss|d*w&Qs,d=d<<15|d>>>17,d=d*v&Ss|d*A&Qs,a&1?p^=d:g^=d}this.h1=p,this.h2=g}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ss|e*36045&Qs,t=t*4283543511&Ss|((t<<16|e>>>16)*2950163797&Ss)>>>16,e^=t>>>1,e=e*444984403&Ss|e*60499&Qs,t=t*3301882366&Ss|((t<<16|e>>>16)*3120437893&Ss)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Cm=Object.freeze({map:null,hash:"",transfer:void 0});class jg{#e=!1;#t=null;#s=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=this.#n.get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return this.#n.get(e)}remove(e){const t=this.#n.get(e);if(t!==void 0&&(t instanceof Me&&this.#s.delete(t.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const s of this.#n.values())if(s instanceof Me)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=this.#n.get(e);let a=!1;if(s!==void 0)for(const[r,l]of Object.entries(t))s[r]!==l&&(a=!0,s[r]=l);else a=!0,this.#n.set(e,t);a&&this.#i(),t instanceof Me&&((this.#s||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new N2(this)}get serializable(){if(this.#n.size===0)return Cm;const e=new Map,t=new _2,s=[],a=Object.create(null);let r=!1;for(const[l,d]of this.#n){const h=d instanceof Me?d.serialize(!1,a):d;h&&(e.set(l,h),t.update(`${l}:${JSON.stringify(h)}`),r||=!!h.bitmap)}if(r)for(const l of e.values())l.bitmap&&s.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:Cm}get editorStats(){let e=null;const t=new Map;let s=0,a=0;for(const r of this.#n.values()){if(!(r instanceof Me)){r.popup&&(r.popup.deleted?a+=1:s+=1);continue}r.isCommentDeleted?a+=1:r.hasEditedComment&&(s+=1);const l=r.telemetryFinalData;if(!l)continue;const{type:d}=l;t.has(d)||t.set(d,Object.getPrototypeOf(r).constructor),e||=Object.create(null);const h=e[d]||=new Map;for(const[p,g]of Object.entries(l)){if(p==="type")continue;let m=h.get(p);m||(m=new Map,h.set(p,m));const v=m.get(g)??0;m.set(g,v+1)}}if((a>0||s>0)&&(e||=Object.create(null),e.comments={deleted:a,edited:s}),!e)return null;for(const[r,l]of t)e[r]=l.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const s=this.#s?.get(e);return s?(s.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#s?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#s)for(const t of this.#s.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class N2 extends jg{#e;constructor(e){super();const{map:t,hash:s,transfer:a}=e.serializable,r=structuredClone(t,a?{transfer:a}:null);this.#e={map:r,hash:s,transfer:a}}get print(){_t("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Ze(this,"modifiedIds",{ids:new Set,hash:""})}}class nO{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:s}){if(!(!e||this.#e.has(e.loadedName))){if(lt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:r,style:l}=e,d=new FontFace(a,r,l);this.addNativeFontFace(d);try{await d.load(),this.#e.add(a),s?.(e)}catch{We(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(d)}return}_t("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(a){throw We(`Failed to load font '${s.family}': '${a}'.`),e.disableFontFace=!0,a}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const a=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,a)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Ze(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ze(this,"isSyncFontLoadingSupported",Dn||pn.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(lt(!a.done,"completeRequest() cannot be called twice."),a.done=!0;s.length>0&&s[0].done;){const r=s.shift();setTimeout(r.callback,0)}}const{loadingRequests:s}=this,a={done:!1,complete:t,callback:e};return s.push(a),a}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ze(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(j,M){return j.charCodeAt(M)<<24|j.charCodeAt(M+1)<<16|j.charCodeAt(M+2)<<8|j.charCodeAt(M+3)&255}function a(j,M,L,O){const I=j.substring(0,M),z=j.substring(M+L);return I+O+z}let r,l;const d=this._document.createElement("canvas");d.width=1,d.height=1;const h=d.getContext("2d");let p=0;function g(j,M){if(++p>30){We("Load test font never loaded."),M();return}if(h.font="30px "+j,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(g.bind(null,j,M))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=a(v,976,m.length,m);const A=16,S=1482184792;let E=s(v,A);for(r=0,l=m.length-3;r<l;r+=4)E=E-S+s(m,r)|0;r<m.length&&(E=E-S+s(m+"XXX",r)|0),v=a(v,A,4,V4(E));const C=`url(data:font/opentype;base64,${btoa(v)});`,_=`@font-face {font-family:"${m}";src:${C}}`;this.insertRule(_);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const j of[e.loadedName,m]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=j,N.append(M)}this._document.body.append(N),g(m,()=>{N.remove(),t.complete()})}}class sO{#e;constructor(e,t=null,s,a){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,s&&Object.assign(this,s),a&&(this.charProcOperatorList=a)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${y2(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const s=this.loadedName+"_path_"+t;let a;try{a=e.get(s)}catch(l){We(`getPathGenerator - ignoring character: "${l}".`)}const r=new Path2D(a||"");return this.fontExtraProperties||e.delete(s),this.compiledGlyphs[t]=r}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}function oO(i){if(i instanceof URL)return i.href;if(typeof i=="string"){if(Dn)return i;const e=URL.parse(i,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function aO(i){if(Dn&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return cc(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function zd(i){if(typeof i!="string")return null;if(i.endsWith("/"))return i;throw new Error(`Invalid factory url: "${i}" must include trailing slash.`)}const Em=i=>typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0,iO=i=>typeof i=="object"&&typeof i?.name=="string",P2=Y4.bind(null,Em,iO);class rO{#e=new Map;#t=Promise.resolve();postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[a]of this.#e)a.call(this,s)})}addEventListener(e,t,s=null){let a=null;if(s?.signal instanceof AbortSignal){const{signal:r}=s;if(r.aborted){We("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);a=()=>r.removeEventListener("abort",l),r.addEventListener("abort",l)}this.#e.set(t,a)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Hd={DATA:1,ERROR:2},Zt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function rb(){}function Un(i){if(i instanceof Uo||i instanceof xu||i instanceof J1||i instanceof Zl||i instanceof Yp)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||_t('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new Uo(i.message);case"InvalidPDFException":return new xu(i.message);case"PasswordException":return new J1(i.message,i.code);case"ResponseException":return new Zl(i.message,i.status,i.missing);case"UnknownErrorException":return new Yp(i.message,i.details)}return new Yp(i.message,i.toString())}class zl{#e=new AbortController;constructor(e,t,s){this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const s=e.callbackId,a=this.callbackCapabilities[s];if(!a)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===Hd.DATA)a.resolve(e.data);else if(e.callback===Hd.ERROR)a.reject(Un(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,a=e.sourceName,r=this.comObj;Promise.try(t,e.data).then(function(l){r.postMessage({sourceName:s,targetName:a,callback:Hd.DATA,callbackId:e.callbackId,data:l})},function(l){r.postMessage({sourceName:s,targetName:a,callback:Hd.ERROR,callbackId:e.callbackId,reason:Un(l)})});return}if(e.streamId){this.#s(e);return}t(e.data)}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const a=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[a]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:t},s)}catch(l){r.reject(l)}return r.promise}sendWithStream(e,t,s,a){const r=this.streamId++,l=this.sourceName,d=this.targetName,h=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[r]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:d,action:e,streamId:r,data:t,desiredSize:p.desiredSize},a),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[r].pullCall=g,h.postMessage({sourceName:l,targetName:d,stream:Zt.PULL,streamId:r,desiredSize:p.desiredSize}),g.promise},cancel:p=>{lt(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[r].cancelCall=g,this.streamControllers[r].isClosed=!0,h.postMessage({sourceName:l,targetName:d,stream:Zt.CANCEL,streamId:r,reason:Un(p)}),g.promise}},s)}#s(e){const t=e.streamId,s=this.sourceName,a=e.sourceName,r=this.comObj,l=this,d=this.actionHandler[e.action],h={enqueue(p,g=1,m){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=g,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:s,targetName:a,stream:Zt.ENQUEUE,streamId:t,chunk:p},m)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:a,stream:Zt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(p){lt(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:a,stream:Zt.ERROR,streamId:t,reason:Un(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[t]=h,Promise.try(d,e.data,h).then(function(){r.postMessage({sourceName:s,targetName:a,stream:Zt.START_COMPLETE,streamId:t,success:!0})},function(p){r.postMessage({sourceName:s,targetName:a,stream:Zt.START_COMPLETE,streamId:t,reason:Un(p)})})}#n(e){const t=e.streamId,s=this.sourceName,a=e.sourceName,r=this.comObj,l=this.streamControllers[t],d=this.streamSinks[t];switch(e.stream){case Zt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(Un(e.reason));break;case Zt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(Un(e.reason));break;case Zt.PULL:if(!d){r.postMessage({sourceName:s,targetName:a,stream:Zt.PULL_COMPLETE,streamId:t,success:!0});break}d.desiredSize<=0&&e.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=e.desiredSize,Promise.try(d.onPull||rb).then(function(){r.postMessage({sourceName:s,targetName:a,stream:Zt.PULL_COMPLETE,streamId:t,success:!0})},function(p){r.postMessage({sourceName:s,targetName:a,stream:Zt.PULL_COMPLETE,streamId:t,reason:Un(p)})});break;case Zt.ENQUEUE:if(lt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case Zt.CLOSE:if(lt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#i(l,t);break;case Zt.ERROR:lt(l,"error should have stream controller"),l.controller.error(Un(e.reason)),this.#i(l,t);break;case Zt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(Un(e.reason)),this.#i(l,t);break;case Zt.CANCEL:if(!d)break;const h=Un(e.reason);Promise.try(d.onCancel||rb,h).then(function(){r.postMessage({sourceName:s,targetName:a,stream:Zt.CANCEL_COMPLETE,streamId:t,success:!0})},function(p){r.postMessage({sourceName:s,targetName:a,stream:Zt.CANCEL_COMPLETE,streamId:t,reason:Un(p)})}),d.sinkCapability.reject(h),d.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#i(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class j2{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){_t("Abstract method `_createCanvas` called.")}}class lO extends j2{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class D2{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){_t("Abstract method `_fetch` called.")}}class lb extends D2{async _fetch(e){const t=await Lr(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):cc(t)}}class k2{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,a,r){return"none"}destroy(e=!1){}}class cO extends k2{#e;#t;#s;#n;#i;#o;#a=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#n=e,this.#i=t}get#r(){return this.#t||=new Map}get#c(){return this.#o||=new Map}get#l(){if(!this.#s){const e=this.#i.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const s=this.#i.createElementNS(Ro,"svg");s.setAttribute("width",0),s.setAttribute("height",0),this.#s=this.#i.createElementNS(Ro,"defs"),e.append(s),s.append(this.#s),this.#i.body.append(e)}return this.#s}#h(e){if(e.length===1){const h=e[0],p=new Array(256);for(let m=0;m<256;m++)p[m]=h[m]/255;const g=p.join(",");return[g,g,g]}const[t,s,a]=e,r=new Array(256),l=new Array(256),d=new Array(256);for(let h=0;h<256;h++)r[h]=t[h]/255,l[h]=s[h]/255,d[h]=a[h]/255;return[r.join(","),l.join(","),d.join(",")]}#u(e){if(this.#e===void 0){this.#e="";const t=this.#i.URL;t!==this.#i.baseURI&&(uc(t)?We('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=Ag(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#r.get(e);if(t)return t;const[s,a,r]=this.#h(e),l=e.length===1?s:`${s}${a}${r}`;if(t=this.#r.get(l),t)return this.#r.set(e,t),t;const d=`g_${this.#n}_transfer_map_${this.#a++}`,h=this.#u(d);this.#r.set(e,h),this.#r.set(l,h);const p=this.#p(d);return this.#m(s,a,r,p),h}addHCMFilter(e,t){const s=`${e}-${t}`,a="base";let r=this.#c.get(a);if(r?.key===s||(r?(r.filter?.remove(),r.key=s,r.url="none",r.filter=null):(r={key:s,url:"none",filter:null},this.#c.set(a,r)),!e||!t))return r.url;const l=this.#y(e);e=Ee.makeHexColor(...l);const d=this.#y(t);if(t=Ee.makeHexColor(...d),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return r.url;const h=new Array(256);for(let w=0;w<=255;w++){const A=w/255;h[w]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const p=h.join(","),g=`g_${this.#n}_hcm_filter`,m=r.filter=this.#p(g);this.#m(p,p,p,m),this.#g(m);const v=(w,A)=>{const S=l[w]/255,E=d[w]/255,C=new Array(A+1);for(let _=0;_<=A;_++)C[_]=S+_/A*(E-S);return C.join(",")};return this.#m(v(0,5),v(1,5),v(2,5),m),r.url=this.#u(g),r.url}addAlphaFilter(e){let t=this.#r.get(e);if(t)return t;const[s]=this.#h([e]),a=`alpha_${s}`;if(t=this.#r.get(a),t)return this.#r.set(e,t),t;const r=`g_${this.#n}_alpha_map_${this.#a++}`,l=this.#u(r);this.#r.set(e,l),this.#r.set(a,l);const d=this.#p(r);return this.#x(s,d),l}addLuminosityFilter(e){let t=this.#r.get(e||"luminosity");if(t)return t;let s,a;if(e?([s]=this.#h([e]),a=`luminosity_${s}`):a="luminosity",t=this.#r.get(a),t)return this.#r.set(e,t),t;const r=`g_${this.#n}_luminosity_map_${this.#a++}`,l=this.#u(r);this.#r.set(e,l),this.#r.set(a,l);const d=this.#p(r);return this.#f(d),e&&this.#x(s,d),l}addHighlightHCMFilter(e,t,s,a,r){const l=`${t}-${s}-${a}-${r}`;let d=this.#c.get(e);if(d?.key===l||(d?(d.filter?.remove(),d.key=l,d.url="none",d.filter=null):(d={key:l,url:"none",filter:null},this.#c.set(e,d)),!t||!s))return d.url;const[h,p]=[t,s].map(this.#y.bind(this));let g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),m=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[v,w]=[a,r].map(this.#y.bind(this));m<g&&([g,m,v,w]=[m,g,w,v]),this.#l.style.color="";const A=(C,_,N)=>{const j=new Array(256),M=(m-g)/N,L=C/255,O=(_-C)/(255*N);let I=0;for(let z=0;z<=N;z++){const $=Math.round(g+z*M),Y=L+z*O;for(let se=I;se<=$;se++)j[se]=Y;I=$+1}for(let z=I;z<256;z++)j[z]=j[I-1];return j.join(",")},S=`g_${this.#n}_hcm_${e}_filter`,E=d.filter=this.#p(S);return this.#g(E),this.#m(A(v[0],w[0],5),A(v[1],w[1],5),A(v[2],w[2],5),E),d.url=this.#u(S),d.url}destroy(e=!1){e&&this.#o?.size||(this.#s?.parentNode.parentNode.remove(),this.#s=null,this.#t?.clear(),this.#t=null,this.#o?.clear(),this.#o=null,this.#a=0)}#f(e){const t=this.#i.createElementNS(Ro,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#g(e){const t=this.#i.createElementNS(Ro,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#p(e){const t=this.#i.createElementNS(Ro,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#d(e,t,s){const a=this.#i.createElementNS(Ro,t);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),e.append(a)}#m(e,t,s,a){const r=this.#i.createElementNS(Ro,"feComponentTransfer");a.append(r),this.#d(r,"feFuncR",e),this.#d(r,"feFuncG",t),this.#d(r,"feFuncB",s)}#x(e,t){const s=this.#i.createElementNS(Ro,"feComponentTransfer");t.append(s),this.#d(s,"feFuncA",e)}#y(e){return this.#l.style.color=e,Br(getComputedStyle(this.#l).getPropertyValue("color"))}}class R2{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){_t("Abstract method `_fetch` called.")}}class cb extends R2{async _fetch(e){const t=await Lr(e,"arraybuffer");return new Uint8Array(t)}}class M2{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){_t("Abstract method `_fetch` called.")}}class db extends M2{async _fetch(e){const t=await Lr(e,"arraybuffer");return new Uint8Array(t)}}Dn&&We("Please use the `legacy` build in Node.js environments.");async function Dg(i){const t=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(t)}class dO extends k2{}class uO extends j2{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class hO extends D2{async _fetch(e){return Dg(e)}}class fO extends R2{async _fetch(e){return Dg(e)}}class pO extends M2{async _fetch(e){return Dg(e)}}const tr="__forcedDependency",{floor:ub,ceil:hb}=Math;function Ud(i,e,t,s,a,r){i[e*4+0]=Math.min(i[e*4+0],t),i[e*4+1]=Math.min(i[e*4+1],s),i[e*4+2]=Math.max(i[e*4+2],a),i[e*4+3]=Math.max(i[e*4+3],r)}const Tm=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class mO{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===Tm}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const Vd=(i,e)=>{if(!i)return;let t=i.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},i.set(e,t)),t};class gO{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[tr]:[]};#s=new Map;#n=[];#i=[];#o=[[1,0,0,1,0,0]];#a=[-1/0,-1/0,1/0,1/0];#r=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#u=new Map;#f;#g;#p;#d;#m;constructor(e,t,s=!1){this.#f=e.width,this.#g=e.height,this.#x(t),s&&(this.#m=new Map)}growOperationsCount(e){e>=this.#d.length&&this.#x(e,this.#d)}#x(e,t){const s=new ArrayBuffer(e*4);this.#p=new Uint8ClampedArray(s),this.#d=new Uint32Array(s),t&&t.length>0?(this.#d.set(t),this.#d.fill(Tm,t.length)):this.#d.fill(Tm)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[tr]:{__proto__:this.#t[tr]}},this.#a={__proto__:this.#a},this.#n.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#a=Object.getPrototypeOf(this.#a);const s=this.#n.pop();return s!==void 0&&(Vd(this.#m,e)?.dependencies.add(s),this.#d[e]=this.#d[s]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const t=this.#n.pop();return t!==void 0&&(Vd(this.#m,e)?.dependencies.add(t),this.#d[e]=this.#d[t]),this}beginMarkedContent(e){return this.#i.push(e),this}endMarkedContent(e){const t=this.#i.pop();return t!==void 0&&(Vd(this.#m,e)?.dependencies.add(t),this.#d[e]=this.#d[t]),this}pushBaseTransform(e){return this.#o.push(Ee.multiplyByDOMMatrix(this.#o.at(-1),e.getTransform())),this}popBaseTransform(){return this.#o.length>1&&this.#o.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#s.set(e,t),this}recordSimpleDataFromNamed(e,t,s){this.#e[e]=this.#s.get(t)??s}recordFutureForcedDependency(e,t){return this.recordIncrementalData(tr,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(tr,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#r[0]=1/0,this.#r[1]=1/0,this.#r[2]=-1/0,this.#r[3]=-1/0),this}recordClipBox(e,t,s,a,r,l){const d=Ee.multiplyByDOMMatrix(this.#o.at(-1),t.getTransform()),h=[1/0,1/0,-1/0,-1/0];Ee.axialAlignedBoundingBox([s,r,a,l],d,h);const p=Ee.intersect(this.#a,h);return p?(this.#a[0]=p[0],this.#a[1]=p[1],this.#a[2]=p[2],this.#a[3]=p[3]):(this.#a[0]=this.#a[1]=1/0,this.#a[2]=this.#a[3]=-1/0),this}recordBBox(e,t,s,a,r,l){const d=this.#a;if(d[0]===1/0)return this;const h=Ee.multiplyByDOMMatrix(this.#o.at(-1),t.getTransform());if(d[0]===-1/0)return Ee.axialAlignedBoundingBox([s,r,a,l],h,this.#r),this;const p=[1/0,1/0,-1/0,-1/0];return Ee.axialAlignedBoundingBox([s,r,a,l],h,p),this.#r[0]=Math.min(this.#r[0],Math.max(p[0],d[0])),this.#r[1]=Math.min(this.#r[1],Math.max(p[1],d[1])),this.#r[2]=Math.max(this.#r[2],Math.min(p[2],d[2])),this.#r[3]=Math.max(this.#r[3],Math.min(p[3],d[3])),this}recordCharacterBBox(e,t,s,a=1,r=0,l=0,d){const h=s.bbox;let p,g;if(h&&(p=h[2]!==h[0]&&h[3]!==h[1]&&this.#u.get(s),p!==!1&&(g=[0,0,0,0],Ee.axialAlignedBoundingBox(h,s.fontMatrix,g),(a!==1||r!==0||l!==0)&&Ee.scaleMinMax([a,0,0,-a,r,l],g),p)))return this.recordBBox(e,t,g[0],g[2],g[1],g[3]);if(!d)return this.recordFullPageBBox(e);const m=d();return h&&g&&p===void 0&&(p=g[0]<=r-m.actualBoundingBoxLeft&&g[2]>=r+m.actualBoundingBoxRight&&g[1]<=l-m.actualBoundingBoxAscent&&g[3]>=l+m.actualBoundingBoxDescent,this.#u.set(s,p),p)?this.recordBBox(e,t,g[0],g[2],g[1],g[3]):this.recordBBox(e,t,r-m.actualBoundingBoxLeft,r+m.actualBoundingBoxRight,l-m.actualBoundingBoxAscent,l+m.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#r[0]=Math.max(0,this.#a[0]),this.#r[1]=Math.max(0,this.#a[1]),this.#r[2]=Math.min(this.#f,this.#a[2]),this.#r[3]=Math.min(this.#g,this.#a[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const s=this.#l,a=this.#e,r=this.#t;for(const l of t)l in this.#e?s.add(a[l]):l in r&&r[l].forEach(s.add,s);return this}recordNamedDependency(e,t){return this.#s.has(t)&&this.#l.add(this.#s.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[tr]),this.#m){const s=Vd(this.#m,e),{dependencies:a}=s;this.#l.forEach(a.add,a),this.#n.forEach(a.add,a),this.#i.forEach(a.add,a),a.delete(e),s.isRenderingOperation=!0}if(this.#c===e){const s=ub(this.#r[0]*256/this.#f),a=ub(this.#r[1]*256/this.#g),r=hb(this.#r[2]*256/this.#f),l=hb(this.#r[3]*256/this.#g);Ud(this.#p,e,s,a,r,l);for(const d of this.#l)d!==e&&Ud(this.#p,d,s,a,r,l);for(const d of this.#n)d!==e&&Ud(this.#p,d,s,a,r,l);for(const d of this.#i)d!==e&&Ud(this.#p,d,s,a,r,l);t||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,t=!1){const s=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const a of s)this.recordIncrementalData("sameLineText",a);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#c===e&&(this.#c=-1,this.#a[0]=Math.max(this.#a[0],this.#r[0]),this.#a[1]=Math.max(this.#a[1],this.#r[1]),this.#a[2]=Math.min(this.#a[2],this.#r[2]),this.#a[3]=Math.min(this.#a[3],this.#r[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#h.get(e);return this.#h.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#u.clear(),new mO(this.#d,this.#p)}takeDebugMetadata(){return this.#m}}class bu{#e;#t;#s;#n=0;#i=0;constructor(e,t,s){if(e instanceof bu&&e.#s===!!s)return e;this.#e=e,this.#t=t,this.#s=!!s}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#i++,this.#e.save(this.#t),this}restore(e){return this.#i>0&&(this.#e.restore(this.#t),this.#i--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,s){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#s||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,s,a,r,l){return this.#s||this.#e.recordClipBox(this.#t,t,s,a,r,l),this}recordBBox(e,t,s,a,r,l){return this.#s||this.#e.recordBBox(this.#t,t,s,a,r,l),this}recordCharacterBBox(e,t,s,a,r,l,d){return this.#s||this.#e.recordCharacterBBox(this.#t,t,s,a,r,l,d),this}recordFullPageBBox(e){return this.#s||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#s||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const As={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Sn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function _m(i,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],a=new Path2D;a.rect(e[0],e[1],t,s),i.clip(a)}class kg{isModifyingCurrentTransform(){return!1}getPattern(){_t("Abstract method `getPattern` called.")}}class xO extends kg{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,a){let r;if(a===Sn.STROKE||a===Sn.FILL){const l=t.current.getClippedPathBoundingBox(a,Mt(e))||[0,0,0,0],d=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,p=t.cachedCanvases.getCanvas("pattern",d,h),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-l[0],-l[1]),s=Ee.transform(s,[1,0,0,1,l[0],l[1]]),g.transform(...t.baseTransform),this.matrix&&g.transform(...this.matrix),_m(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),r=e.createPattern(p.canvas,"no-repeat");const m=new DOMMatrix(s);r.setTransform(m)}else _m(e,this._bbox),r=this._createGradient(e);return r}}function Kp(i,e,t,s,a,r,l,d){const h=e.coords,p=e.colors,g=i.data,m=i.width*4;let v;h[t+1]>h[s+1]&&(v=t,t=s,s=v,v=r,r=l,l=v),h[s+1]>h[a+1]&&(v=s,s=a,a=v,v=l,l=d,d=v),h[t+1]>h[s+1]&&(v=t,t=s,s=v,v=r,r=l,l=v);const w=(h[t]+e.offsetX)*e.scaleX,A=(h[t+1]+e.offsetY)*e.scaleY,S=(h[s]+e.offsetX)*e.scaleX,E=(h[s+1]+e.offsetY)*e.scaleY,C=(h[a]+e.offsetX)*e.scaleX,_=(h[a+1]+e.offsetY)*e.scaleY;if(A>=_)return;const N=p[r],j=p[r+1],M=p[r+2],L=p[l],O=p[l+1],I=p[l+2],z=p[d],$=p[d+1],Y=p[d+2],se=Math.round(A),re=Math.round(_);let ae,fe,D,U,H,F,K,P;for(let R=se;R<=re;R++){if(R<E){const Z=R<A?0:(A-R)/(A-E);ae=w-(w-S)*Z,fe=N-(N-L)*Z,D=j-(j-O)*Z,U=M-(M-I)*Z}else{let Z;R>_?Z=1:E===_?Z=0:Z=(E-R)/(E-_),ae=S-(S-C)*Z,fe=L-(L-z)*Z,D=O-(O-$)*Z,U=I-(I-Y)*Z}let B;R<A?B=0:R>_?B=1:B=(A-R)/(A-_),H=w-(w-C)*B,F=N-(N-z)*B,K=j-(j-$)*B,P=M-(M-Y)*B;const q=Math.round(Math.min(ae,H)),X=Math.round(Math.max(ae,H));let le=m*R+q*4;for(let Z=q;Z<=X;Z++)B=(ae-Z)/(ae-H),B<0?B=0:B>1&&(B=1),g[le++]=fe-(fe-F)*B|0,g[le++]=D-(D-K)*B|0,g[le++]=U-(U-P)*B|0,g[le++]=255}}function vO(i,e,t){const s=e.coords,a=e.colors;let r,l;switch(e.type){case"lattice":const d=e.verticesPerRow,h=Math.floor(s.length/d)-1,p=d-1;for(r=0;r<h;r++){let g=r*d;for(let m=0;m<p;m++,g++)Kp(i,t,s[g],s[g+1],s[g+d],a[g],a[g+1],a[g+d]),Kp(i,t,s[g+d+1],s[g+1],s[g+d],a[g+d+1],a[g+1],a[g+d])}break;case"triangles":for(r=0,l=s.length;r<l;r+=3)Kp(i,t,s[r],s[r+1],s[r+2],a[r],a[r+1],a[r+2]);break;default:throw new Error("illegal figure")}}class yO extends kg{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,s){const d=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-d,g=Math.ceil(this._bounds[3])-h,m=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(g*e[1]*1.1)),3e3),w=p/m,A=g/v,S={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-h,scaleX:1/w,scaleY:1/A},E=m+4,C=v+4,_=s.getCanvas("mesh",E,C),N=_.context,j=N.createImageData(m,v);if(t){const L=j.data;for(let O=0,I=L.length;O<I;O+=4)L[O]=t[0],L[O+1]=t[1],L[O+2]=t[2],L[O+3]=255}for(const L of this._figures)vO(j,L,S);return N.putImageData(j,2,2),{canvas:_.canvas,offsetX:d-2*w,offsetY:h-2*A,scaleX:w,scaleY:A}}isModifyingCurrentTransform(){return!0}getPattern(e,t,s,a){_m(e,this._bbox);const r=new Float32Array(2);if(a===Sn.SHADING)Ee.singularValueDecompose2dScale(Mt(e),r);else if(this.matrix){Ee.singularValueDecompose2dScale(this.matrix,r);const[d,h]=r;Ee.singularValueDecompose2dScale(t.baseTransform,r),r[0]*=d,r[1]*=h}else Ee.singularValueDecompose2dScale(t.baseTransform,r);const l=this._createMeshCanvas(r,a===Sn.SHADING?null:this._background,t.cachedCanvases);return a!==Sn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class bO extends kg{getPattern(){return"hotpink"}}function wO(i){switch(i[0]){case"RadialAxial":return new xO(i);case"Mesh":return new yO(i);case"Dummy":return new bO}throw new Error(`Unknown IR type: ${i[0]}`)}const fb={COLORED:1,UNCOLORED:2};class Rg{static MAX_PATTERN_SIZE=3e3;constructor(e,t,s,a){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(e,t){const{bbox:s,operatorList:a,paintType:r,tilingType:l,color:d,canvasGraphicsFactory:h}=this;let{xstep:p,ystep:g}=this;p=Math.abs(p),g=Math.abs(g),Ku("TilingType: "+l);const m=s[0],v=s[1],w=s[2],A=s[3],S=w-m,E=A-v,C=new Float32Array(2);Ee.singularValueDecompose2dScale(this.matrix,C);const[_,N]=C;Ee.singularValueDecompose2dScale(this.baseTransform,C);const j=_*C[0],M=N*C[1];let L=S,O=E,I=!1,z=!1;const $=Math.ceil(p*j),Y=Math.ceil(g*M),se=Math.ceil(S*j),re=Math.ceil(E*M);$>=se?L=p:I=!0,Y>=re?O=g:z=!0;const ae=this.getSizeAndScale(L,this.ctx.canvas.width,j),fe=this.getSizeAndScale(O,this.ctx.canvas.height,M),D=e.cachedCanvases.getCanvas("pattern",ae.size,fe.size),U=D.context,H=h.createCanvasGraphics(U,t);if(H.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(H,r,d),U.translate(-ae.scale*m,-fe.scale*v),H.transform(0,ae.scale,0,0,fe.scale,0,0),U.save(),H.dependencyTracker?.save(),this.clipBbox(H,m,v,w,A),H.baseTransform=Mt(H.ctx),H.executeOperatorList(a),H.endDrawing(),H.dependencyTracker?.restore(),U.restore(),I||z){const F=D.canvas;I&&(L=p),z&&(O=g);const K=this.getSizeAndScale(L,this.ctx.canvas.width,j),P=this.getSizeAndScale(O,this.ctx.canvas.height,M),R=K.size,B=P.size,q=e.cachedCanvases.getCanvas("pattern-workaround",R,B),X=q.context,le=I?Math.floor(S/p):0,Z=z?Math.floor(E/g):0;for(let ce=0;ce<=le;ce++)for(let pe=0;pe<=Z;pe++)X.drawImage(F,R*ce,B*pe,R,B,0,0,R,B);return{canvas:q.canvas,scaleX:K.scale,scaleY:P.scale,offsetX:m,offsetY:v}}return{canvas:D.canvas,scaleX:ae.scale,scaleY:fe.scale,offsetX:m,offsetY:v}}getSizeAndScale(e,t,s){const a=Math.max(Rg.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*s);return r>=a?r=a:s=r/e,{scale:s,size:r}}clipBbox(e,t,s,a,r){const l=a-t,d=r-s;e.ctx.rect(t,s,l,d),Ee.axialAlignedBoundingBox([t,s,a,r],Mt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const a=e.ctx,r=e.current;switch(t){case fb.COLORED:const{fillStyle:l,strokeStyle:d}=this.ctx;a.fillStyle=r.fillColor=l,a.strokeStyle=r.strokeColor=d;break;case fb.UNCOLORED:a.fillStyle=a.strokeStyle=s,r.fillColor=r.strokeColor=s;break;default:throw new U4(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,s,a,r){let l=s;a!==Sn.SHADING&&(l=Ee.transform(l,t.baseTransform),this.matrix&&(l=Ee.transform(l,this.matrix)));const d=this.createPatternCanvas(t,r);let h=new DOMMatrix(l);h=h.translate(d.offsetX,d.offsetY),h=h.scale(1/d.scaleX,1/d.scaleY);const p=e.createPattern(d.canvas,"repeat");return p.setTransform(h),p}}function SO({src:i,srcPos:e=0,dest:t,width:s,height:a,nonBlackColor:r=4294967295,inverseDecode:l=!1}){const d=pn.isLittleEndian?4278190080:255,[h,p]=l?[r,d]:[d,r],g=s>>3,m=s&7,v=i.length;t=new Uint32Array(t.buffer);let w=0;for(let A=0;A<a;A++){for(const E=e+g;e<E;e++){const C=e<v?i[e]:255;t[w++]=C&128?p:h,t[w++]=C&64?p:h,t[w++]=C&32?p:h,t[w++]=C&16?p:h,t[w++]=C&8?p:h,t[w++]=C&4?p:h,t[w++]=C&2?p:h,t[w++]=C&1?p:h}if(m===0)continue;const S=e<v?i[e++]:255;for(let E=0;E<m;E++)t[w++]=S&1<<7-E?p:h}return{srcPos:e,destPos:w}}const pb=16,mb=100,AO=15,gb=10,$n=16,Qp=new DOMMatrix,ss=new Float32Array(2),or=new Float32Array([1/0,1/0,-1/0,-1/0]);function CO(i,e){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){e.save(),this.__originalSave()},i.restore=function(){e.restore(),this.__originalRestore()},i.translate=function(t,s){e.translate(t,s),this.__originalTranslate(t,s)},i.scale=function(t,s){e.scale(t,s),this.__originalScale(t,s)},i.transform=function(t,s,a,r,l,d){e.transform(t,s,a,r,l,d),this.__originalTransform(t,s,a,r,l,d)},i.setTransform=function(t,s,a,r,l,d){e.setTransform(t,s,a,r,l,d),this.__originalSetTransform(t,s,a,r,l,d)},i.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},i.rotate=function(t){e.rotate(t),this.__originalRotate(t)},i.clip=function(t){e.clip(t),this.__originalClip(t)},i.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},i.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},i.bezierCurveTo=function(t,s,a,r,l,d){e.bezierCurveTo(t,s,a,r,l,d),this.__originalBezierCurveTo(t,s,a,r,l,d)},i.rect=function(t,s,a,r){e.rect(t,s,a,r),this.__originalRect(t,s,a,r)},i.closePath=function(){e.closePath(),this.__originalClosePath()},i.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class EO{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let a;return this.cache[e]!==void 0?(a=this.cache[e],this.canvasFactory.reset(a,t,s)):(a=this.canvasFactory.create(t,s),this.cache[e]=a),a}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function $d(i,e,t,s,a,r,l,d,h,p){const[g,m,v,w,A,S]=Mt(i);if(m===0&&v===0){const _=l*g+A,N=Math.round(_),j=d*w+S,M=Math.round(j),L=(l+h)*g+A,O=Math.abs(Math.round(L)-N)||1,I=(d+p)*w+S,z=Math.abs(Math.round(I)-M)||1;return i.setTransform(Math.sign(g),0,0,Math.sign(w),N,M),i.drawImage(e,t,s,a,r,0,0,O,z),i.setTransform(g,m,v,w,A,S),[O,z]}if(g===0&&w===0){const _=d*v+A,N=Math.round(_),j=l*m+S,M=Math.round(j),L=(d+p)*v+A,O=Math.abs(Math.round(L)-N)||1,I=(l+h)*m+S,z=Math.abs(Math.round(I)-M)||1;return i.setTransform(0,Math.sign(m),Math.sign(v),0,N,M),i.drawImage(e,t,s,a,r,0,0,z,O),i.setTransform(g,m,v,w,A,S),[z,O]}i.drawImage(e,t,s,a,r,l,d,h,p);const E=Math.hypot(g,m),C=Math.hypot(v,w);return[E*h,C*p]}class xb{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Sm;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=wn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,s){s?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=or.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Sn.FILL,t=null){const s=this.minMax.slice();if(e===Sn.STROKE){t||_t("Stroke bounding box must include transform."),Ee.singularValueDecompose2dScale(t,ss);const a=ss[0]*this.lineWidth/2,r=ss[1]*this.lineWidth/2;s[0]-=a,s[1]-=r,s[2]+=a,s[3]+=r}return s}updateClipFromPath(){const e=Ee.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(or,0)}getClippedPathBoundingBox(e=Sn.FILL,t=null){return Ee.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function vb(i,e){if(e instanceof ImageData){i.putImageData(e,0,0);return}const t=e.height,s=e.width,a=t%$n,r=(t-a)/$n,l=a===0?r:r+1,d=i.createImageData(s,$n);let h=0,p;const g=e.data,m=d.data;let v,w,A,S;if(e.kind===Vl.GRAYSCALE_1BPP){const E=g.byteLength,C=new Uint32Array(m.buffer,0,m.byteLength>>2),_=C.length,N=s+7>>3,j=4294967295,M=pn.isLittleEndian?4278190080:255;for(v=0;v<l;v++){for(A=v<r?$n:a,p=0,w=0;w<A;w++){const L=E-h;let O=0;const I=L>N?s:L*8-7,z=I&-8;let $=0,Y=0;for(;O<z;O+=8)Y=g[h++],C[p++]=Y&128?j:M,C[p++]=Y&64?j:M,C[p++]=Y&32?j:M,C[p++]=Y&16?j:M,C[p++]=Y&8?j:M,C[p++]=Y&4?j:M,C[p++]=Y&2?j:M,C[p++]=Y&1?j:M;for(;O<I;O++)$===0&&(Y=g[h++],$=128),C[p++]=Y&$?j:M,$>>=1}for(;p<_;)C[p++]=0;i.putImageData(d,0,v*$n)}}else if(e.kind===Vl.RGBA_32BPP){for(w=0,S=s*$n*4,v=0;v<r;v++)m.set(g.subarray(h,h+S)),h+=S,i.putImageData(d,0,w),w+=$n;v<l&&(S=s*a*4,m.set(g.subarray(h,h+S)),i.putImageData(d,0,w))}else if(e.kind===Vl.RGB_24BPP)for(A=$n,S=s*A,v=0;v<l;v++){for(v>=r&&(A=a,S=s*A),p=0,w=S;w--;)m[p++]=g[h++],m[p++]=g[h++],m[p++]=g[h++],m[p++]=255;i.putImageData(d,0,v*$n)}else throw new Error(`bad image kind: ${e.kind}`)}function yb(i,e){if(e.bitmap){i.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,a=t%$n,r=(t-a)/$n,l=a===0?r:r+1,d=i.createImageData(s,$n);let h=0;const p=e.data,g=d.data;for(let m=0;m<l;m++){const v=m<r?$n:a;({srcPos:h}=SO({src:p,srcPos:h,dest:g,width:s,height:v,nonBlackColor:0})),i.putImageData(d,0,m*$n)}}function kl(i,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)i[s]!==void 0&&(e[s]=i[s]);i.setLineDash!==void 0&&(e.setLineDash(i.getLineDash()),e.lineDashOffset=i.lineDashOffset)}function Gd(i){i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0);const{filter:e}=i;e!=="none"&&e!==""&&(i.filter="none")}function bb(i,e){if(e)return!0;Ee.singularValueDecompose2dScale(i,ss);const t=Math.fround(zs.pixelRatio*ii.PDF_TO_CSS_UNITS);return ss[0]<=t&&ss[1]<=t}const TO=["butt","round","square"],_O=["miter","round","bevel"],NO={},wb={};class dr{constructor(e,t,s,a,r,{optionalContentConfig:l,markedContentStack:d=null},h,p,g){this.ctx=e,this.current=new xb(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=a,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=l,this.cachedCanvases=new EO(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=g??null}getObject(e,t,s=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):s}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:a=null}){const r=this.ctx.canvas.width,l=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,r,l),this.ctx.fillStyle=d,s){const h=this.cachedCanvases.getCanvas("transparent",r,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...Mt(this.compositeCtx))}this.ctx.save(),Gd(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Mt(this.ctx)}executeOperatorList(e,t,s,a,r){const l=e.argsArray,d=e.fnArray;let h=t||0;const p=l.length;if(p===h)return h;const g=p-h>gb&&typeof s=="function",m=g?Date.now()+AO:0;let v=0;const w=this.commonObjs,A=this.objs;let S,E;for(;;){if(a!==void 0&&h===a.nextBreakPoint)return a.breakIt(h,s),h;if(!r||r(h))if(S=d[h],E=l[h]??null,S!==Cr.dependency)E===null?this[S](h):this[S](h,...E);else for(const C of E){this.dependencyTracker?.recordNamedData(C,h);const _=C.startsWith("g_")?w:A;if(!_.has(C))return _.get(C,s),h}if(h++,h===p)return h;if(g&&++v>gb){if(Date.now()>m)return s(),h;v=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const s=e.width??e.displayWidth,a=e.height??e.displayHeight;let r=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),d=s,h=a,p="prescale1",g,m;for(;r>2&&d>1||l>2&&h>1;){let v=d,w=h;r>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),r/=d/v),l>2&&h>1&&(w=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/w),g=this.cachedCanvases.getCanvas(p,v,w),m=g.context,m.clearRect(0,0,v,w),m.drawImage(e,0,0,d,h,0,0,v,w),e=g.canvas,d=v,h=w,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:d,paintHeight:h}}_createMaskCanvas(e,t){const s=this.ctx,{width:a,height:r}=t,l=this.current.fillColor,d=this.current.patternFill,h=Mt(s);let p,g,m,v;if((t.bitmap||t.data)&&t.count>1){const $=t.bitmap||t.data.buffer;g=JSON.stringify(d?h:[h.slice(0,4),l]),p=this._cachedBitmapsMap.get($),p||(p=new Map,this._cachedBitmapsMap.set($,p));const Y=p.get(g);if(Y&&!d){const se=Math.round(Math.min(h[0],h[2])+h[4]),re=Math.round(Math.min(h[1],h[3])+h[5]);return this.dependencyTracker?.recordDependencies(e,As.transformAndFill),{canvas:Y,offsetX:se,offsetY:re}}m=Y}m||(v=this.cachedCanvases.getCanvas("maskCanvas",a,r),yb(v.context,t));let w=Ee.transform(h,[1/a,0,0,-1/r,0,0]);w=Ee.transform(w,[1,0,0,1,0,-r]);const A=or.slice();Ee.axialAlignedBoundingBox([0,0,a,r],w,A);const[S,E,C,_]=A,N=Math.round(C-S)||1,j=Math.round(_-E)||1,M=this.cachedCanvases.getCanvas("fillCanvas",N,j),L=M.context,O=S,I=E;L.translate(-O,-I),L.transform(...w),m||(m=this._scaleImage(v.canvas,Ks(L)),m=m.img,p&&d&&p.set(g,m)),L.imageSmoothingEnabled=bb(Mt(L),t.interpolate),$d(L,m,0,0,m.width,m.height,0,0,a,r),L.globalCompositeOperation="source-in";const z=Ee.transform(Ks(L),[1,0,0,1,-O,-I]);return L.fillStyle=d?l.getPattern(s,this,z,Sn.FILL,e):l,L.fillRect(0,0,a,r),p&&!d&&(this.cachedCanvases.delete("fillCanvas"),p.set(g,M.canvas)),this.dependencyTracker?.recordDependencies(e,As.transformAndFill),{canvas:M.canvas,offsetX:Math.round(O),offsetY:Math.round(I)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=TO[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=_O[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,s){this.dependencyTracker?.recordSimpleData("dash",e);const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(t),a.lineDashOffset=s)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[s,a]of t)switch(s){case"LW":this.setLineWidth(e,a);break;case"LC":this.setLineCap(e,a);break;case"LJ":this.setLineJoin(e,a);break;case"ML":this.setMiterLimit(e,a);break;case"D":this.setDash(e,a[0],a[1]);break;case"RI":this.setRenderingIntent(e,a);break;case"FL":this.setFlatness(e,a);break;case"Font":this.setFont(e,a[0],a[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=a;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=a;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=a;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,s=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(a,t,s);this.suspendedCtx=this.ctx;const l=this.ctx=r.context;l.setTransform(this.suspendedCtx.getTransform()),kl(this.suspendedCtx,l),CO(l,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),kl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,a){const r=a[0],l=a[1],d=a[2]-r,h=a[3]-l;d===0||h===0||(this.genericComposeSMask(t.context,s,d,h,t.subtype,t.backdrop,t.transferMap,r,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,a,r,l,d,h,p,g,m){let v=e.canvas,w=h-g,A=p-m;if(l)if(w<0||A<0||w+s>v.width||A+a>v.height){const E=this.cachedCanvases.getCanvas("maskExtension",s,a),C=E.context;C.drawImage(v,-w,-A),C.globalCompositeOperation="destination-atop",C.fillStyle=l,C.fillRect(0,0,s,a),C.globalCompositeOperation="source-over",v=E.canvas,w=A=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(w,A,s,a),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=l,e.fillRect(w,A,s,a),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&d?t.filter=this.filterFactory.addAlphaFilter(d):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(d));const S=new Path2D;S.rect(h,p,s,a),t.clip(S),t.globalCompositeOperation="destination-in",t.drawImage(v,w,A,s,a,h,p,s,a),t.restore()}save(e){this.inSMaskMode&&kl(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&kl(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,s,a,r,l,d){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,s,a,r,l,d),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s,a){let[r]=s;if(!a){r||=s[0]=new Path2D,this[t](e,r);return}if(this.dependencyTracker!==null){const l=t===Cr.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,a[0]-l,a[2]+l,a[1]-l,a[3]+l).recordDependencies(e,["transform"])}if(!(r instanceof Path2D)){const l=s[0]=new Path2D;for(let d=0,h=r.length;d<h;)switch(r[d++]){case Id.moveTo:l.moveTo(r[d++],r[d++]);break;case Id.lineTo:l.lineTo(r[d++],r[d++]);break;case Id.curveTo:l.bezierCurveTo(r[d++],r[d++],r[d++],r[d++],r[d++],r[d++]);break;case Id.closePath:l.closePath();break;default:We(`Unrecognized drawing path operator: ${r[d-1]}`);break}r=l}Ee.axialAlignedBoundingBox(a,Mt(this.ctx),this.current.minMax),this[t](e,r),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,s=!0){const a=this.ctx,r=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&r?.getPattern){const l=r.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=r.getPattern(a,this,Ks(a),Sn.STROKE,e),l){const d=new Path2D;d.addPath(t,a.getTransform().invertSelf().multiplySelf(l)),t=d}this.rescaleAndStroke(t,!1),a.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,As.stroke),s&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Sn.STROKE,Mt(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,s=!0){const a=this.ctx,r=this.current.fillColor,l=this.current.patternFill;let d=!1;if(l){const p=r.isModifyingCurrentTransform()?a.getTransform():null;if(this.dependencyTracker?.save(e),a.save(),a.fillStyle=r.getPattern(a,this,Ks(a),Sn.FILL,e),p){const g=new Path2D;g.addPath(t,a.getTransform().invertSelf().multiplySelf(p)),t=g}d=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(a.fill(t,"evenodd"),this.pendingEOFill=!1):a.fill(t)),this.dependencyTracker?.recordDependencies(e,As.fill),d&&(a.restore(),this.dependencyTracker?.restore(e)),s&&this.consumePath(e,t,h)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,As.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=NO}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=wb}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,s=this.ctx;if(this.dependencyTracker){const{dependencyTracker:a}=this;t!==void 0&&a.recordFutureForcedDependency("textClip",a.getOpenMarker()).recordFutureForcedDependency("textClip",e),a.recordCloseMarker(e)}if(t!==void 0){const a=new Path2D,r=s.getTransform().invertSelf();for(const{transform:l,x:d,y:h,fontSize:p,path:g}of t)g&&a.addPath(g,new DOMMatrix(l).preMultiplySelf(r).translate(d,h).scale(p,-p));s.clip(a)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,s){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const a=this.commonObjs.get(t),r=this.current;if(!a)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=a.fontMatrix||Sm,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&We("Invalid font matrix for font "+t),s<0?(s=-s,r.fontDirection=-1):r.fontDirection=1,this.current.font=a,this.current.fontSize=s,a.isType3Font)return;const l=a.loadedName||"sans-serif",d=a.systemFontInfo?.css||`"${l}", ${a.fallbackName}`;let h="normal";a.black?h="900":a.bold&&(h="bold");const p=a.italic?"italic":"normal";let g=s;s<pb?g=pb:s>mb&&(g=mb),this.current.fontSizeScale=s/g,this.ctx.font=`${p} ${h} ${g}px ${d}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,s){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=s}setLeadingMoveText(e,t,s){this.setLeading(e,-s),this.moveText(e,t,s)}setTextMatrix(e,t){this.dependencyTracker?.recordSimpleData("textMatrix",e);const{current:s}=this;s.textMatrix=t,s.textMatrixScale=Math.hypot(t[0],t[1]),s.x=s.lineX=0,s.y=s.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#s(e,t,s){const a=new Path2D;return a.addPath(e,new DOMMatrix(s).invertSelf().multiplySelf(t)),a}paintChar(e,t,s,a,r,l){const d=this.ctx,h=this.current,p=h.font,g=h.textRenderingMode,m=h.fontSize/h.fontSizeScale,v=g&wn.FILL_STROKE_MASK,w=!!(g&wn.ADD_TO_PATH_FLAG),A=h.patternFill&&!p.missingFile,S=h.patternStroke&&!p.missingFile;let E;if((p.disableFontFace||w||A||S)&&!p.missingFile&&(E=p.getPathGenerator(this.commonObjs,t)),E&&(p.disableFontFace||A||S)){d.save(),d.translate(s,a),d.scale(m,-m),this.dependencyTracker?.recordCharacterBBox(e,d,p);let C;if(v===wn.FILL||v===wn.FILL_STROKE)if(r){C=d.getTransform(),d.setTransform(...r);const _=this.#s(E,C,r);d.fill(_)}else d.fill(E);if(v===wn.STROKE||v===wn.FILL_STROKE)if(l){C||=d.getTransform(),d.setTransform(...l);const{a:_,b:N,c:j,d:M}=C,L=Ee.inverseTransform(l),O=Ee.transform([_,N,j,M,0,0],L);Ee.singularValueDecompose2dScale(O,ss),d.lineWidth*=Math.max(ss[0],ss[1])/m,d.stroke(this.#s(E,C,l))}else d.lineWidth/=m,d.stroke(E);d.restore()}else(v===wn.FILL||v===wn.FILL_STROKE)&&(d.fillText(t,s,a),this.dependencyTracker?.recordCharacterBBox(e,d,p,m,s,a,()=>d.measureText(t))),(v===wn.STROKE||v===wn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,d,p,m,s,a,()=>d.measureText(t)).recordDependencies(e,As.stroke),d.strokeText(t,s,a));w&&((this.pendingTextPaths||=[]).push({transform:Mt(d),x:s,y:a,fontSize:m,path:E}),this.dependencyTracker?.recordCharacterBBox(e,d,p,m,s,a))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let a=3;a<t.length;a+=4)if(t[a]>0&&t[a]<255){s=!0;break}return Ze(this,"isFontSubpixelAAEnabled",s)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,As.showText).resetBBox(e),this.current.textRenderingMode&wn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const s=this.current,a=s.font;if(a.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const r=s.fontSize;if(r===0){this.dependencyTracker?.recordOperation(e);return}const l=this.ctx,d=s.fontSizeScale,h=s.charSpacing,p=s.wordSpacing,g=s.fontDirection,m=s.textHScale*g,v=t.length,w=a.vertical,A=w?1:-1,S=a.defaultVMetrics,E=r*s.fontMatrix[0],C=s.textRenderingMode===wn.FILL&&!a.disableFontFace&&!s.patternFill;l.save(),s.textMatrix&&l.transform(...s.textMatrix),l.translate(s.x,s.y+s.textRise),g>0?l.scale(m,-1):l.scale(m,1);let _,N;if(s.patternFill){l.save();const I=s.fillColor.getPattern(l,this,Ks(l),Sn.FILL,e);_=Mt(l),l.restore(),l.fillStyle=I}if(s.patternStroke){l.save();const I=s.strokeColor.getPattern(l,this,Ks(l),Sn.STROKE,e);N=Mt(l),l.restore(),l.strokeStyle=I}let j=s.lineWidth;const M=s.textMatrixScale;if(M===0||j===0){const I=s.textRenderingMode&wn.FILL_STROKE_MASK;(I===wn.STROKE||I===wn.FILL_STROKE)&&(j=this.getSinglePixelWidth())}else j/=M;if(d!==1&&(l.scale(d,d),j/=d),l.lineWidth=j,a.isInvalidPDFjsFont){const I=[];let z=0;for(const Y of t)I.push(Y.unicode),z+=Y.width;const $=I.join("");if(l.fillText($,0,0),this.dependencyTracker!==null){const Y=l.measureText($);this.dependencyTracker.recordBBox(e,this.ctx,-Y.actualBoundingBoxLeft,Y.actualBoundingBoxRight,-Y.actualBoundingBoxAscent,Y.actualBoundingBoxDescent).recordShowTextOperation(e)}s.x+=z*E*m,l.restore(),this.compose();return}let L=0,O;for(O=0;O<v;++O){const I=t[O];if(typeof I=="number"){L+=A*I*r/1e3;continue}let z=!1;const $=(I.isSpace?p:0)+h,Y=I.fontChar,se=I.accent;let re,ae,fe=I.width;if(w){const H=I.vmetric||S,F=-(I.vmetric?H[1]:fe*.5)*E,K=H[2]*E;fe=H?-H[0]:fe,re=F/d,ae=(L+K)/d}else re=L/d,ae=0;let D;if(a.remeasure&&fe>0){D=l.measureText(Y);const H=D.width*1e3/r*d;if(fe<H&&this.isFontSubpixelAAEnabled){const F=fe/H;z=!0,l.save(),l.scale(F,1),re/=F}else fe!==H&&(re+=(fe-H)/2e3*r/d)}if(this.contentVisible&&(I.isInFont||a.missingFile)){if(C&&!se)l.fillText(Y,re,ae),this.dependencyTracker?.recordCharacterBBox(e,l,D?{bbox:null}:a,r/d,re,ae,()=>D??l.measureText(Y));else if(this.paintChar(e,Y,re,ae,_,N),se){const H=re+r*se.offset.x/d,F=ae-r*se.offset.y/d;this.paintChar(e,se.fontChar,H,F,_,N)}}const U=w?fe*E-$*g:fe*E+$*g;L+=U,z&&l.restore()}w?s.y-=L:s.x+=L*m,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const s=this.ctx,a=this.current,r=a.font,l=a.fontSize,d=a.fontDirection,h=r.vertical?1:-1,p=a.charSpacing,g=a.wordSpacing,m=a.textHScale*d,v=a.fontMatrix||Sm,w=t.length,A=a.textRenderingMode===wn.INVISIBLE;let S,E,C,_;if(A||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,s.save(),a.textMatrix&&s.transform(...a.textMatrix),s.translate(a.x,a.y+a.textRise),s.scale(m,d);const N=this.dependencyTracker;for(this.dependencyTracker=N?new bu(N,e):null,S=0;S<w;++S){if(E=t[S],typeof E=="number"){_=h*E*l/1e3,this.ctx.translate(_,0),a.x+=_*m;continue}const j=(E.isSpace?g:0)+p,M=r.charProcOperatorList[E.operatorListId];M?this.contentVisible&&(this.save(),s.scale(l,l),s.transform(...v),this.executeOperatorList(M),this.restore()):We(`Type3 character "${E.operatorListId}" is not available.`);const L=[E.width,0];Ee.applyTransform(L,v),C=L[0]*l+j,s.translate(C,0),a.x+=C*m}s.restore(),N&&(this.dependencyTracker=N)}setCharWidth(e,t,s){}setCharWidthAndBounds(e,t,s,a,r,l,d){const h=new Path2D;h.rect(a,r,l-a,d-r),this.ctx.clip(h),this.dependencyTracker?.recordBBox(e,this.ctx,a,l,r,d).recordClipBox(e,this.ctx,a,l,r,d),this.endPath(e)}getColorN_Pattern(e,t){let s;if(t[0]==="TilingPattern"){const a=this.baseTransform||Mt(this.ctx),r={createCanvasGraphics:(l,d)=>new dr(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new bu(this.dependencyTracker,d,!0):null)};s=new Rg(t,this.ctx,r,a)}else s=this._getPattern(e,t[1],t[2]);return s}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,s=null){let a;return this.cachedPatterns.has(t)?a=this.cachedPatterns.get(t):(a=wO(this.getObject(e,t)),this.cachedPatterns.set(t,a)),s&&(a.matrix=s),a}shadingFill(e,t){if(!this.contentVisible)return;const s=this.ctx;this.save(e);const a=this._getPattern(e,t);s.fillStyle=a.getPattern(s,this,Ks(s),Sn.SHADING,e);const r=Ks(s);if(r){const{width:l,height:d}=s.canvas,h=or.slice();Ee.axialAlignedBoundingBox([0,0,l,d],r,h);const[p,g,m,v]=h;this.ctx.fillRect(p,g,m-p,v-g)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,As.transform).recordDependencies(e,As.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){_t("Should not call beginInlineImage")}beginImageData(){_t("Should not call beginImageData")}paintFormXObjectBegin(e,t,s){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Mt(this.ctx),s)){Ee.axialAlignedBoundingBox(s,this.baseTransform,this.current.minMax);const[a,r,l,d]=s,h=new Path2D;h.rect(a,r,l-a,d-r),this.ctx.clip(h),this.dependencyTracker?.recordClipBox(e,this.ctx,a,l,r,d),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;t.isolated||Ku("TODO: Support non-isolated groups."),t.knockout&&We("Knockout groups not supported.");const a=Mt(s);if(t.matrix&&s.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=or.slice();Ee.axialAlignedBoundingBox(t.bbox,Mt(s),r);const l=[0,0,s.canvas.width,s.canvas.height];r=Ee.intersect(r,l)||[0,0,0,0];const d=Math.floor(r[0]),h=Math.floor(r[1]),p=Math.max(Math.ceil(r[2])-d,1),g=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,p,g]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(m,p,g),w=v.context;w.translate(-d,-h),w.transform(...a);let A=new Path2D;const[S,E,C,_]=t.bbox;if(A.rect(S,E,C-S,_-E),t.matrix){const N=new Path2D;N.addPath(A,new DOMMatrix(t.matrix)),A=N}w.clip(A),t.smask&&this.smaskStack.push({canvas:v.canvas,context:w,offsetX:d,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(s.setTransform(1,0,0,1,0,0),s.translate(d,h),s.save()),kl(s,w),this.ctx=w,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(s),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const r=Mt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...r);const l=or.slice();Ee.axialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],r,l),this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,t,s,a,r,l){if(this.#e(),Gd(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),s){const d=s[2]-s[0],h=s[3]-s[1];if(l&&this.annotationCanvasMap){a=a.slice(),a[4]-=s[0],a[5]-=s[1],s=s.slice(),s[0]=s[1]=0,s[2]=d,s[3]=h,Ee.singularValueDecompose2dScale(Mt(this.ctx),ss);const{viewportScale:p}=this,g=Math.ceil(d*this.outputScaleX*p),m=Math.ceil(h*this.outputScaleY*p);this.annotationCanvas=this.canvasFactory.create(g,m);const{canvas:v,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(t,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(ss[0],0,0,-ss[1],0,h*ss[1]),Gd(this.ctx)}else{Gd(this.ctx),this.endPath(e);const p=new Path2D;p.rect(s[0],s[1],d,h),this.ctx.clip(p)}}this.current=new xb(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...a),this.transform(e,...r)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const s=t.count;t=this.getObject(e,t.data,t),t.count=s;const a=this.ctx,r=this._createMaskCanvas(e,t),l=r.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(l,r.offsetX,r.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,r.offsetX,r.offsetX+l.width,r.offsetY,r.offsetY+l.height).recordOperation(e),a.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s,a=0,r=0,l,d){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const h=this.ctx;h.save();const p=Mt(h);h.transform(s,a,r,l,0,0);const g=this._createMaskCanvas(e,t);h.setTransform(1,0,0,1,g.offsetX-p[4],g.offsetY-p[5]),this.dependencyTracker?.resetBBox(e);for(let m=0,v=d.length;m<v;m+=2){const w=Ee.transform(p,[s,a,r,l,d[m],d[m+1]]);h.drawImage(g.canvas,w[4],w[5]),this.dependencyTracker?.recordBBox(e,this.ctx,w[4],w[4]+g.canvas.width,w[5],w[5]+g.canvas.height)}h.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx,a=this.current.fillColor,r=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,As.transformAndFill);for(const l of t){const{data:d,width:h,height:p,transform:g}=l,m=this.cachedCanvases.getCanvas("maskCanvas",h,p),v=m.context;v.save();const w=this.getObject(e,d,l);yb(v,w),v.globalCompositeOperation="source-in",v.fillStyle=r?a.getPattern(v,this,Ks(s),Sn.FILL,e):a,v.fillRect(0,0,h,p),v.restore(),s.save(),s.transform(...g),s.scale(1,-1),$d(s,m.canvas,0,0,h,p,0,-1,1,1),this.dependencyTracker?.recordBBox(e,s,0,h,0,p),s.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const s=this.getObject(e,t);if(!s){We("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,s)}paintImageXObjectRepeat(e,t,s,a,r){if(!this.contentVisible)return;const l=this.getObject(e,t);if(!l){We("Dependent image isn't ready yet");return}const d=l.width,h=l.height,p=[];for(let g=0,m=r.length;g<m;g+=2)p.push({transform:[s,0,0,a,r[g],r[g+1]],x:0,y:0,w:d,h});this.paintInlineImageXObjectGroup(e,l,p)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:a}=e,r=this.cachedCanvases.getCanvas("inlineImage",s,a),l=r.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",r.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const s=t.width,a=t.height,r=this.ctx;this.save(e);const{filter:l}=r;l!=="none"&&l!==""&&(r.filter="none"),r.scale(1/s,-1/a);let d;if(t.bitmap)d=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)d=t;else{const g=this.cachedCanvases.getCanvas("inlineImage",s,a).context;vb(g,t),d=this.applyTransferMapsToCanvas(g)}const h=this._scaleImage(d,Ks(r));r.imageSmoothingEnabled=bb(Mt(r),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,r,0,s,-a,0).recordDependencies(e,As.imageXObject).recordOperation(e),$d(r,h.img,0,0,h.paintWidth,h.paintHeight,0,-a,s,a),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,s){if(!this.contentVisible)return;const a=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,d=t.height,p=this.cachedCanvases.getCanvas("inlineImage",l,d).context;vb(p,t),r=this.applyTransferMapsToCanvas(p)}this.dependencyTracker?.resetBBox(e);for(const l of s)a.save(),a.transform(...l.transform),a.scale(1,-1),$d(a,r,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,a,0,1,-1,0),a.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,As.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,s){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,s){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(s)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,s){const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(s);const r=this.ctx;this.pendingClip?(a||(this.pendingClip===wb?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Mt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),a=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,a)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:a,d:r}=this.ctx.getTransform();let l,d;if(s===0&&a===0){const h=Math.abs(t),p=Math.abs(r);if(h===p)if(e===0)l=d=1/h;else{const g=h*e;l=d=g<1?1/g:1}else if(e===0)l=1/h,d=1/p;else{const g=h*e,m=p*e;l=g<1?1/g:1,d=m<1?1/m:1}}else{const h=Math.abs(t*r-s*a),p=Math.hypot(t,s),g=Math.hypot(a,r);if(e===0)l=g/h,d=p/h;else{const m=e*h;l=g>m?g/m:1,d=p>m?p/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:s,current:{lineWidth:a}}=this,[r,l]=this.getScaleForStroking();if(r===l){s.lineWidth=(a||1)*r,s.stroke(e);return}const d=s.getLineDash();t&&s.save(),s.scale(r,l),Qp.a=1/r,Qp.d=1/l;const h=new Path2D;if(h.addPath(e,Qp),d.length>0){const p=Math.max(r,l);s.setLineDash(d.map(g=>g/p)),s.lineDashOffset/=p}s.lineWidth=a||1,s.stroke(h),t&&s.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const i in Cr)dr.prototype[i]!==void 0&&(dr.prototype[Cr[i]]=dr.prototype[i]);class ur{#e;#t;#s;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,s={};let a=0;for(const p of ur.strings){const g=t.encode(e[p]);s[p]=g,a+=4+g.length}const r=new ArrayBuffer(a),l=new Uint8Array(r),d=new DataView(r);let h=0;for(const p of ur.strings){const g=s[p],m=g.length;d.setUint32(h,m),l.set(g,h+4),h+=4+m}return lt(h===r.byteLength,"CssFontInfo.write: Buffer overflow"),r}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#s=new TextDecoder}#n(e){lt(e<ur.strings.length,"Invalid string index");let t=0;for(let a=0;a<e;a++)t+=this.#t.getUint32(t)+4;const s=this.#t.getUint32(t);return this.#s.decode(new Uint8Array(this.#e,t+4,s))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class hr{#e;#t;#s;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,s={};let a=0;for(const v of hr.strings){const w=t.encode(e[v]);s[v]=w,a+=4+w.length}a+=4;let r,l,d=1+a;e.style&&(r=t.encode(e.style.style),l=t.encode(e.style.weight),d+=4+r.length+4+l.length);const h=new ArrayBuffer(d),p=new Uint8Array(h),g=new DataView(h);let m=0;g.setUint8(m++,e.guessFallback?1:0),g.setUint32(m,0),m+=4,a=0;for(const v of hr.strings){const w=s[v],A=w.length;a+=4+A,g.setUint32(m,A),p.set(w,m+4),m+=4+A}return g.setUint32(m-a-4,a),e.style&&(g.setUint32(m,r.length),p.set(r,m+4),m+=4+r.length,g.setUint32(m,l.length),p.set(l,m+4),m+=4+l.length),lt(m<=h.byteLength,"SubstitionInfo.write: Buffer overflow"),h.transferToFixedLength(m)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#s=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){lt(e<hr.strings.length,"Invalid string index");let t=5;for(let a=0;a<e;a++)t+=this.#t.getUint32(t)+4;const s=this.#t.getUint32(t);return this.#s.decode(new Uint8Array(this.#e,t+4,s))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),s=this.#s.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const a=this.#t.getUint32(e),r=this.#s.decode(new Uint8Array(this.#e,e+4,a));return{style:s,weight:r}}}class At{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#s=this.#t+1+8;static#n=this.#s+1+48;static#i=this.#n+1+6;#o;#a;#r;constructor({data:e,extra:t}){this.#o=e,this.#a=new TextDecoder,this.#r=new DataView(this.#o),t&&Object.assign(this,t)}#c(e){lt(e<At.bools.length,"Invalid boolean index");const t=Math.floor(e/4),s=e*2%8,a=this.#r.getUint8(t)>>s&3;return a===0?void 0:a===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return lt(e<At.numbers.length,"Invalid number index"),this.#r.getFloat64(At.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=At.#t;if(this.#r.getUint8(e)===0)return;e+=1;const s=[];for(let a=0;a<4;a++)s.push(this.#r.getInt16(e,!0)),e+=2;return s}get fontMatrix(){let e=At.#s;if(this.#r.getUint8(e)===0)return;e+=1;const s=[];for(let a=0;a<6;a++)s.push(this.#r.getFloat64(e,!0)),e+=8;return s}get defaultVMetrics(){let e=At.#n;if(this.#r.getUint8(e)===0)return;e+=1;const s=[];for(let a=0;a<3;a++)s.push(this.#r.getInt16(e,!0)),e+=2;return s}#h(e){lt(e<At.strings.length,"Invalid string index");let t=At.#i+4;for(let r=0;r<e;r++)t+=this.#r.getUint32(t)+4;const s=this.#r.getUint32(t),a=new Uint8Array(s);return a.set(new Uint8Array(this.#o,t+4,s)),this.#a.decode(a)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=At.#i;const t=this.#r.getUint32(e);e+=4+t;const s=this.#r.getUint32(e);e+=4+s;const a=this.#r.getUint32(e);e+=4+a;const r=this.#r.getUint32(e);if(r!==0)return new Uint8Array(this.#o,e+4,r)}clearData(){let e=At.#i;const t=this.#r.getUint32(e);e+=4+t;const s=this.#r.getUint32(e);e+=4+s;const a=this.#r.getUint32(e);e+=4+a;const r=this.#r.getUint32(e);new Uint8Array(this.#o,e+4,r).fill(0),this.#r.setUint32(e,0)}get cssFontInfo(){let e=At.#i;const t=this.#r.getUint32(e);e+=4+t;const s=this.#r.getUint32(e);e+=4+s;const a=this.#r.getUint32(e);if(a===0)return null;const r=new Uint8Array(a);return r.set(new Uint8Array(this.#o,e+4,a)),new ur(r.buffer)}get systemFontInfo(){let e=At.#i;const t=this.#r.getUint32(e);e+=4+t;const s=this.#r.getUint32(e);if(s===0)return null;const a=new Uint8Array(s);return a.set(new Uint8Array(this.#o,e+4,s)),new hr(a.buffer)}static write(e){const t=e.systemFontInfo?hr.write(e.systemFontInfo):null,s=e.cssFontInfo?ur.write(e.cssFontInfo):null,a=new TextEncoder,r={};let l=0;for(const S of At.strings)r[S]=a.encode(e[S]),l+=4+r[S].length;const d=At.#i+4+l+4+(t?t.byteLength:0)+4+(s?s.byteLength:0)+4+(e.data?e.data.length:0),h=new ArrayBuffer(d),p=new Uint8Array(h),g=new DataView(h);let m=0;const v=At.bools.length;let w=0,A=0;for(let S=0;S<v;S++){const E=e[At.bools[S]];w|=(E===void 0?0:E?2:1)<<A,A+=2,(A===8||S===v-1)&&(g.setUint8(m++,w),w=0,A=0)}lt(m===At.#e,"FontInfo.write: Boolean properties offset mismatch");for(const S of At.numbers)g.setFloat64(m,e[S]),m+=8;if(lt(m===At.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){g.setUint8(m++,4);for(const S of e.bbox)g.setInt16(m,S,!0),m+=2}else g.setUint8(m++,0),m+=8;if(lt(m===At.#s,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){g.setUint8(m++,6);for(const S of e.fontMatrix)g.setFloat64(m,S,!0),m+=8}else g.setUint8(m++,0),m+=48;if(lt(m===At.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){g.setUint8(m++,1);for(const S of e.defaultVMetrics)g.setInt16(m,S,!0),m+=2}else g.setUint8(m++,0),m+=6;lt(m===At.#i,"FontInfo.write: DefaultVMetrics properties offset mismatch"),g.setUint32(At.#i,0),m+=4;for(const S of At.strings){const E=r[S],C=E.length;g.setUint32(m,C),p.set(E,m+4),m+=4+C}if(g.setUint32(At.#i,m-At.#i-4),!t)g.setUint32(m,0),m+=4;else{const S=t.byteLength;g.setUint32(m,S),lt(m+4+S<=h.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),p.set(new Uint8Array(t),m+4),m+=4+S}if(!s)g.setUint32(m,0),m+=4;else{const S=s.byteLength;g.setUint32(m,S),lt(m+4+S<=h.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),p.set(new Uint8Array(s),m+4),m+=4+S}return e.data===void 0?(g.setUint32(m,0),m+=4):(g.setUint32(m,e.data.length),p.set(e.data,m+4),m+=4+e.data.length),lt(m<=h.byteLength,"FontInfo.write: Buffer overflow"),h.transferToFixedLength(m)}}class Sa{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class PO{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const sr=Symbol("INTERNAL");class jO{#e=!1;#t=!1;#s=!1;#n=!0;constructor(e,{name:t,intent:s,usage:a,rbGroups:r}){this.#e=!!(e&ts.DISPLAY),this.#t=!!(e&ts.PRINT),this.name=t,this.intent=s,this.usage=a,this.rbGroups=r}get visible(){if(this.#s)return this.#n;if(!this.#n)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,s=!1){e!==sr&&_t("Internal method `_setVisible` called."),this.#s=s,this.#n=t}}class DO{#e=null;#t=new Map;#s=null;#n=null;constructor(e,t=ts.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const s of e.groups)this.#t.set(s.id,new jO(t,s));if(e.baseState==="OFF")for(const s of this.#t.values())s._setVisible(sr,!1);for(const s of e.on)this.#t.get(s)._setVisible(sr,!0);for(const s of e.off)this.#t.get(s)._setVisible(sr,!1);this.#s=this.getHash()}}#i(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let a=1;a<t;a++){const r=e[a];let l;if(Array.isArray(r))l=this.#i(r);else if(this.#t.has(r))l=this.#t.get(r).visible;else return We(`Optional content group not found: ${r}`),!0;switch(s){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return s==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return Ku("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(We(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#i(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return We(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return We(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return We(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return We(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return We(`Unknown optional content policy ${e.policy}.`),!0}return We(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){const a=this.#t.get(e);if(!a){We(`Optional content group not found: ${e}`);return}if(s&&t&&a.rbGroups.length)for(const r of a.rbGroups)for(const l of r)l!==e&&this.#t.get(l)?._setVisible(sr,!1,!0);a._setVisible(sr,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let s;for(const a of e){switch(a){case"ON":case"OFF":case"Toggle":s=a;continue}const r=this.#t.get(a);if(r)switch(s){case"ON":this.setVisibility(a,!0,t);break;case"OFF":this.setVisibility(a,!1,t);break;case"Toggle":this.setVisibility(a,!r.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#s===null||this.getHash()===this.#s}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new _2;for(const[t,s]of this.#t)e.update(`${t}:${s.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class kO{constructor(e,{disableRange:t=!1,disableStream:s=!1}){lt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:r,progressiveDone:l,contentDispositionFilename:d}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=d,r?.length>0){const h=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((h,p)=>{this._onReceiveData({begin:h,chunk:p})}),e.addProgressListener((h,p)=>{this._onProgress({loaded:h,total:p})}),e.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const a=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(s),!0)});lt(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){lt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new RO(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new MO(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class RO{constructor(e,t,s=!1,a=null){this._stream=e,this._done=s||!1,this._filename=Zu(a)?a:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class MO{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function OO(i){let e=!0,t=s("filename\\*","i").exec(i);if(t){t=t[1];let g=d(t);return g=unescape(g),g=h(g),g=p(g),r(g)}if(t=l(i),t){const g=p(t);return r(g)}if(t=s("filename","i").exec(i),t){t=t[1];let g=d(t);return g=p(g),r(g)}function s(g,m){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function a(g,m){if(g){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const v=new TextDecoder(g,{fatal:!0}),w=cc(m);m=v.decode(w),e=!1}catch{}}return m}function r(g){return e&&/[\x80-\xff]/.test(g)&&(g=a("utf-8",g),e&&(g=a("iso-8859-1",g))),g}function l(g){const m=[];let v;const w=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=w.exec(g))!==null;){let[,S,E,C]=v;if(S=parseInt(S,10),S in m){if(S===0)break;continue}m[S]=[E,C]}const A=[];for(let S=0;S<m.length&&S in m;++S){let[E,C]=m[S];C=d(C),E&&(C=unescape(C),S===0&&(C=h(C))),A.push(C)}return A.join("")}function d(g){if(g.startsWith('"')){const m=g.slice(1).split('\\"');for(let v=0;v<m.length;++v){const w=m[v].indexOf('"');w!==-1&&(m[v]=m[v].slice(0,w),m.length=v+1),m[v]=m[v].replaceAll(/\\(.)/g,"$1")}g=m.join('"')}return g}function h(g){const m=g.indexOf("'");if(m===-1)return g;const v=g.slice(0,m),A=g.slice(m+1).replace(/^[^']*'/,"");return a(v,A)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,v,w,A){if(w==="q"||w==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,E){return String.fromCharCode(parseInt(E,16))}),a(v,A);try{A=atob(A)}catch{}return a(v,A)})}return""}function O2(i,e){const t=new Headers;if(!i||!e||typeof e!="object")return t;for(const s in e){const a=e[s];a!==void 0&&t.append(s,a)}return t}function Ju(i){return URL.parse(i)?.origin??null}function L2({responseHeaders:i,isHttp:e,rangeChunkSize:t,disableRange:s}){const a={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(i.get("Content-Length"),10);return!Number.isInteger(r)||(a.suggestedLength=r,r<=2*t)||s||!e||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function B2(i){const e=i.get("Content-Disposition");if(e){let t=OO(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Zu(t))return t}return null}function pc(i,e){return new Zl(`Unexpected server response (${i}) while retrieving PDF "${e}".`,i,i===404||i===0&&e.startsWith("file:"))}function I2(i){return i===200||i===206}function F2(i,e,t){return{method:"GET",headers:i,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function z2(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(We(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class LO{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=O2(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return lt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new BO(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new IO(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class BO{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),a=t.url;fetch(a,F2(s,this._withCredentials,this._abortController)).then(r=>{if(e._responseOrigin=Ju(r.url),!I2(r.status))throw pc(r.status,a);this._reader=r.body.getReader(),this._headersCapability.resolve();const l=r.headers,{allowRangeRequests:d,suggestedLength:h}=L2({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=h||this._contentLength,this._filename=B2(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Uo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:z2(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class IO{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${s-1}`);const l=a.url;fetch(l,F2(r,this._withCredentials,this._abortController)).then(d=>{const h=Ju(d.url);if(h!==e._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${e._responseOrigin}".`);if(!I2(d.status))throw pc(d.status,l);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:z2(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const Zp=200,Jp=206;function FO(i){const e=i.response;return typeof e!="string"?e:cc(e).buffer}class zO{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:s}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=O2(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,a=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,l]of this.headers)t.setRequestHeader(r,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),a.expectedStatus=Jp):a.expectedStatus=Zp,t.responseType="arraybuffer",lt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),a.onHeadersReceived=e.onHeadersReceived,a.onDone=e.onDone,a.onError=e.onError,a.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){const s=this.pendingRequests[e];s&&s.onProgress?.(t)}onStateChange(e,t){const s=this.pendingRequests[e];if(!s)return;const a=s.xhr;if(a.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),a.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],a.status===0&&this.isHttp){s.onError(a.status);return}const r=a.status||Zp;if(!(r===Zp&&s.expectedStatus===Jp)&&r!==s.expectedStatus){s.onError(a.status);return}const d=FO(a);if(r===Jp){const h=a.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);p?s.onDone({begin:parseInt(p[1],10),chunk:d}):(We('Missing or invalid "Content-Range" header.'),s.onError(0))}else d?s.onDone({begin:0,chunk:d}):s.onError(a.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class HO{constructor(e){this._source=e,this._manager=new zO(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return lt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new UO(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new VO(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class UO{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Ju(t.responseURL);const s=t.getAllResponseHeaders(),a=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(d=>{const[h,...p]=d.split(": ");return[h,p.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:l}=L2({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=B2(a),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=pc(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class VO{constructor(e,t,s){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=Ju(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=pc(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const $O=/^[a-z][a-z0-9\-+.]+:/i;function GO(i){if($O.test(i))return new URL(i);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(i))}class qO{constructor(e){this.source=e,this.url=GO(e.url),lt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return lt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new YO(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new XO(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class YO{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=pc(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Uo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class XO{constructor(e,t,s){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=e.source;this._isStreamingSupported=!a.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Rl=Symbol("INITIAL_DATA");class H2{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Rl}}get(e,t=null){if(t){const a=this.#t(e);return a.promise.then(()=>t(a.data)),null}const s=this.#e[e];if(!s||s.data===Rl)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=this.#e[e];return!!t&&t.data!==Rl}delete(e){const t=this.#e[e];return!t||t.data===Rl?!1:(delete this.#e[e],!0)}resolve(e,t=null){const s=this.#t(e);s.data=t,s.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==Rl&&(yield[e,t])}}}const WO=1e5,Sb=30;let ec=class Cs{#e=Promise.withResolvers();#t=null;#s=!1;#n=!!globalThis.FontInspector?.enabled;#i=null;#o=null;#a=0;#r=0;#c=null;#l=null;#h=0;#u=0;#f=Object.create(null);#g=[];#p=null;#d=[];#m=new WeakMap;#x=null;static#y=new Map;static#v=new Map;static#E=new WeakMap;static#A=null;static#b=new Set;constructor({textContentSource:e,container:t,viewport:s}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(h){h.enqueue(e),h.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#u=s.scale*zs.pixelRatio,this.#h=s.rotation,this.#o={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:r,pageX:l,pageY:d}=s.rawDims;this.#x=[1,0,0,-1,-l,d+r],this.#r=a,this.#a=r,Cs.#P(),_a(t,s),this.#e.promise.finally(()=>{Cs.#b.delete(this),this.#o=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=pn.platform;return Ze(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:t,done:s})=>{if(s){this.#e.resolve();return}this.#i??=t.lang,Object.assign(this.#f,t.styles),this.#_(t.items),e()},this.#e.reject)};return this.#c=this.#p.getReader(),Cs.#b.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const s=e.scale*zs.pixelRatio,a=e.rotation;if(a!==this.#h&&(t?.(),this.#h=a,_a(this.#l,{rotation:a})),s!==this.#u){t?.(),this.#u=s;const r={div:null,properties:null,ctx:Cs.#j(this.#i)};for(const l of this.#d)r.properties=this.#m.get(l),r.div=l,this.#C(r)}}cancel(){const e=new Uo("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#d}get textContentItemsStr(){return this.#g}#_(e){if(this.#s)return;this.#o.ctx??=Cs.#j(this.#i);const t=this.#d,s=this.#g;for(const a of e){if(t.length>WO){We("Ignoring additional textDivs for performance reasons."),this.#s=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const r=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),a.id&&this.#t.setAttribute("id",`${a.id}`),r.append(this.#t)}else a.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}s.push(a.str),this.#S(a)}}#S(e){const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#d.push(t);const a=Ee.transform(this.#x,e.transform);let r=Math.atan2(a[1],a[0]);const l=this.#f[e.fontName];l.vertical&&(r+=Math.PI/2);let d=this.#n&&l.fontSubstitution||l.fontFamily;d=Cs.fontFamilyMap.get(d)||d;const h=Math.hypot(a[2],a[3]),p=h*Cs.#B(d,l,this.#i);let g,m;r===0?(g=a[4],m=a[5]-p):(g=a[4]+p*Math.sin(r),m=a[5]-p*Math.cos(r));const v="calc(var(--total-scale-factor) *",w=t.style;this.#t===this.#l?(w.left=`${(100*g/this.#r).toFixed(2)}%`,w.top=`${(100*m/this.#a).toFixed(2)}%`):(w.left=`${v}${g.toFixed(2)}px)`,w.top=`${v}${m.toFixed(2)}px)`),w.fontSize=`${v}${(Cs.#A*h).toFixed(2)}px)`,w.fontFamily=d,s.fontSize=h,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#n&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),r!==0&&(s.angle=r*(180/Math.PI));let A=!1;if(e.str.length>1)A=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),E=Math.abs(e.transform[3]);S!==E&&Math.max(S,E)/Math.min(S,E)>1.5&&(A=!0)}if(A&&(s.canvasWidth=l.vertical?e.height:e.width),this.#m.set(t,s),this.#o.div=t,this.#o.properties=s,this.#C(this.#o),s.hasText&&this.#t.append(t),s.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),this.#t.append(S)}}#C(e){const{div:t,properties:s,ctx:a}=e,{style:r}=t;let l="";if(Cs.#A>1&&(l=`scale(${1/Cs.#A})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:d}=r,{canvasWidth:h,fontSize:p}=s;Cs.#N(a,p*this.#u,d);const{width:g}=a.measureText(t.textContent);g>0&&(l=`scaleX(${h*this.#u/g}) ${l}`)}s.angle!==0&&(l=`rotate(${s.angle}deg) ${l}`),l.length>0&&(r.transform=l)}static cleanup(){if(!(this.#b.size>0)){this.#y.clear();for(const{canvas:e}of this.#v.values())e.remove();this.#v.clear()}}static#j(e=null){let t=this.#v.get(e||="");if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(e,t),this.#E.set(t,{size:0,family:""})}return t}static#N(e,t,s){const a=this.#E.get(e);t===a.size&&s===a.family||(e.font=`${t}px ${s}`,a.size=t,a.family=s)}static#P(){if(this.#A!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#A=e.getBoundingClientRect().height,e.remove()}static#B(e,t,s){const a=this.#y.get(e);if(a)return a;const r=this.#j(s);r.canvas.width=r.canvas.height=Sb,this.#N(r,Sb,e);const l=r.measureText(""),d=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let p=.8;return d?p=d/(d+h):(pn.platform.isFirefox&&We("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?p=t.ascent:t.descent&&(p=1+t.descent)),this.#y.set(e,p),p}};const KO=100;function Mg(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const e=new Og,{docId:t}=e,s=i.url?oO(i.url):null,a=i.data?aO(i.data):null,r=i.httpHeaders||null,l=i.withCredentials===!0,d=i.password??null,h=i.range instanceof Lg?i.range:null,p=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:2**16;let g=i.worker instanceof Er?i.worker:null;const m=i.verbosity,v=typeof i.docBaseUrl=="string"&&!uc(i.docBaseUrl)?i.docBaseUrl:null,w=zd(i.cMapUrl),A=i.cMapPacked!==!1,S=i.CMapReaderFactory||(Dn?hO:lb),E=zd(i.iccUrl),C=zd(i.standardFontDataUrl),_=i.StandardFontDataFactory||(Dn?fO:cb),N=zd(i.wasmUrl),j=i.WasmFactory||(Dn?pO:db),M=i.stopAtErrors!==!0,L=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,O=i.isEvalSupported!==!1,I=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!Dn,z=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!Dn&&(pn.platform.isFirefox||!globalThis.chrome),$=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,Y=typeof i.disableFontFace=="boolean"?i.disableFontFace:Dn,se=i.fontExtraProperties===!0,re=i.enableXfa===!0,ae=i.ownerDocument||globalThis.document,fe=i.disableRange===!0,D=i.disableStream===!0,U=i.disableAutoFetch===!0,H=i.pdfBug===!0,F=i.CanvasFactory||(Dn?uO:lO),K=i.FilterFactory||(Dn?dO:cO),P=i.enableHWA===!0,R=i.useWasm!==!1,B=h?h.length:i.length??NaN,q=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!Dn&&!Y,X=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:!!(S===lb&&_===cb&&j===db&&w&&C&&N&&Fl(w,document.baseURI)&&Fl(C,document.baseURI)&&Fl(N,document.baseURI)),le=null;F4(m);const Z={canvasFactory:new F({ownerDocument:ae,enableHWA:P}),filterFactory:new K({docId:t,ownerDocument:ae}),cMapReaderFactory:X?null:new S({baseUrl:w,isCompressed:A}),standardFontDataFactory:X?null:new _({baseUrl:C}),wasmFactory:X?null:new j({baseUrl:N})};g||(g=Er.create({verbosity:m,port:Sa.workerPort}),e._worker=g);const ce={docId:t,apiVersion:"5.4.296",data:a,password:d,disableAutoFetch:U,rangeChunkSize:p,length:B,docBaseUrl:v,enableXfa:re,evaluatorOptions:{maxImageSize:L,disableFontFace:Y,ignoreErrors:M,isEvalSupported:O,isOffscreenCanvasSupported:I,isImageDecoderSupported:z,canvasMaxAreaInBytes:$,fontExtraProperties:se,useSystemFonts:q,useWasm:R,useWorkerFetch:X,cMapUrl:w,iccUrl:E,standardFontDataUrl:C,wasmUrl:N}},pe={ownerDocument:ae,pdfBug:H,styleElement:le,loadingParams:{disableAutoFetch:U,enableXfa:re}};return g.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Ae=g.messageHandler.sendWithPromise("GetDocRequest",ce,a?[a.buffer]:null);let ve;if(h)ve=new kO(h,{disableRange:fe,disableStream:D});else if(!a){if(!s)throw new Error("getDocument - no `url` parameter provided.");const _e=Fl(s)?LO:Dn?qO:HO;ve=new _e({url:s,length:B,httpHeaders:r,withCredentials:l,rangeChunkSize:p,disableRange:fe,disableStream:D})}return Ae.then(_e=>{if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const Oe=new zl(t,_e,g.port),ke=new JO(Oe,e,ve,pe,Z,P);e._transport=ke,Oe.send("Ready",null)})}).catch(e._capability.reject),e}class Og{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Og.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Lg=class{#e=Promise.withResolvers();#t=[];#s=[];#n=[];#i=[];constructor(e,t,s=!1,a=null){this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=a}addRangeListener(e){this.#i.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#s.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const s of this.#i)s(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const s of this.#n)s(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#s)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){_t("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class QO{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class ZO{#e=!1;constructor(e,t,s,a=!1){this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=a?new tb:null,this._pdfBug=a,this.commonObjs=s.commonObjs,this.objs=new H2,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:a=0,dontFlip:r=!1}={}){return new dc({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:a,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:s,intent:a="display",annotationMode:r=so.ENABLE,transform:l=null,background:d=null,optionalContentConfigPromise:h=null,annotationCanvasMap:p=null,pageColors:g=null,printAnnotationStorage:m=null,isEditing:v=!1,recordOperations:w=!1,operationsFilter:A=null}){this._stats?.time("Overall");const S=this._transport.getRenderingIntent(a,r,m,v),{renderingIntent:E,cacheKey:C}=S;this.#e=!1,h||=this._transport.getOptionalContentConfig(E);let _=this._intentStates.get(C);_||(_=Object.create(null),this._intentStates.set(C,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const N=!!(E&ts.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(S));const j=!!(this._pdfBug&&globalThis.StepperManager?.enabled),M=!this.recordedBBoxes&&(w||j),L=z=>{if(_.renderTasks.delete(O),M){const $=O.gfx?.dependencyTracker.take();$&&(O.stepper&&O.stepper.setOperatorBBoxes($,O.gfx.dependencyTracker.takeDebugMetadata()),w&&(this.recordedBBoxes=$))}N&&(this.#e=!0),this.#t(),z?(O.capability.reject(z),this._abortOperatorList({intentState:_,reason:z instanceof Error?z:new Error(z)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new ar({callback:L,params:{canvas:t,canvasContext:e,dependencyTracker:M?new gO(t,_.operatorList.length,j):null,viewport:s,transform:l,background:d},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!N,pdfBug:this._pdfBug,pageColors:g,enableHWA:this._transport.enableHWA,operationsFilter:A});(_.renderTasks||=new Set).add(O);const I=O.task;return Promise.all([_.displayReadyCapability.promise,h]).then(([z,$])=>{if(this.destroyed){L();return}if(this._stats?.time("Rendering"),!($.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:z,optionalContentConfig:$}),O.operatorListChanged()}).catch(L),I}getOperatorList({intent:e="display",annotationMode:t=so.ENABLE,printAnnotationStorage:s=null,isEditing:a=!1}={}){function r(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(e,t,s,a,!0);let d=this._intentStates.get(l.cacheKey);d||(d=Object.create(null),this._intentStates.set(l.cacheKey,d));let h;return d.opListReadCapability||(h=Object.create(null),h.operatorListChanged=r,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||=new Set).add(h),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Jl.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,a){function r(){l.read().then(function({value:h,done:p}){if(p){s(d);return}d.lang??=h.lang,Object.assign(d.styles,h.styles),d.items.push(...h.items),r()},a)}const l=t.getReader(),d={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new tb),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const s=this._intentStates.get(t);s&&(this._stats?.timeEnd("Page Request"),s.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let s=0,a=e.length;s<a;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:a}){const{map:r,transfer:l}=s,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:a},l).getReader(),p=this._intentStates.get(t);p.streamReader=h;const g=()=>{h.read().then(({value:m,done:v})=>{if(v){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,p),g())},m=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const v of p.renderTasks)v.operatorListChanged();this.#t()}if(p.displayReadyCapability)p.displayReadyCapability.reject(m);else if(p.opListReadCapability)p.opListReadCapability.reject(m);else throw m}})};g()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof Qu){let a=KO;t.extraDelay>0&&t.extraDelay<1e3&&(a+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},a);return}}if(e.streamReader.cancel(new Uo(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[a,r]of this._intentStates)if(r===e){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var ba,Rs,Mo,Ja,Au,ei,ti,kn,su,U2,V2,Hl,mr,ou;const kt=class kt{constructor({name:e=null,port:t=null,verbosity:s=z4()}={}){Ys(this,kn);Ys(this,ba,Promise.withResolvers());Ys(this,Rs,null);Ys(this,Mo,null);Ys(this,Ja,null);if(this.name=e,this.destroyed=!1,this.verbosity=s,t){if(Dt(kt,ti).has(t))throw new Error("Cannot use more than one PDFWorker per port.");Dt(kt,ti).set(t,this),Xs(this,kn,U2).call(this,t)}else Xs(this,kn,V2).call(this)}get promise(){return Dt(this,ba).promise}get port(){return Dt(this,Mo)}get messageHandler(){return Dt(this,Rs)}destroy(){this.destroyed=!0,Dt(this,Ja)?.terminate(),Hn(this,Ja,null),Dt(kt,ti).delete(Dt(this,Mo)),Hn(this,Mo,null),Dt(this,Rs)?.destroy(),Hn(this,Rs,null)}static create(e){const t=Dt(this,ti).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new kt(e)}static get workerSrc(){if(Sa.workerSrc)return Sa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ze(this,"_setupFakeWorkerGlobal",(async()=>Dt(this,mr,ou)?Dt(this,mr,ou):(await import(this.workerSrc)).WorkerMessageHandler)())}};ba=new WeakMap,Rs=new WeakMap,Mo=new WeakMap,Ja=new WeakMap,Au=new WeakMap,ei=new WeakMap,ti=new WeakMap,kn=new WeakSet,su=function(){Dt(this,ba).resolve(),Dt(this,Rs).send("configure",{verbosity:this.verbosity})},U2=function(e){Hn(this,Mo,e),Hn(this,Rs,new zl("main","worker",e)),Dt(this,Rs).on("ready",()=>{}),Xs(this,kn,su).call(this)},V2=function(){if(Dt(kt,ei)||Dt(kt,mr,ou)){Xs(this,kn,Hl).call(this);return}let{workerSrc:e}=kt;try{kt._isSameOrigin(window.location,e)||(e=kt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new zl("main","worker",t),a=()=>{r.abort(),s.destroy(),t.terminate(),this.destroyed?Dt(this,ba).reject(new Error("Worker was destroyed")):Xs(this,kn,Hl).call(this)},r=new AbortController;t.addEventListener("error",()=>{Dt(this,Ja)||a()},{signal:r.signal}),s.on("test",d=>{if(r.abort(),this.destroyed||!d){a();return}Hn(this,Rs,s),Hn(this,Mo,t),Hn(this,Ja,t),Xs(this,kn,su).call(this)}),s.on("ready",d=>{if(r.abort(),this.destroyed){a();return}try{l()}catch{Xs(this,kn,Hl).call(this)}});const l=()=>{const d=new Uint8Array;s.send("test",d,[d.buffer])};l();return}catch{Ku("The worker has been disabled.")}Xs(this,kn,Hl).call(this)},Hl=function(){Dt(kt,ei)||(We("Setting up fake worker."),Hn(kt,ei,!0)),kt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Dt(this,ba).reject(new Error("Worker was destroyed"));return}const t=new rO;Hn(this,Mo,t);const s=`fake${H0(kt,Au)._++}`,a=new zl(s+"_worker",s,t);e.setup(a,t),Hn(this,Rs,new zl(s,s+"_worker",t)),Xs(this,kn,su).call(this)}).catch(e=>{Dt(this,ba).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},mr=new WeakSet,ou=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Ys(kt,mr),Ys(kt,Au,0),Ys(kt,ei,!1),Ys(kt,ti,new WeakMap),Dn&&(Hn(kt,ei,!0),Sa.workerSrc||="./pdf.worker.mjs"),kt._isSameOrigin=(e,t)=>{const s=URL.parse(e);if(!s?.origin||s.origin==="null")return!1;const a=new URL(t,s);return s.origin===a.origin},kt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},kt.fromPort=e=>{if(W4("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return kt.create(e)};let Er=kt;class JO{#e=new Map;#t=new Map;#s=new Map;#n=new Map;#i=null;constructor(e,t,s,a,r,l){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new H2,this.fontLoader=new nO({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#o(e,t=null){const s=this.#e.get(e);if(s)return s;const a=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,a),a}get annotationStorage(){return Ze(this,"annotationStorage",new jg)}getRenderingIntent(e,t=so.ENABLE,s=null,a=!1,r=!1){let l=ts.DISPLAY,d=Cm;switch(e){case"any":l=ts.ANY;break;case"display":break;case"print":l=ts.PRINT;break;default:We(`getRenderingIntent - invalid intent: ${e}`)}const h=l&ts.PRINT&&s instanceof N2?s:this.annotationStorage;switch(t){case so.DISABLE:l+=ts.ANNOTATIONS_DISABLE;break;case so.ENABLE:break;case so.ENABLE_FORMS:l+=ts.ANNOTATIONS_FORMS;break;case so.ENABLE_STORAGE:l+=ts.ANNOTATIONS_STORAGE,d=h.serializable;break;default:We(`getRenderingIntent - invalid annotationMode: ${t}`)}a&&(l+=ts.IS_EDITING),r&&(l+=ts.OPLIST);const{ids:p,hash:g}=h.modifiedIds,m=[l,d.hash,g];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:d,modifiedIds:p}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of this.#t.values())e.push(s._destroy());this.#t.clear(),this.#s.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),ec.cleanup(),this._networkStream?.cancelAllRequests(new Uo("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,a)=>{lt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},a.onPull=()=>{this._fullReader.read().then(function({value:r,done:l}){if(l){a.close();return}lt(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{a.error(r)})},a.onCancel=r=>{this._fullReader.cancel(r),a.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async s=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:r,contentLength:l}=this._fullReader;return(!a||!r)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=d=>{t.onProgress?.({loaded:d.loaded,total:d.total})}),{isStreamingSupported:a,isRangeSupported:r,contentLength:l}}),e.on("GetRangeReader",(s,a)=>{lt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(s.begin,s.end);if(!r){a.close();return}a.onPull=()=>{r.read().then(function({value:l,done:d}){if(d){a.close();return}lt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{a.error(l)})},a.onCancel=l=>{r.cancel(l),a.ready.catch(d=>{if(!this.destroyed)throw d})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new QO(s,this))}),e.on("DocException",s=>{t._capability.reject(Un(s))}),e.on("PasswordRequest",s=>{this.#i=Promise.withResolvers();try{if(!t.onPassword)throw Un(s);const a=r=>{r instanceof Error?this.#i.reject(r):this.#i.resolve({password:r})};t.onPassword(a,s.code)}catch(a){this.#i.reject(a)}return this.#i.promise}),e.on("DataLoaded",s=>{t.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;this.#t.get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,a,r])=>{if(this.destroyed||this.commonObjs.has(s))return null;switch(a){case"Font":if("error"in r){const g=r.error;We(`Error during font loading: ${g}`),this.commonObjs.resolve(s,g);break}const l=new At(r),d=this._params.pdfBug&&globalThis.FontInspector?.enabled?(g,m)=>globalThis.FontInspector.fontAdded(g,m):null,h=new sO(l,d,r.extra,r.charProcOperatorList);this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!h.fontExtraProperties&&h.data&&h.clearData(),this.commonObjs.resolve(s,h)});break;case"CopyLocalImage":const{imageRef:p}=r;lt(p,"The imageRef must be defined.");for(const g of this.#t.values())for(const[,m]of g.objs)if(m?.ref===p)return m.dataLen?(this.commonObjs.resolve(s,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,r);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),e.on("obj",([s,a,r,l])=>{if(this.destroyed)return;const d=this.#t.get(a);if(!d.objs.has(s)){if(d._intentStates.size===0){l?.bitmap?.close();return}switch(r){case"Image":case"Pattern":d.objs.resolve(s,l);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",s=>{this.destroyed||t.onProgress?.({loaded:s.loaded,total:s.total})}),e.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[s.type];if(!a)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&We("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=this.#s.get(t);if(s)return s;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&this.#n.set(r.refStr,e);const l=new ZO(t,r,this,this._params.pdfBug);return this.#t.set(t,l),l});return this.#s.set(t,a),a}getPageIndex(e){return Em(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#o("GetOptionalContentConfig").then(t=>new DO(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(a=>({info:a[0],metadata:a[1]?new PO(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),ec.cleanup()}}cachedPageNumber(e){if(!Em(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(t)??null}}class eL{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class ar{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:s,commonObjs:a,annotationCanvasMap:r,operatorList:l,pageIndex:d,canvasFactory:h,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:m=!1,pageColors:v=null,enableHWA:w=!1,operationsFilter:A=null}){this.callback=e,this.params=t,this.objs=s,this.commonObjs=a,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=d,this.canvasFactory=h,this.filterFactory=p,this._pdfBug=m,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new eL(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=w,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=A}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(ar.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ar.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:s,transform:a,background:r,dependencyTracker:l}=this.params,d=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new dr(d,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:a,viewport:s,transparency:e,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),ar.#t.delete(this._canvas),e||=new Qu(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),ar.#t.delete(this._canvas),this.callback())))}}const Bg="5.4.296",$2="f56dc8601";class ns{#e=null;#t=null;#s;#n=null;#i=!1;#o=!1;#a=null;#r;#c=null;#l=null;static#h=null;static get _keyboardManager(){return Ze(this,"_keyboardManager",new hc([[["Escape","mac+Escape"],ns.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ns.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ns.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ns.prototype._moveToPrevious],[["Home","mac+Home"],ns.prototype._moveToBeginning],[["End","mac+End"],ns.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#o=!1,this.#a=e):this.#o=!0,this.#l=e?._uiManager||t,this.#r=this.#l._eventBus,this.#s=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",ns.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#a&&(e.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#p.bind(this),{signal:t}),e.addEventListener("keydown",this.#g.bind(this),{signal:t});const s=this.#t=document.createElement("span");return s.className="swatch",s.ariaHidden="true",s.style.backgroundColor=this.#s,e.append(s),e}renderMainDropdown(){const e=this.#n=this.#u();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#u(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",is,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(e.id=`${this.#a.id}_colorpicker_dropdown`);for(const[s,a]of this.#l.highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",a),r.title=s,r.setAttribute("data-l10n-id",ns.#h[s]);const l=document.createElement("span");r.append(l),l.className="swatch",l.style.backgroundColor=a,r.ariaSelected=a===this.#s,r.addEventListener("click",this.#f.bind(this,a),{signal:t}),e.append(r)}return e.addEventListener("keydown",this.#g.bind(this),{signal:t}),e}#f(e,t){t.stopPropagation(),this.#r.dispatch("switchannotationeditorparams",{source:this,type:at.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#p(e);return}const t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#m){this.#p(e);return}if(e.target===this.#e){this.#n.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#p(e);return}this.#n.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#p(e);return}this.#n.lastChild?.focus()}#g(e){ns._keyboardManager.exec(this,e)}#p(e){if(this.#m){this.hideDropdown();return}if(this.#i=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#d.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const t=this.#n=this.#u();this.#e.append(t)}#d(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#o){if(!this.#m){this.#a?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#i})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const t=this.#l.highlightColors.values();for(const s of this.#n.children)s.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class tc{#e=null;#t=null;#s=null;static#n=null;constructor(e){this.#t=e,this.#s=e._uiManager,tc.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,colorValue:s}=this.#t,a=this.#e=document.createElement("input");return a.type="color",a.value=s||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",tc.#n[e]),a.addEventListener("input",()=>{this.#s.updateParams(t,a.value)},{signal:this.#s._signal}),a}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function Ab(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function Ml(i){return Math.max(0,Math.min(255,255*i))}class Cb{static CMYK_G([e,t,s,a]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+a)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Ml(e),[e,e,e]}static G_HTML([e]){const t=Ab(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(Ml)}static RGB_HTML(e){return`#${e.map(Ab).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,a]){return["RGB",1-Math.min(1,e+a),1-Math.min(1,s+a),1-Math.min(1,t+a)]}static CMYK_rgb([e,t,s,a]){return[Ml(1-Math.min(1,e+a)),Ml(1-Math.min(1,s+a)),Ml(1-Math.min(1,t+a))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const a=1-e,r=1-t,l=1-s,d=Math.min(a,r,l);return["CMYK",a,r,l,d]}}class tL{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),s||(a.setAttribute("width",`${e}px`),a.setAttribute("height",`${t}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${e} ${t}`),a}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){_t("Abstract method `_createSVG` called.")}}class nc extends tL{_createSVG(e){return document.createElementNS(Ro,e)}}const nL=9,ri=new WeakSet,sL=new Date().getTimezoneOffset()*60*1e3;class Eb{static create(e){switch(e.data.annotationType){case Vt.LINK:return new Ig(e);case Vt.TEXT:return new aL(e);case Vt.WIDGET:switch(e.data.fieldType){case"Tx":return new iL(e);case"Btn":return e.data.radioButton?new G2(e):e.data.checkBox?new lL(e):new cL(e);case"Ch":return new dL(e);case"Sig":return new rL(e)}return new hi(e);case Vt.POPUP:return new Nm(e);case Vt.FREETEXT:return new q2(e);case Vt.LINE:return new hL(e);case Vt.SQUARE:return new fL(e);case Vt.CIRCLE:return new pL(e);case Vt.POLYLINE:return new Y2(e);case Vt.CARET:return new gL(e);case Vt.INK:return new Fg(e);case Vt.POLYGON:return new mL(e);case Vt.HIGHLIGHT:return new X2(e);case Vt.UNDERLINE:return new xL(e);case Vt.SQUIGGLY:return new vL(e);case Vt.STRIKEOUT:return new yL(e);case Vt.STAMP:return new W2(e);case Vt.FILEATTACHMENT:return new bL(e);default:return new Lt(e)}}}class Lt{#e=null;#t=!1;#s=null;constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Lt._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:s,rect:a}=this.data;let r=-1/0,l=-1/0;if(t?.length>=8){for(let d=0;d<t.length;d+=8)t[d+1]>l?(l=t[d+1],r=t[d+2]):t[d+1]===l&&(r=Math.max(r,t[d+2]));return[r,l]}if(s?.length>=1){for(const d of s)for(let h=0,p=d.length;h<p;h+=2)d[h+1]>l?(l=d[h+1],r=d[h]):d[h+1]===l&&(r=Math.max(r,d[h]));if(r!==1/0)return[r,l]}return a?[a[2],a[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:r,pageY:l}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-r)/s,e[1]=100*(e[1]-l)/a,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Ql}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,s={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:s})||this.annotationStorage.setValue(`${Ql}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:s,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#s?.popup||this.popup)?.remove(),this.#s=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:s}=e;t&&this.#n(t);let a=this.#s?.popup||this.popup;!a&&s?.text&&(this._createPopup(s),a=this.#s.popup),a&&(a.updateEdited(e),s?.deleted&&(a.remove(),this.#s=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#s?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:t},data:{rect:s,rotation:a},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:l,pageX:d,pageY:h}}}}=this;s?.splice(0,4,...e),t.left=`${100*(e[0]-d)/r}%`,t.top=`${100*(l-e[3]+h)/l}%`,a===0?(t.width=`${100*(e[2]-e[0])/r}%`,t.height=`${100*(e[3]-e[1])/l}%`):this.setRotation(a)}_createContainer(e){const{data:t,parent:{page:s,viewport:a}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),!(this instanceof hi)&&!(this instanceof Ig)&&(r.tabIndex=0);const{style:l}=r;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof Nm){const{rotation:S}=t;return!t.hasOwnCanvas&&S!==0&&this.setRotation(S,r),r}const{width:d,height:h}=this;if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const S=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(S>0||E>0){const _=`calc(${S}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;l.borderRadius=_}else if(this instanceof G2){const _=`calc(${d}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;l.borderRadius=_}switch(t.borderStyle.style){case nr.SOLID:l.borderStyle="solid";break;case nr.DASHED:l.borderStyle="dashed";break;case nr.BEVELED:We("Unimplemented border style: beveled");break;case nr.INSET:We("Unimplemented border style: inset");break;case nr.UNDERLINE:l.borderBottomStyle="solid";break}const C=t.borderColor||null;C?(this.#t=!0,l.borderColor=Ee.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):l.borderWidth=0}const p=Ee.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:g,pageHeight:m,pageX:v,pageY:w}=a.rawDims;l.left=`${100*(p[0]-v)/g}%`,l.top=`${100*(p[1]-w)/m}%`;const{rotation:A}=t;return t.hasOwnCanvas||A===0?(l.width=`${100*d/g}%`,l.height=`${100*h/m}%`):this.setRotation(A,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:a}=this.parent.viewport.rawDims;let{width:r,height:l}=this;e%180!==0&&([r,l]=[l,r]),t.style.width=`${100*r/s}%`,t.style.height=`${100*l/a}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,a)=>{const r=a.detail[t],l=r[0],d=r.slice(1);a.target.style[s]=Cb[`${l}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[s]:Cb[`${l}_rgb`](d)})};return Ze(this,"_commonActions",{display:t=>{const{display:s}=t.detail,a=s%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const a of Object.keys(t.detail))(e[a]||s[a])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[a,r]of Object.entries(t)){const l=s[a];if(l){const d={detail:{[a]:r},target:e};l(d),delete t[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,a,r]=this.data.rect.map(S=>Math.fround(S));if(e.length===8){const[S,E,C,_]=e.subarray(2,6);if(a===S&&r===E&&t===C&&s===_)return}const{style:l}=this.container;let d;if(this.#t){const{borderColor:S,borderWidth:E}=l;l.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const h=a-t,p=r-s,{svgFactory:g}=this,m=g.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const v=g.createElement("defs");m.append(v);const w=g.createElement("clipPath"),A=`clippath_${this.data.id}`;w.setAttribute("id",A),w.setAttribute("clipPathUnits","objectBoundingBox"),v.append(w);for(let S=2,E=e.length;S<E;S+=8){const C=e[S],_=e[S+1],N=e[S+2],j=e[S+3],M=g.createElement("rect"),L=(N-t)/h,O=(r-_)/p,I=(C-N)/h,z=(_-j)/p;M.setAttribute("x",L),M.setAttribute("y",O),M.setAttribute("width",I),M.setAttribute("height",z),w.append(M),d?.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${O}" width="${I}" height="${z}"/>`)}this.#t&&(d.push("</g></svg>')"),l.backgroundImage=d.join("")),this.container.append(m),this.container.style.clipPath=`url(#${A})`}_createPopup(e=null){const{data:t}=this;let s,a;e?(s={str:e.text},a=e.date):(s=t.contentsObj,a=t.modificationDate);const r=this.#s=new Nm({data:{color:t.color,titleObj:t.titleObj,modificationDate:a,contentsObj:s,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(r.render())}get hasPopupElement(){return!!(this.#s||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#s}render(){_t("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const a=this._fieldObjects[e];if(a)for(const{page:r,id:l,exportValues:d}of a){if(r===-1||l===t)continue;const h=typeof d=="string"?d:null,p=document.querySelector(`[data-element-id="${l}"]`);if(p&&!ri.has(p)){We(`_getElementsByName - element not allowed: ${l}`);continue}s.push({id:l,exportValue:h,domElement:p})}return s}for(const a of document.getElementsByName(e)){const{exportValue:r}=a,l=a.getAttribute("data-element-id");l!==t&&ri.has(a)&&s.push({id:l,exportValue:r,domElement:a})}return s}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class oL extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class Ig extends Lt{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let a=!1;return e.url?(t.addLinkAttributes(s,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(s,e.action,e.overlaidText),a=!0):e.attachment?(this.#t(s,e.attachment,e.overlaidText,e.attachmentDest),a=!0):e.setOCGState?(this.#s(s,e.setOCGState,e.overlaidText),a=!0):e.dest?(this._bindLink(s,e.dest,e.overlaidText),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),a=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,s=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),s&&(e.title=s)}_bindNamedAction(e,t,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),s&&(e.title=s),this.#e()}#t(e,t,s="",a=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:s&&(e.title=s),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,a),!1),this.#e()}#s(e,t,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),s&&(e.title=s),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(t.actions)){const r=s.get(a);r&&(e[r]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:a}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){We('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{s?.();const{fields:a,refs:r,include:l}=t,d=[];if(a.length!==0||r.length!==0){const g=new Set(r);for(const m of a){const v=this._fieldObjects[m]||[];for(const{id:w}of v)g.add(w)}for(const m of Object.values(this._fieldObjects))for(const v of m)g.has(v.id)===l&&d.push(v)}else for(const g of Object.values(this._fieldObjects))d.push(...g);const h=this.annotationStorage,p=[];for(const g of d){const{id:m}=g;switch(p.push(m),g.type){case"text":{const w=g.defaultValue||"";h.setValue(m,{value:w});break}case"checkbox":case"radiobutton":{const w=g.defaultValue===g.exportValues;h.setValue(m,{value:w});break}case"combobox":case"listbox":{const w=g.defaultValue||"";h.setValue(m,{value:w});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!ri.has(v)){We(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}}),!1}}}class aL extends Lt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class hi extends Lt{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return pn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,a,r){s.includes("mouse")?e.addEventListener(s,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:r(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(s,l=>{if(s==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}r&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:r(l)}})})}_setEventListeners(e,t,s,a){for(const[r,l]of s)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,r,l,a),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ee.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||nL,r=e.style;let l;const d=2,h=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d),g=Math.round(p/(qp*a))||1,m=p/g;l=Math.min(a,h(m/qp))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-d);l=Math.min(a,h(p/qp))}r.fontSize=`calc(${l}px * var(--total-scale-factor))`,r.color=Ee.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class iL extends hi{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,a){const r=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=s),r.setValue(l.id,{[a]:s})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let r=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&r.length>l&&(r=r.slice(0,l));let d=a.formattedValue||this.data.textContent?.join(`
`)||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:r,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=d??r,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",d??r),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),ri.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=0;const{datetimeFormat:p,datetimeType:g,timeStep:m}=this.data,v=!!g&&this.enableScripting;p&&(s.title=p),this._setRequired(s,this.data.required),l&&(s.maxLength=l),s.addEventListener("input",A=>{e.setValue(t,{value:A.target.value}),this.setPropertyOnSiblings(s,"value",A.target.value,"value"),h.formattedValue=null}),s.addEventListener("resetform",A=>{const S=this.data.defaultFieldValue??"";s.value=h.userValue=S,h.formattedValue=null});let w=A=>{const{formattedValue:S}=h;S!=null&&(A.target.value=S),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",S=>{if(h.focused)return;const{target:E}=S;if(v&&(E.type=g,m&&(E.step=m)),h.userValue){const C=h.userValue;if(v)if(g==="time"){const _=new Date(C),N=[_.getHours(),_.getMinutes(),_.getSeconds()];E.value=N.map(j=>j.toString().padStart(2,"0")).join(":")}else E.value=new Date(C-sL).toISOString().split(g==="date"?"T":".",1)[0];else E.value=C}h.lastCommittedValue=E.value,h.commitKey=1,this.data.actions?.Focus||(h.focused=!0)}),s.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const E={value(C){h.userValue=C.detail.value??"",v||e.setValue(t,{value:h.userValue.toString()}),C.target.value=h.userValue},formattedValue(C){const{formattedValue:_}=C.detail;h.formattedValue=_,_!=null&&C.target!==document.activeElement&&(C.target.value=_);const N={formattedValue:_};v&&(N.value=_),e.setValue(t,N)},selRange(C){C.target.setSelectionRange(...C.detail.selRange)},charLimit:C=>{const{charLimit:_}=C.detail,{target:N}=C;if(_===0){N.removeAttribute("maxLength");return}N.setAttribute("maxLength",_);let j=h.userValue;!j||j.length<=_||(j=j.slice(0,_),N.value=h.userValue=j,e.setValue(t,{value:j}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:j,willCommit:!0,commitKey:1,selStart:N.selectionStart,selEnd:N.selectionEnd}}))}};this._dispatchEventFromSandbox(E,S)}),s.addEventListener("keydown",S=>{h.commitKey=1;let E=-1;if(S.key==="Escape"?E=0:S.key==="Enter"&&!this.data.multiLine?E=2:S.key==="Tab"&&(h.commitKey=3),E===-1)return;const{value:C}=S.target;h.lastCommittedValue!==C&&(h.lastCommittedValue=C,h.userValue=C,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:E,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const A=w;w=null,s.addEventListener("blur",S=>{if(!h.focused||!S.relatedTarget)return;this.data.actions?.Blur||(h.focused=!1);const{target:E}=S;let{value:C}=E;if(v){if(C&&g==="time"){const _=C.split(":").map(N=>parseInt(N,10));C=new Date(2e3,0,1,_[0],_[1],_[2]||0).valueOf(),E.step=""}else C.includes("T")||(C=`${C}T00:00`),C=new Date(C).valueOf();E.type="text"}h.userValue=C,h.lastCommittedValue!==C&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:h.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}),A(S)}),this.data.actions?.Keystroke&&s.addEventListener("beforeinput",S=>{h.lastCommittedValue=null;const{data:E,target:C}=S,{value:_,selectionStart:N,selectionEnd:j}=C;let M=N,L=j;switch(S.inputType){case"deleteWordBackward":{const O=_.substring(0,N).match(/\w*[^\w]*$/);O&&(M-=O[0].length);break}case"deleteWordForward":{const O=_.substring(N).match(/^[^\w]*\w*/);O&&(L+=O[0].length);break}case"deleteContentBackward":N===j&&(M-=1);break;case"deleteContentForward":N===j&&(L+=1);break}S.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:E||"",willCommit:!1,selStart:M,selEnd:L}})}),this._setEventListeners(s,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(w&&s.addEventListener("blur",w),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/l;s.classList.add("comb"),s.style.letterSpacing=`calc(${S}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class rL extends hi{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class lL extends hi{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let a=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",e.setValue(s,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return ri.add(r),r.setAttribute("data-element-id",s),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,a&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=0,r.addEventListener("change",l=>{const{name:d,checked:h}=l.target;for(const p of this._getElementsByName(d,s)){const g=h&&p.exportValue===t.exportValue;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}e.setValue(s,{value:h})}),r.addEventListener("resetform",l=>{const d=t.defaultFieldValue||"Off";l.target.checked=d===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",l=>{const d={value(h){h.target.checked=h.detail.value!=="Off",e.setValue(s,{value:h.target.checked})}};this._dispatchEventFromSandbox(d,l)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class G2 extends hi{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let a=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof a=="string"&&(a=a!==t.buttonValue,e.setValue(s,{value:a})),a)for(const l of this._getElementsByName(t.fieldName,s))e.setValue(l.id,{value:!1});const r=document.createElement("input");if(ri.add(r),r.setAttribute("data-element-id",s),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,a&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",l=>{const{name:d,checked:h}=l.target;for(const p of this._getElementsByName(d,s))e.setValue(p.id,{value:!1});e.setValue(s,{value:h})}),r.addEventListener("resetform",l=>{const d=t.defaultFieldValue;l.target.checked=d!=null&&d===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;r.addEventListener("updatefromsandbox",d=>{const h={value:p=>{const g=l===p.detail.value;for(const m of this._getElementsByName(p.target.name)){const v=g&&m.id===s;m.domElement&&(m.domElement.checked=v),e.setValue(m.id,{value:v})}}};this._dispatchEventFromSandbox(h,d)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class cL extends Ig{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class dL extends hi{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),a=document.createElement("select");ri.add(a),a.setAttribute("data-element-id",t),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",g=>{const m=this.data.defaultFieldValue;for(const v of a.options)v.selected=v.value===m});for(const g of this.data.options){const m=document.createElement("option");m.textContent=g.displayValue,m.value=g.exportValue,s.value.includes(g.exportValue)&&(m.setAttribute("selected",!0),r=!1),a.append(m)}let l=null;if(r){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),a.prepend(g),l=()=>{g.remove(),a.removeEventListener("input",l),l=null},a.addEventListener("input",l)}const d=g=>{const m=g?"value":"textContent",{options:v,multiple:w}=a;return w?Array.prototype.filter.call(v,A=>A.selected).map(A=>A[m]):v.selectedIndex===-1?null:v[v.selectedIndex][m]};let h=d(!1);const p=g=>{const m=g.target.options;return Array.prototype.map.call(m,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",g=>{const m={value(v){l?.();const w=v.detail.value,A=new Set(Array.isArray(w)?w:[w]);for(const S of a.options)S.selected=A.has(S.value);e.setValue(t,{value:d(!0)}),h=d(!1)},multipleSelection(v){a.multiple=!0},remove(v){const w=a.options,A=v.detail.remove;w[A].selected=!1,a.remove(A),w.length>0&&Array.prototype.findIndex.call(w,E=>E.selected)===-1&&(w[0].selected=!0),e.setValue(t,{value:d(!0),items:p(v)}),h=d(!1)},clear(v){for(;a.length!==0;)a.remove(0);e.setValue(t,{value:null,items:[]}),h=d(!1)},insert(v){const{index:w,displayValue:A,exportValue:S}=v.detail.insert,E=a.children[w],C=document.createElement("option");C.textContent=A,C.value=S,E?E.before(C):a.append(C),e.setValue(t,{value:d(!0),items:p(v)}),h=d(!1)},items(v){const{items:w}=v.detail;for(;a.length!==0;)a.remove(0);for(const A of w){const{displayValue:S,exportValue:E}=A,C=document.createElement("option");C.textContent=S,C.value=E,a.append(C)}a.options.length>0&&(a.options[0].selected=!0),e.setValue(t,{value:d(!0),items:p(v)}),h=d(!1)},indices(v){const w=new Set(v.detail.indices);for(const A of v.target.options)A.selected=w.has(A.index);e.setValue(t,{value:d(!0)}),h=d(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(m,g)}),a.addEventListener("input",g=>{const m=d(!0),v=d(!1);e.setValue(t,{value:m}),g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,change:v,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):a.addEventListener("input",function(g){e.setValue(t,{value:d(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Nm extends Lt{constructor(e){const{data:t,elements:s,parent:a}=e,r=!!a._commentManager;if(super(e,{isRenderable:!r&&Lt._hasPopupData(t)}),this.elements=s,r&&Lt._hasPopupData(t)){const l=this.popup=this.#e();for(const d of s)d.popup=l}else this.popup=null}#e(){return new uL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),s=[];for(const a of this.elements)a.popup=t,a.container.ariaHasPopup="dialog",s.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(a=>`${Eg}${a}`).join(",")),this.container}}class uL{#e=null;#t=this.#$.bind(this);#s=this.#F.bind(this);#n=this.#R.bind(this);#i=this.#w.bind(this);#o=null;#a=null;#r=null;#c=null;#l=null;#h=null;#u=null;#f=!1;#g=null;#p=null;#d=null;#m=null;#x=null;#y=null;#v=null;#E=null;#A=null;#b=null;#_=!1;#S=null;#C=null;constructor({container:e,color:t,elements:s,titleObj:a,modificationDate:r,contentsObj:l,richText:d,parent:h,rect:p,parentRect:g,open:m,commentManager:v=null}){this.#a=e,this.#A=a,this.#r=l,this.#E=d,this.#h=h,this.#o=t,this.#v=p,this.#u=g,this.#l=s,this.#e=v,this.#S=s[0],this.#c=vu.toDateObject(r),this.trigger=s.flatMap(w=>w.getElementsToTriggerPopup()),v?this.renderCommentButton():(this.#j(),this.#a.hidden=!0,m&&this.#w())}#j(){if(this.#p)return;this.#p=new AbortController;const{signal:e}=this.#p;for(const t of this.trigger)t.addEventListener("click",this.#i,{signal:e}),t.addEventListener("pointerenter",this.#n,{signal:e}),t.addEventListener("pointerleave",this.#s,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#N(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#x=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#x||this.#N(),!this.#x))return;const{signal:e}=this.#p=new AbortController,t=!!this.#S.extraPopupElement,s=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},a=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},r=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#m=this.#S.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#t,{signal:e}),l.addEventListener("click",s,{signal:e}),l.addEventListener("pointerenter",a,{signal:e}),l.addEventListener("pointerleave",r,{signal:e}),l.classList.add("popupTriggerArea")}else{const l=this.#m=document.createElement("button");l.className="annotationCommentButton";const d=this.#S.container;l.style.zIndex=d.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#B(),this.#P(),l.addEventListener("keydown",this.#t,{signal:e}),l.addEventListener("click",s,{signal:e}),l.addEventListener("pointerenter",a,{signal:e}),l.addEventListener("pointerleave",r,{signal:e}),d.after(l)}}#P(){if(this.#S.extraPopupElement&&!this.#S.editor)return;this.renderCommentButton();const[e,t]=this.#x,{style:s}=this.#m;s.left=`calc(${e}%)`,s.top=`calc(${t}% - var(--comment-button-dim))`}#B(){this.#S.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#S.commentData;return e?this.#h._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:e,color:t,opacity:s,creationDate:a,modificationDate:r}=this.#S.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:s,creationDate:a,modificationDate:r}}get elementBeforePopup(){return this.#m}get comment(){return this.#C||=this.#S.commentText,this.#C}set comment(e){e!==this.comment&&(this.#S.commentText=this.#C=e)}get parentBoundingClientRect(){return this.#S.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#m&&(this.#m.classList.toggle("selected",e),this.#m.ariaExpanded=t)}setSelectedCommentButton(e){this.#m.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#y)return this.#y;const{x:e,y:t,height:s}=this.#m.getBoundingClientRect(),{x:a,y:r,width:l,height:d}=this.#S.layer.getBoundingClientRect();return[(e-a)/l,(t+s-r)/d]}set commentPopupPosition(e){this.#y=e}hasDefaultPopupPosition(){return this.#y===null}get commentButtonPosition(){return this.#x}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,s]=this.#y||this.commentButtonPosition.map(p=>p/100),a=this.parentBoundingClientRect,{x:r,y:l,width:d,height:h}=a;this.#e.showDialog(null,this,r+t*d,l+s*h,{...e,parentDimensions:a})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#o){const s=e.style.outlineColor=Ee.makeHexColor(...this.#o);e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#A?.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=this.#A}if(e.append(t),this.#c){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),s.dateTime=this.#c.toISOString(),t.append(s)}_g({html:this.#k||this.#r.str,dir:this.#r?.dir,className:"popupContent"},e),this.#a.append(e)}get#k(){const e=this.#E,t=this.#r;return e?.str&&(!t?.str||t.str===e.str)&&this.#E.html||null}get#M(){return this.#k?.attributes?.style?.fontSize||0}get#I(){return this.#k?.attributes?.style?.color||null}#O(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},a={style:{color:this.#I,fontSize:this.#M?`calc(${this.#M}px * var(--total-scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:a});return s}#$(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#w()}updateEdited({rect:e,popup:t,deleted:s}){if(this.#e){s?(this.remove(),this.#C=null):t&&(t.deleted?this.remove():(this.#B(),this.#C=t.text)),e&&(this.#x=null,this.#N(),this.#P());return}if(s||t?.deleted){this.remove();return}this.#j(),this.#b||={contentsObj:this.#r,richText:this.#E},e&&(this.#d=null),t&&t.text&&(this.#E=this.#O(t.text),this.#c=vu.toDateObject(t.date),this.#r=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#b&&({contentsObj:this.#r,richText:this.#E}=this.#b,this.#b=null,this.#g?.remove(),this.#g=null,this.#d=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#_=!1,this.#f=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#T(){if(this.#d!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:a,pageY:r}}}=this.#h;let l=!!this.#u,d=l?this.#u:this.#v;for(const A of this.#l)if(!d||Ee.intersect(A.data.rect,d)!==null){d=A.data.rect,l=!0;break}const h=Ee.normalizeRect([d[0],e[3]-d[1]+e[1],d[2],e[3]-d[3]+e[1]]),g=l?d[2]-d[0]+5:0,m=h[0]+g,v=h[1];this.#d=[100*(m-a)/t,100*(v-r)/s];const{style:w}=this.#a;w.left=`${this.#d[0]}%`,w.top=`${this.#d[1]}%`}#w(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#R(),this.#a.addEventListener("click",this.#i),this.#a.addEventListener("keydown",this.#t)):(this.#F(),this.#a.removeEventListener("click",this.#i),this.#a.removeEventListener("keydown",this.#t))}#R(){this.#g||this.render(),this.isVisible?this.#f&&this.#a.classList.add("focused"):(this.#T(),this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#F(){this.#a.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#_=this.isVisible,this.#_&&(this.#a.hidden=!0)}maybeShow(){this.#e||(this.#j(),this.#_&&(this.#g||this.#R(),this.#_=!1,this.#a.hidden=!1))}get isVisible(){return this.#e?!1:this.#a.hidden===!1}}class q2 extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Xe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class hL extends Lt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:s}=this,a=this.svgFactory.create(t,s,!0),r=this.#e=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),a.append(r),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class fL extends Lt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:s}=this,a=this.svgFactory.create(t,s,!0),r=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",r/2),l.setAttribute("y",r/2),l.setAttribute("width",t-r),l.setAttribute("height",s-r),l.setAttribute("stroke-width",r||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class pL extends Lt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:s}=this,a=this.svgFactory.create(t,s,!0),r=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",t/2),l.setAttribute("cy",s/2),l.setAttribute("rx",t/2-r/2),l.setAttribute("ry",s/2-r/2),l.setAttribute("stroke-width",r||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Y2 extends Lt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:s,popupRef:a},width:r,height:l}=this;if(!t)return this.container;const d=this.svgFactory.create(r,l,!0);let h=[];for(let g=0,m=t.length;g<m;g+=2){const v=t[g]-e[0],w=e[3]-t[g+1];h.push(`${v},${w}`)}h=h.join(" ");const p=this.#e=this.svgFactory.createElement(this.svgElementName);return p.setAttribute("points",h),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),d.append(p),this.container.append(d),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class mL extends Y2{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class gL extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Fg extends Lt{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Xe.HIGHLIGHT:Xe.INK}#s(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:s,borderStyle:a,popupRef:r}}=this,{transform:l,width:d,height:h}=this.#s(t,e),p=this.svgFactory.create(d,h,!0),g=this.#e=this.svgFactory.createElement("svg:g");p.append(g),g.setAttribute("stroke-width",a.width||1),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-linejoin","round"),g.setAttribute("stroke-miterlimit",10),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),g.setAttribute("transform",l);for(let m=0,v=s.length;m<v;m++){const w=this.svgFactory.createElement(this.svgElementName);this.#t.push(w),w.setAttribute("points",s[m].join(",")),g.append(w)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:s,rect:a}=e,r=this.#e;if(t>=0&&r.setAttribute("stroke-width",t||1),s)for(let l=0,d=this.#t.length;l<d;l++)this.#t[l].setAttribute("points",s[l].join(","));if(a){const{transform:l,width:d,height:h}=this.#s(this.data.rotation,a);r.parentElement.setAttribute("viewBox",`0 0 ${d} ${h}`),r.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class X2 extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Xe.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const s=document.createElement("mark");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class xL extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class vL extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class yL extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const s=document.createElement("s");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class W2 extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Xe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class bL extends Lt{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let s;t.hasAppearance||t.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),s.addEventListener("dblclick",this.#t.bind(this)),this.#e=s;const{isMac:a}=pn.platform;return e.addEventListener("keydown",r=>{r.key==="Enter"&&(a?r.metaKey:r.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let zg=class K2{#e=null;#t=null;#s=null;#n=new Map;#i=null;#o=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:a,page:r,viewport:l,structTreeLayer:d,commentManager:h,linkService:p,annotationStorage:g}){this.div=e,this.#e=t,this.#t=s,this.#i=d||null,this.#o=p||null,this.#s=g||new jg,this.page=r,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=a,this._commentManager=h||null}hasEditableAnnotations(){return this.#n.size>0}async#a(e,t,s){const a=e.firstChild||e,r=a.id=`${Eg}${t}`,l=await this.#i?.getAriaAttributes(r);if(l)for(const[d,h]of l)a.setAttribute(d,h);s?s.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,a,!1))}async render(e){const{annotations:t}=e,s=this.div;_a(s,this.viewport);const a=new Map,r={data:null,layer:s,linkService:this.#o,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new nc,annotationStorage:this.#s,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const d=l.annotationType===Vt.POPUP;if(d){const g=a.get(l.id);if(!g)continue;r.elements=g}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;r.data=l;const h=Eb.create(r);if(!h.isRenderable)continue;if(!d&&l.popupRef){const g=a.get(l.popupRef);g?g.push(h):a.set(l.popupRef,[h])}const p=h.render();l.hidden&&(p.style.visibility="hidden"),await this.#a(p,l.id,r.elements),h.extraPopupElement?.popup?.renderCommentButton(),h._isEditable&&(this.#n.set(h.data.id,h),this._annotationEditorUIManager?.renderAnnotationElement(h))}this.#r()}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#o,svgFactory:new nc,parent:this};for(const s of e){s.borderStyle||=K2._defaultBorderStyle,t.data=s;const a=Eb.create(t);if(!a.isRenderable)continue;const r=a.render();await this.#a(r,s.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,_a(t,{rotation:e.rotation}),this.#r(),t.hidden=!1}#r(){if(!this.#t)return;const e=this.div;for(const[t,s]of this.#t){const a=e.querySelector(`[data-annotation-id="${t}"]`);if(!a)continue;s.className="annotationContent";const{firstChild:r}=a;r?r.nodeName==="CANVAS"?r.replaceWith(s):r.classList.contains("annotationContent")?r.after(s):r.before(s):a.append(s);const l=this.#n.get(t);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,a.id,s),l._hasNoCanvas=!1):l.canvas=s)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:s,rotation:a}=e,r=new oL({data:{id:s,rect:e.getPDFRect(),rotation:a},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#o,annotationStorage:this.#s}),l=r.render();return t.append(l),this.#e?.moveElementInDOM(t,l,l,!1),r.createOrUpdatePopup(),r}static get _defaultBorderStyle(){return Ze(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:nr.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const qd=/\r\n?|\n/g;class un extends Me{#e="";#t=`${this.id}-editor`;#s=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=un.prototype,t=r=>r.isEmpty(),s=Vo.TRANSLATE_SMALL,a=Vo.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new hc([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:t}]]))}static _type="freetext";static _editorType=Xe.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||un._defaultColor||Me._defaultLineColor,this.#n=e.fontSize||un._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){Me.initialize(e,t);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case at.FREETEXT_SIZE:un._defaultFontSize=t;break;case at.FREETEXT_COLOR:un._defaultColor=t;break}}updateParams(e,t){switch(e){case at.FREETEXT_SIZE:this.#i(t);break;case at.FREETEXT_COLOR:this.#o(t);break}}static get defaultPropertiesToUpdate(){return[[at.FREETEXT_SIZE,un._defaultFontSize],[at.FREETEXT_COLOR,un._defaultColor||Me._defaultLineColor]]}get propertiesToUpdate(){return[[at.FREETEXT_SIZE,this.#n],[at.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new tc(this),[["colorPicker",this._colorPicker]]}get colorType(){return at.FREETEXT_COLOR}#i(e){const t=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#n)*this.parentScale),this.#n=a,this.#r()},s=this.#n;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:at.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#o(e){const t=a=>{this.color=a,this.onUpdatedColor()},s=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:at.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-un._internalPadding*e,-(un._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#s=new AbortController;const e=this._uiManager.combinedSignal(this.#s);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#s?.abort(),this.#s=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const e=[];this.editorDiv.normalize();let t=null;for(const s of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&s.nodeName==="BR"||(e.push(un.#c(s)),t=s);return e.join(`
`)}#r(){const[e,t]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:r}=this,l=r.style.display,d=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",a.div.append(this.div),s=r.getBoundingClientRect(),r.remove(),r.style.display=l,r.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/t):(this.width=s.height/e,this.height=s.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#a().trimEnd();if(e===t)return;const s=a=>{if(this.#e=a,!a){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#r()};this.addCommands({cmd:()=>{s(t)},undo:()=>{s(e)},mustExec:!1}),this.#r()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){un._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,s.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,r]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[d,h]=this.getInitialTranslation();[d,h]=this.pageTranslationToScreen(d,h);const[p,g]=this.pageDimensions,[m,v]=this.pageTranslation;let w,A;switch(this.rotation){case 0:w=e+(l[0]-m)/p,A=t+this.height-(l[1]-v)/g;break;case 90:w=e+(l[0]-m)/p,A=t-(l[1]-v)/g,[d,h]=[h,-d];break;case 180:w=e-this.width+(l[0]-m)/p,A=t-(l[1]-v)/g,[d,h]=[-d,-h];break;case 270:w=e+(l[0]-m-this.height*g)/p,A=t+(l[1]-v-this.width*p)/g,[d,h]=[-h,d];break}this.setAt(w*a,A*r,d,h)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(qd,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:s}=t;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const a=un.#u(t.getData("text")||"").replaceAll(qd,`
`);if(!a)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const l=r.getRangeAt(0);if(!a.includes(`
`)){l.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:d,startOffset:h}=l,p=[],g=[];if(d.nodeType===Node.TEXT_NODE){const w=d.parentElement;if(g.push(d.nodeValue.slice(h).replaceAll(qd,"")),w!==this.editorDiv){let A=p;for(const S of this.editorDiv.childNodes){if(S===w){A=g;continue}A.push(un.#c(S))}}p.push(d.nodeValue.slice(0,h).replaceAll(qd,""))}else if(d===this.editorDiv){let w=p,A=0;for(const S of this.editorDiv.childNodes)A++===h&&(w=g),w.push(un.#c(S))}this.#e=`${p.join(`
`)}${a}${g.join(`
`)}`,this.#l();const m=new Range;let v=Math.sumPrecise(p.map(w=>w.length));for(const{firstChild:w}of this.editorDiv.childNodes)if(w.nodeType===Node.TEXT_NODE){const A=w.nodeValue.length;if(v<=A){m.setStart(w,v),m.setEnd(w,v);break}v-=A}r.removeAllRanges(),r.addRange(m)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#h(){return this.#e.replaceAll(""," ")}static#u(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=un._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,s){let a=null;if(e instanceof q2){const{data:{defaultAppearanceData:{fontSize:l,fontColor:d},rect:h,rotation:p,id:g,popupRef:m,richText:v,contentsObj:w,creationDate:A,modificationDate:S},textContent:E,textPosition:C,parent:{page:{pageNumber:_}}}=e;if(!E||E.length===0)return null;a=e={annotationType:Xe.FREETEXT,color:Array.from(d),fontSize:l,value:E.join(`
`),position:C,pageIndex:_-1,rect:h.slice(0),rotation:p,annotationElementId:g,id:g,deleted:!1,popupRef:m,comment:w?.str||null,richText:v,creationDate:A,modificationDate:S}}const r=await super.deserialize(e,t,s);return r.#n=e.fontSize,r.color=Ee.makeHexColor(...e.color),r.#e=un.#u(e.value),r._initialData=a,e.comment&&r.setCommentData(e),r}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=Me._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),s=Object.assign(super.serialize(e),{color:t,fontSize:this.#n,value:this.#h()});return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!this.#f(s)?null:(s.id=this.annotationElementId,s)}#f(e){const{value:t,fontSize:s,color:a,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==s||e.color.some((l,d)=>l!==a[d])||e.pageIndex!==r}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:s}=t;s.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,s.color=this.color,t.replaceChildren();for(const a of this.#e.split(`
`)){const r=document.createElement("div");r.append(a?document.createTextNode(a):document.createElement("br")),t.append(r)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Ce{static PRECISION=1e-4;toSVGPath(){_t("Abstract method `toSVGPath` must be implemented.")}get box(){_t("Abstract getter `box` must be implemented.")}serialize(e,t){_t("Abstract method `serialize` must be implemented.")}static _rescale(e,t,s,a,r,l){l||=new Float32Array(e.length);for(let d=0,h=e.length;d<h;d+=2)l[d]=t+e[d]*a,l[d+1]=s+e[d+1]*r;return l}static _rescaleAndSwap(e,t,s,a,r,l){l||=new Float32Array(e.length);for(let d=0,h=e.length;d<h;d+=2)l[d]=t+e[d+1]*a,l[d+1]=s+e[d]*r;return l}static _translate(e,t,s,a){a||=new Float32Array(e.length);for(let r=0,l=e.length;r<l;r+=2)a[r]=t+e[r],a[r+1]=s+e[r+1];return a}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,s,a,r){switch(r){case 90:return[1-t/s,e/a];case 180:return[1-e/s,1-t/a];case 270:return[t/s,1-e/a];default:return[e/s,t/a]}}static _normalizePagePoint(e,t,s){switch(s){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,s,a,r,l){return[(e+5*s)/6,(t+5*a)/6,(5*s+r)/6,(5*a+l)/6,(s+r)/2,(a+l)/2]}}class Za{#e;#t=[];#s;#n;#i=[];#o=new Float32Array(18);#a;#r;#c;#l;#h;#u;#f=[];static#g=8;static#p=2;static#d=Za.#g+Za.#p;constructor({x:e,y:t},s,a,r,l,d=0){this.#e=s,this.#u=r*a,this.#n=l,this.#o.set([NaN,NaN,NaN,NaN,e,t],6),this.#s=d,this.#l=Za.#g*a,this.#c=Za.#d*a,this.#h=a,this.#f.push(e,t)}isEmpty(){return isNaN(this.#o[8])}#m(){const e=this.#o.subarray(4,6),t=this.#o.subarray(16,18),[s,a,r,l]=this.#e;return[(this.#a+(e[0]-t[0])/2-s)/r,(this.#r+(e[1]-t[1])/2-a)/l,(this.#a+(t[0]-e[0])/2-s)/r,(this.#r+(t[1]-e[1])/2-a)/l]}add({x:e,y:t}){this.#a=e,this.#r=t;const[s,a,r,l]=this.#e;let[d,h,p,g]=this.#o.subarray(8,12);const m=e-p,v=t-g,w=Math.hypot(m,v);if(w<this.#c)return!1;const A=w-this.#l,S=A/w,E=S*m,C=S*v;let _=d,N=h;d=p,h=g,p+=E,g+=C,this.#f?.push(e,t);const j=-C/A,M=E/A,L=j*this.#u,O=M*this.#u;return this.#o.set(this.#o.subarray(2,8),0),this.#o.set([p+L,g+O],4),this.#o.set(this.#o.subarray(14,18),12),this.#o.set([p-L,g-O],16),isNaN(this.#o[6])?(this.#i.length===0&&(this.#o.set([d+L,h+O],2),this.#i.push(NaN,NaN,NaN,NaN,(d+L-s)/r,(h+O-a)/l),this.#o.set([d-L,h-O],14),this.#t.push(NaN,NaN,NaN,NaN,(d-L-s)/r,(h-O-a)/l)),this.#o.set([_,N,d,h,p,g],6),!this.isEmpty()):(this.#o.set([_,N,d,h,p,g],6),Math.abs(Math.atan2(N-h,_-d)-Math.atan2(C,E))<Math.PI/2?([d,h,p,g]=this.#o.subarray(2,6),this.#i.push(NaN,NaN,NaN,NaN,((d+p)/2-s)/r,((h+g)/2-a)/l),[d,h,_,N]=this.#o.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((_+d)/2-s)/r,((N+h)/2-a)/l),!0):([_,N,d,h,p,g]=this.#o.subarray(0,6),this.#i.push(((_+5*d)/6-s)/r,((N+5*h)/6-a)/l,((5*d+p)/6-s)/r,((5*h+g)/6-a)/l,((d+p)/2-s)/r,((h+g)/2-a)/l),[p,g,d,h,_,N]=this.#o.subarray(12,18),this.#t.push(((_+5*d)/6-s)/r,((N+5*h)/6-a)/l,((5*d+p)/6-s)/r,((5*h+g)/6-a)/l,((d+p)/2-s)/r,((h+g)/2-a)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#i,t=this.#t;if(isNaN(this.#o[6])&&!this.isEmpty())return this.#x();const s=[];s.push(`M${e[4]} ${e[5]}`);for(let a=6;a<e.length;a+=6)isNaN(e[a])?s.push(`L${e[a+4]} ${e[a+5]}`):s.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);this.#v(s);for(let a=t.length-6;a>=6;a-=6)isNaN(t[a])?s.push(`L${t[a+4]} ${t[a+5]}`):s.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);return this.#y(s),s.join(" ")}#x(){const[e,t,s,a]=this.#e,[r,l,d,h]=this.#m();return`M${(this.#o[2]-e)/s} ${(this.#o[3]-t)/a} L${(this.#o[4]-e)/s} ${(this.#o[5]-t)/a} L${r} ${l} L${d} ${h} L${(this.#o[16]-e)/s} ${(this.#o[17]-t)/a} L${(this.#o[14]-e)/s} ${(this.#o[15]-t)/a} Z`}#y(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#v(e){const[t,s,a,r]=this.#e,l=this.#o.subarray(4,6),d=this.#o.subarray(16,18),[h,p,g,m]=this.#m();e.push(`L${(l[0]-t)/a} ${(l[1]-s)/r} L${h} ${p} L${g} ${m} L${(d[0]-t)/a} ${(d[1]-s)/r}`)}newFreeDrawOutline(e,t,s,a,r,l){return new Q2(e,t,s,a,r,l)}getOutlines(){const e=this.#i,t=this.#t,s=this.#o,[a,r,l,d]=this.#e,h=new Float32Array((this.#f?.length??0)+2);for(let m=0,v=h.length-2;m<v;m+=2)h[m]=(this.#f[m]-a)/l,h[m+1]=(this.#f[m+1]-r)/d;if(h[h.length-2]=(this.#a-a)/l,h[h.length-1]=(this.#r-r)/d,isNaN(s[6])&&!this.isEmpty())return this.#E(h);const p=new Float32Array(this.#i.length+24+this.#t.length);let g=e.length;for(let m=0;m<g;m+=2){if(isNaN(e[m])){p[m]=p[m+1]=NaN;continue}p[m]=e[m],p[m+1]=e[m+1]}g=this.#b(p,g);for(let m=t.length-6;m>=6;m-=6)for(let v=0;v<6;v+=2){if(isNaN(t[m+v])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=t[m+v],p[g+1]=t[m+v+1],g+=2}return this.#A(p,g),this.newFreeDrawOutline(p,h,this.#e,this.#h,this.#s,this.#n)}#E(e){const t=this.#o,[s,a,r,l]=this.#e,[d,h,p,g]=this.#m(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(t[2]-s)/r,(t[3]-a)/l,NaN,NaN,NaN,NaN,(t[4]-s)/r,(t[5]-a)/l,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(t[16]-s)/r,(t[17]-a)/l,NaN,NaN,NaN,NaN,(t[14]-s)/r,(t[15]-a)/l],0),this.newFreeDrawOutline(m,e,this.#e,this.#h,this.#s,this.#n)}#A(e,t){const s=this.#t;return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6}#b(e,t){const s=this.#o.subarray(4,6),a=this.#o.subarray(16,18),[r,l,d,h]=this.#e,[p,g,m,v]=this.#m();return e.set([NaN,NaN,NaN,NaN,(s[0]-r)/d,(s[1]-l)/h,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,m,v,NaN,NaN,NaN,NaN,(a[0]-r)/d,(a[1]-l)/h],t),t+=24}}class Q2 extends Ce{#e;#t=new Float32Array(4);#s;#n;#i;#o;#a;constructor(e,t,s,a,r,l){super(),this.#a=e,this.#i=t,this.#e=s,this.#o=a,this.#s=r,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#r(l);const[d,h,p,g]=this.#t;for(let m=0,v=e.length;m<v;m+=2)e[m]=(e[m]-d)/p,e[m+1]=(e[m+1]-h)/g;for(let m=0,v=t.length;m<v;m+=2)t[m]=(t[m]-d)/p,t[m+1]=(t[m+1]-h)/g}toSVGPath(){const e=[`M${this.#a[4]} ${this.#a[5]}`];for(let t=6,s=this.#a.length;t<s;t+=6){if(isNaN(this.#a[t])){e.push(`L${this.#a[t+4]} ${this.#a[t+5]}`);continue}e.push(`C${this.#a[t]} ${this.#a[t+1]} ${this.#a[t+2]} ${this.#a[t+3]} ${this.#a[t+4]} ${this.#a[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,s,a],r){const l=s-e,d=a-t;let h,p;switch(r){case 0:h=Ce._rescale(this.#a,e,a,l,-d),p=Ce._rescale(this.#i,e,a,l,-d);break;case 90:h=Ce._rescaleAndSwap(this.#a,e,t,l,d),p=Ce._rescaleAndSwap(this.#i,e,t,l,d);break;case 180:h=Ce._rescale(this.#a,s,t,-l,d),p=Ce._rescale(this.#i,s,t,-l,d);break;case 270:h=Ce._rescaleAndSwap(this.#a,s,a,-l,-d),p=Ce._rescaleAndSwap(this.#i,s,a,-l,-d);break}return{outline:Array.from(h),points:[Array.from(p)]}}#r(e){const t=this.#a;let s=t[4],a=t[5];const r=[s,a,s,a];let l=s,d=a,h=s,p=a;const g=e?Math.max:Math.min,m=new Float32Array(4);for(let w=6,A=t.length;w<A;w+=6){const S=t[w+4],E=t[w+5];isNaN(t[w])?(Ee.pointBoundingBox(S,E,r),d>E?(l=S,d=E):d===E&&(l=g(l,S)),p<E?(h=S,p=E):p===E&&(h=g(h,S))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,Ee.bezierBoundingBox(s,a,...t.slice(w,w+6),m),Ee.rectBoundingBox(m[0],m[1],m[2],m[3],r),d>m[1]?(l=m[0],d=m[1]):d===m[1]&&(l=g(l,m[0])),p<m[3]?(h=m[2],p=m[3]):p===m[3]&&(h=g(h,m[2]))),s=S,a=E}const v=this.#t;v[0]=r[0]-this.#s,v[1]=r[1]-this.#s,v[2]=r[2]-r[0]+2*this.#s,v[3]=r[3]-r[1]+2*this.#s,this.firstPoint=[l,d],this.lastPoint=[h,p]}get box(){return this.#t}newOutliner(e,t,s,a,r,l=0){return new Za(e,t,s,a,r,l)}getNewOutline(e,t){const[s,a,r,l]=this.#t,[d,h,p,g]=this.#e,m=r*p,v=l*g,w=s*p+d,A=a*g+h,S=this.newOutliner({x:this.#i[0]*m+w,y:this.#i[1]*v+A},this.#e,this.#o,e,this.#n,t??this.#s);for(let E=2;E<this.#i.length;E+=2)S.add({x:this.#i[E]*m+w,y:this.#i[E+1]*v+A});return S.getOutlines()}}class Pm{#e;#t;#s;#n=[];#i=[];constructor(e,t=0,s=0,a=!0){const r=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:S,y:E,width:C,height:_}of e){const N=Math.floor((S-t)/l)*l,j=Math.ceil((S+C+t)/l)*l,M=Math.floor((E-t)/l)*l,L=Math.ceil((E+_+t)/l)*l,O=[N,M,L,!0],I=[j,M,L,!1];this.#n.push(O,I),Ee.rectBoundingBox(N,M,j,L,r)}const d=r[2]-r[0]+2*s,h=r[3]-r[1]+2*s,p=r[0]-s,g=r[1]-s;let m=a?-1/0:1/0,v=1/0;const w=this.#n.at(a?-1:-2),A=[w[0],w[2]];for(const S of this.#n){const[E,C,_,N]=S;!N&&a?C<v?(v=C,m=E):C===v&&(m=Math.max(m,E)):N&&!a&&(C<v?(v=C,m=E):C===v&&(m=Math.min(m,E))),S[0]=(E-p)/d,S[1]=(C-g)/h,S[2]=(_-g)/h}this.#e=new Float32Array([p,g,d,h]),this.#t=[m,v],this.#s=A}getOutlines(){this.#n.sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#l(t)),this.#r(t)):(this.#c(t),e.push(...this.#l(t)));return this.#o(e)}#o(e){const t=[],s=new Set;for(const l of e){const[d,h,p]=l;t.push([d,h,l],[d,p,l])}t.sort((l,d)=>l[1]-d[1]||l[0]-d[0]);for(let l=0,d=t.length;l<d;l+=2){const h=t[l][2],p=t[l+1][2];h.push(p),p.push(h),s.add(h),s.add(p)}const a=[];let r;for(;s.size>0;){const l=s.values().next().value;let[d,h,p,g,m]=l;s.delete(l);let v=d,w=h;for(r=[d,p],a.push(r);;){let A;if(s.has(g))A=g;else if(s.has(m))A=m;else break;s.delete(A),[d,h,p,g,m]=A,v!==d&&(r.push(v,w,d,w===h?h:p),v=d),w=w===h?p:h}r.push(v,w)}return new wL(a,this.#e,this.#t,this.#s)}#a(e){const t=this.#i;let s=0,a=t.length-1;for(;s<=a;){const r=s+a>>1,l=t[r][0];if(l===e)return r;l<e?s=r+1:a=r-1}return a+1}#r([,e,t]){const s=this.#a(e);this.#i.splice(s,0,[e,t])}#c([,e,t]){const s=this.#a(e);for(let a=s;a<this.#i.length;a++){const[r,l]=this.#i[a];if(r!==e)break;if(r===e&&l===t){this.#i.splice(a,1);return}}for(let a=s-1;a>=0;a--){const[r,l]=this.#i[a];if(r!==e)break;if(r===e&&l===t){this.#i.splice(a,1);return}}}#l(e){const[t,s,a]=e,r=[[t,s,a]],l=this.#a(a);for(let d=0;d<l;d++){const[h,p]=this.#i[d];for(let g=0,m=r.length;g<m;g++){const[,v,w]=r[g];if(!(p<=v||w<=h)){if(v>=h){if(w>p)r[g][1]=p;else{if(m===1)return[];r.splice(g,1),g--,m--}continue}r[g][2]=h,w>p&&r.push([t,p,w])}}}return r}}class wL extends Ce{#e;#t;constructor(e,t,s,a){super(),this.#t=e,this.#e=t,this.firstPoint=s,this.lastPoint=a}toSVGPath(){const e=[];for(const t of this.#t){let[s,a]=t;e.push(`M${s} ${a}`);for(let r=2;r<t.length;r+=2){const l=t[r],d=t[r+1];l===s?(e.push(`V${d}`),a=d):d===a&&(e.push(`H${l}`),s=l)}e.push("Z")}return e.join(" ")}serialize([e,t,s,a],r){const l=[],d=s-e,h=a-t;for(const p of this.#t){const g=new Array(p.length);for(let m=0;m<p.length;m+=2)g[m]=e+p[m]*d,g[m+1]=a-p[m+1]*h;l.push(g)}return l}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class jm extends Za{newFreeDrawOutline(e,t,s,a,r,l){return new SL(e,t,s,a,r,l)}}class SL extends Q2{newOutliner(e,t,s,a,r,l=0){return new jm(e,t,s,a,r,l)}}class $t extends Me{#e=null;#t=0;#s;#n=null;#i=null;#o=null;#a=null;#r=0;#c=null;#l=null;#h=null;#u=!1;#f=null;#g=null;#p=null;#d="";#m;#x="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Xe.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=$t.prototype;return Ze(this,"_keyboardManager",new hc([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||$t._defaultColor,this.#m=e.thickness||$t._defaultThickness,this.opacity=e.opacity||$t._defaultOpacity,this.#s=e.boxes||null,this.#x=e.methodOfCreation||"",this.#d=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#u=!0,this.#v(e),this.#S()):this.#s&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#a=e.focusNode,this.#r=e.focusOffset,this.#y(),this.#S(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#x}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#y(){const e=new Pm(this.#s,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new Pm(this.#s,.0025,.001,this._uiManager.direction==="ltr");this.#o=t.getOutlines();const{firstPoint:s}=this.#l;this.#f=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height];const{lastPoint:a}=this.#o;this.#g=[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]}#v({highlightOutlines:e,highlightId:t,clipPathId:s}){this.#l=e;const a=1.5;if(this.#o=e.getNewOutline(this.#m/2+a,.0025),t>=0)this.#h=t,this.#n=s,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#o.box,path:{d:this.#o.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:$t.#C(this.#l.box,(m-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:$t.#C(this.#o.box,m),path:{d:this.#o.toSVGPath()}})}const[r,l,d,h]=e.box;switch(this.rotation){case 0:this.x=r,this.y=l,this.width=d,this.height=h;break;case 90:{const[m,v]=this.parentDimensions;this.x=l,this.y=1-r,this.width=d*v/m,this.height=h*m/v;break}case 180:this.x=1-r,this.y=1-l,this.width=d,this.height=h;break;case 270:{const[m,v]=this.parentDimensions;this.x=1-l,this.y=r,this.width=d*v/m,this.height=h*m/v;break}}const{firstPoint:p}=e;this.#f=[(p[0]-r)/d,(p[1]-l)/h];const{lastPoint:g}=this.#o;this.#g=[(g[0]-r)/d,(g[1]-l)/h]}static initialize(e,t){Me.initialize(e,t),$t._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case at.HIGHLIGHT_COLOR:$t._defaultColor=t;break;case at.HIGHLIGHT_THICKNESS:$t._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(e,t){switch(e){case at.HIGHLIGHT_COLOR:this.#E(t);break;case at.HIGHLIGHT_THICKNESS:this.#A(t);break}}static get defaultPropertiesToUpdate(){return[[at.HIGHLIGHT_COLOR,$t._defaultColor],[at.HIGHLIGHT_THICKNESS,$t._defaultThickness]]}get propertiesToUpdate(){return[[at.HIGHLIGHT_COLOR,this.color||$t._defaultColor],[at.HIGHLIGHT_THICKNESS,this.#m||$t._defaultThickness],[at.HIGHLIGHT_FREE,this.#u]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#i?.updateColor(this.color),super.onUpdatedColor()}#E(e){const t=(r,l)=>{this.color=r,this.opacity=l,this.onUpdatedColor()},s=this.color,a=this.opacity;this.addCommands({cmd:t.bind(this,e,$t._defaultOpacity),undo:t.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:at.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#A(e){const t=this.#m,s=a=>{this.#m=a,this.#b(a)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:at.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#i=new ns({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#P())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#P())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#_(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#S(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#_():e&&(this.#S(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#b(e){this.#u&&(this.#v({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#_(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#S(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#u},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#o.box,path:{d:this.#o.toSVGPath()}},this.#u),this.#c&&(this.#c.style.clipPath=this.#n))}static#C([e,t,s,a],r){switch(r){case 90:return[1-t-a,e,a,s];case 180:return[1-e-s,1-t-a,s,a];case 270:return[t,1-e-s,a,s]}return[e,t,s,a]}rotate(e){const{drawLayer:t}=this.parent;let s;this.#u?(e=(e-this.rotation+360)%360,s=$t.#C(this.#l.box,e)):s=$t.#C([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#h,{bbox:s,root:{"data-main-rotation":e}}),t.updateProperties(this.#p,{bbox:$t.#C(this.#o.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#d&&(e.setAttribute("aria-label",this.#d),e.setAttribute("role","mark")),this.#u?e.classList.add("free"):this.div.addEventListener("keydown",this.#j.bind(this),{signal:this._uiManager._signal});const t=this.#c=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#n,this.setDims(this.width,this.height),T2(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#j(e){$t._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#N(!0);break;case 1:case 3:this.#N(!1);break}}#N(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#a,this.#r)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#N(!1))}get _mustFixPosition(){return!this.#u}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#P(){return this.#u?this.rotation:0}#B(){if(this.#u)return null;const[e,t]=this.pageDimensions,[s,a]=this.pageTranslation,r=this.#s,l=new Float32Array(r.length*8);let d=0;for(const{x:h,y:p,width:g,height:m}of r){const v=h*e+s,w=(1-p)*t+a;l[d]=l[d+4]=v,l[d+1]=l[d+3]=w,l[d+2]=l[d+6]=v+g*e,l[d+5]=l[d+7]=w-m*t,d+=8}return l}#k(e){return this.#l.serialize(e,this.#P())}static startHighlighting(e,t,{target:s,x:a,y:r}){const{x:l,y:d,width:h,height:p}=s.getBoundingClientRect(),g=new AbortController,m=e.combinedSignal(g),v=w=>{g.abort(),this.#I(e,w)};window.addEventListener("blur",v,{signal:m}),window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("pointerdown",Ot,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",is,{signal:m}),s.addEventListener("pointermove",this.#M.bind(this,e),{signal:m}),this._freeHighlight=new jm({x:a,y:r},[l,d,h,p],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#M(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#I(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,s){let a=null;if(e instanceof X2){const{data:{quadPoints:A,rect:S,rotation:E,id:C,color:_,opacity:N,popupRef:j,richText:M,contentsObj:L,creationDate:O,modificationDate:I},parent:{page:{pageNumber:z}}}=e;a=e={annotationType:Xe.HIGHLIGHT,color:Array.from(_),opacity:N,quadPoints:A,boxes:null,pageIndex:z-1,rect:S.slice(0),rotation:E,annotationElementId:C,id:C,deleted:!1,popupRef:j,richText:M,comment:L?.str||null,creationDate:O,modificationDate:I}}else if(e instanceof Fg){const{data:{inkLists:A,rect:S,rotation:E,id:C,color:_,borderStyle:{rawWidth:N},popupRef:j,richText:M,contentsObj:L,creationDate:O,modificationDate:I},parent:{page:{pageNumber:z}}}=e;a=e={annotationType:Xe.HIGHLIGHT,color:Array.from(_),thickness:N,inkLists:A,boxes:null,pageIndex:z-1,rect:S.slice(0),rotation:E,annotationElementId:C,id:C,deleted:!1,popupRef:j,richText:M,comment:L?.str||null,creationDate:O,modificationDate:I}}const{color:r,quadPoints:l,inkLists:d,opacity:h}=e,p=await super.deserialize(e,t,s);p.color=Ee.makeHexColor(...r),p.opacity=h||1,d&&(p.#m=e.thickness),p._initialData=a,e.comment&&p.setCommentData(e);const[g,m]=p.pageDimensions,[v,w]=p.pageTranslation;if(l){const A=p.#s=[];for(let S=0;S<l.length;S+=8)A.push({x:(l[S]-v)/g,y:1-(l[S+1]-w)/m,width:(l[S+2]-l[S])/g,height:(l[S+1]-l[S+5])/m});p.#y(),p.#S(),p.rotate(p.rotation)}else if(d){p.#u=!0;const A=d[0],S={x:A[0]-v,y:m-(A[1]-w)},E=new jm(S,[0,0,g,m],1,p.#m/2,!0,.001);for(let N=0,j=A.length;N<j;N+=2)S.x=A[N]-v,S.y=m-(A[N+1]-w),E.add(S);const{id:C,clipPathId:_}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:p.color,"fill-opacity":p._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);p.#v({highlightOutlines:E.getOutlines(),highlightId:C,clipPathId:_}),p.#S(),p.rotate(p.parentRotation)}return p}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=Me._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),s=super.serialize(e);return Object.assign(s,{color:t,opacity:this.opacity,thickness:this.#m,quadPoints:this.#B(),outlines:this.#k(s.rect)}),this.addComment(s),this.annotationElementId&&!this.#O(s)?null:(s.id=this.annotationElementId,s)}#O(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((s,a)=>s!==t[a])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class Z2{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,s]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,s)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){_t("Not implemented")}}class Ve extends Me{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#s=null;static#n=null;static#i=null;static#o=NaN;static#a=null;static#r=null;static#c=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#l(e),this.#f())}#l({drawOutlines:e,drawId:t,drawingOptions:s}){this.#e=e,this._drawingOptions||=s,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#h(e,this.parent),this.#d(e.box)}#h(e,t){const{id:s}=t.drawLayer.draw(Ve._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return s}static _mergeSVGProperties(e,t){const s=new Set(Object.keys(e));for(const[a,r]of Object.entries(t))s.has(a)?Object.assign(e[a],r):e[a]=r;return e}static getDefaultDrawingOptions(e){_t("Not implemented")}static get typesMap(){_t("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const s=this.typesMap.get(e);s&&this._defaultDrawingOptions.updateProperty(s,t),this._currentParent&&(Ve.#s.updateProperty(s,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const s=this.constructor.typesMap.get(e);s&&this._updateProperty(e,s,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[s,a]of this.typesMap)e.push([s,t[a]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[s,a]of this.constructor.typesMap)e.push([s,t[a]]);return e}_updateProperty(e,t,s){const a=this._drawingOptions,r=a[t],l=d=>{a.updateProperty(t,d);const h=this.#e.updateProperty(t,d);h&&this.#d(h),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,s),undo:l.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#u()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#e,e)}}#g([e,t,s,a]){const{parentDimensions:[r,l],rotation:d}=this;switch(d){case 90:return[t,1-e,s*(l/r),a*(r/l)];case 180:return[1-e,1-t,s,a];case 270:return[1-t,e,s*(l/r),a*(r/l)];default:return[e,t,s,a]}}#p(){const{x:e,y:t,width:s,height:a,parentDimensions:[r,l],rotation:d}=this;switch(d){case 90:return[1-t,e,s*(r/l),a*(l/r)];case 180:return[1-e,1-t,s,a];case 270:return[t,1-e,s*(r/l),a*(l/r)];default:return[e,t,s,a]}}#d(e){[this.x,this.y,this.width,this.height]=this.#g(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:e,y:t,width:s,height:a,rotation:r,parentRotation:l,parentDimensions:[d,h]}=this;switch((r*4+l)/90){case 1:return[1-t-a,e,a,s];case 2:return[1-e-s,1-t-a,s,a];case 3:return[t,1-e-s,a,s];case 4:return[e,t-s*(d/h),a*(h/d),s*(d/h)];case 5:return[1-t,e,s*(d/h),a*(h/d)];case 6:return[1-e-a*(h/d),1-t,a*(h/d),s*(d/h)];case 7:return[t-s*(d/h),1-e-a*(h/d),s*(d/h),a*(h/d)];case 8:return[e-s,t-a,s,a];case 9:return[1-t,e-s,a,s];case 10:return[1-e,1-t,s,a];case 11:return[t-a,1-e,a,s];case 12:return[e-a*(h/d),t,a*(h/d),s*(d/h)];case 13:return[1-t-s*(d/h),e-a*(h/d),s*(d/h),a*(h/d)];case 14:return[1-e,1-t-s*(d/h),a*(h/d),s*(d/h)];case 15:return[t,1-e,s*(d/h),a*(h/d)];default:return[e,t,s,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const s=super.render();s.classList.add("draw");const a=document.createElement("div");return s.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),s}static createDrawerInstance(e,t,s,a,r){_t("Not implemented")}static startDrawing(e,t,s,a){const{target:r,offsetX:l,offsetY:d,pointerId:h,pointerType:p}=a;if(Ve.#a&&Ve.#a!==p)return;const{viewport:{rotation:g}}=e,{width:m,height:v}=r.getBoundingClientRect(),w=Ve.#n=new AbortController,A=e.combinedSignal(w);if(Ve.#o||=h,Ve.#a??=p,window.addEventListener("pointerup",S=>{Ve.#o===S.pointerId?this._endDraw(S):Ve.#r?.delete(S.pointerId)},{signal:A}),window.addEventListener("pointercancel",S=>{Ve.#o===S.pointerId?this._currentParent.endDrawingSession():Ve.#r?.delete(S.pointerId)},{signal:A}),window.addEventListener("pointerdown",S=>{Ve.#a===S.pointerType&&((Ve.#r||=new Set).add(S.pointerId),Ve.#s.isCancellable()&&(Ve.#s.removeLastElement(),Ve.#s.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",is,{signal:A}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:A}),r.addEventListener("touchmove",S=>{S.timeStamp===Ve.#c&&Ot(S)},{signal:A}),e.toggleDrawing(),t._editorUndoBar?.hide(),Ve.#s){e.drawLayer.updateProperties(this._currentDrawId,Ve.#s.startNew(l,d,m,v,g));return}t.updateUIForDefaultProperties(this),Ve.#s=this.createDrawerInstance(l,d,m,v,g),Ve.#i=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Ve.#i.toSVGProperties(),Ve.#s.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Ve.#c=-1,!Ve.#s)return;const{offsetX:t,offsetY:s,pointerId:a}=e;if(Ve.#o===a){if(Ve.#r?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Ve.#s.add(t,s)),Ve.#c=e.timeStamp,Ot(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Ve.#s=null,Ve.#i=null,Ve.#a=null,Ve.#c=NaN),Ve.#n&&(Ve.#n.abort(),Ve.#n=null,Ve.#o=NaN,Ve.#r=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Ve.#s.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const s=Ve.#s,a=this._currentDrawId,r=s.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(a,s.setLastElement(r))},undo:()=>{t.drawLayer.updateProperties(a,s.removeLastElement())},mustExec:!1,type:at.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(at.DRAW_STEP),!Ve.#s.isEmpty()){const{pageDimensions:[s,a],scale:r}=t,l=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Ve.#s.getOutlines(s*r,a*r,r,this._INNER_MARGIN),drawingOptions:Ve.#i,mustBeCommitted:!e});return this._cleanup(!0),l}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,s,a,r,l){_t("Not implemented")}static async deserialize(e,t,s){const{rawDims:{pageWidth:a,pageHeight:r,pageX:l,pageY:d}}=t.viewport,h=this.deserializeDraw(l,d,a,r,this._INNER_MARGIN,e),p=await super.deserialize(e,t,s);return p.createDrawingOptions(e),p.#l({drawOutlines:h}),p.#f(),p.onScaleChanging(),p.rotate(),p}serializeDraw(e){const[t,s]=this.pageTranslation,[a,r]=this.pageDimensions;return this.#e.serialize([t,s,a,r],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class AL{#e=new Float64Array(6);#t;#s;#n;#i;#o;#a="";#r=0;#c=new mc;#l;#h;constructor(e,t,s,a,r,l){this.#l=s,this.#h=a,this.#n=r,this.#i=l,[e,t]=this.#u(e,t);const d=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#o=[e,t],this.#s=[{line:d,points:this.#o}],this.#e.set(d,0)}updateProperty(e,t){e==="stroke-width"&&(this.#i=t)}#u(e,t){return Ce._normalizePoint(e,t,this.#l,this.#h,this.#n)}isEmpty(){return!this.#s||this.#s.length===0}isCancellable(){return this.#o.length<=10}add(e,t){[e,t]=this.#u(e,t);const[s,a,r,l]=this.#e.subarray(2,6),d=e-r,h=t-l;return Math.hypot(this.#l*d,this.#h*h)<=2?null:(this.#o.push(e,t),isNaN(s)?(this.#e.set([r,l,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([s,a,r,l,e,t],0),this.#t.push(...Ce.createBezierPoints(s,a,r,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const s=this.add(e,t);return s||(this.#o.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,s,a,r){this.#l=s,this.#h=a,this.#n=r,[e,t]=this.#u(e,t);const l=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#o=[e,t];const d=this.#s.at(-1);return d&&(d.line=new Float32Array(d.line),d.points=new Float32Array(d.points)),this.#s.push({line:l,points:this.#o}),this.#e.set(l,0),this.#r=0,this.toSVGPath(),null}getLastElement(){return this.#s.at(-1)}setLastElement(e){return this.#s?(this.#s.push(e),this.#t=e.line,this.#o=e.points,this.#r=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#s)return this.#c.removeLastElement();this.#s.pop(),this.#a="";for(let e=0,t=this.#s.length;e<t;e++){const{line:s,points:a}=this.#s[e];this.#t=s,this.#o=a,this.#r=0,this.toSVGPath()}return{path:{d:this.#a}}}toSVGPath(){const e=Ce.svgRound(this.#t[4]),t=Ce.svgRound(this.#t[5]);if(this.#o.length===2)return this.#a=`${this.#a} M ${e} ${t} Z`,this.#a;if(this.#o.length<=6){const a=this.#a.lastIndexOf("M");this.#a=`${this.#a.slice(0,a)} M ${e} ${t}`,this.#r=6}if(this.#o.length===4){const a=Ce.svgRound(this.#t[10]),r=Ce.svgRound(this.#t[11]);return this.#a=`${this.#a} L ${a} ${r}`,this.#r=12,this.#a}const s=[];this.#r===0&&(s.push(`M ${e} ${t}`),this.#r=6);for(let a=this.#r,r=this.#t.length;a<r;a+=6){const[l,d,h,p,g,m]=this.#t.slice(a,a+6).map(Ce.svgRound);s.push(`C${l} ${d} ${h} ${p} ${g} ${m}`)}return this.#a+=s.join(" "),this.#r=this.#t.length,this.#a}getOutlines(e,t,s,a){const r=this.#s.at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),this.#c.build(this.#s,e,t,s,this.#n,this.#i,a),this.#e=null,this.#t=null,this.#s=null,this.#a=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class mc extends Ce{#e;#t=0;#s;#n;#i;#o;#a;#r;#c;build(e,t,s,a,r,l,d){this.#i=t,this.#o=s,this.#a=a,this.#r=r,this.#c=l,this.#s=d??0,this.#n=e,this.#u()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#n){if(e.push(`M${Ce.svgRound(t[4])} ${Ce.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${Ce.svgRound(t[10])} ${Ce.svgRound(t[11])}`);continue}for(let s=6,a=t.length;s<a;s+=6){const[r,l,d,h,p,g]=t.subarray(s,s+6).map(Ce.svgRound);e.push(`C${r} ${l} ${d} ${h} ${p} ${g}`)}}return e.join("")}serialize([e,t,s,a],r){const l=[],d=[],[h,p,g,m]=this.#h();let v,w,A,S,E,C,_,N,j;switch(this.#r){case 0:j=Ce._rescale,v=e,w=t+a,A=s,S=-a,E=e+h*s,C=t+(1-p-m)*a,_=e+(h+g)*s,N=t+(1-p)*a;break;case 90:j=Ce._rescaleAndSwap,v=e,w=t,A=s,S=a,E=e+p*s,C=t+h*a,_=e+(p+m)*s,N=t+(h+g)*a;break;case 180:j=Ce._rescale,v=e+s,w=t,A=-s,S=a,E=e+(1-h-g)*s,C=t+p*a,_=e+(1-h)*s,N=t+(p+m)*a;break;case 270:j=Ce._rescaleAndSwap,v=e+s,w=t+a,A=-s,S=-a,E=e+(1-p-m)*s,C=t+(1-h-g)*a,_=e+(1-p)*s,N=t+(1-h)*a;break}for(const{line:M,points:L}of this.#n)l.push(j(M,v,w,A,S,r?new Array(M.length):null)),d.push(j(L,v,w,A,S,r?new Array(L.length):null));return{lines:l,points:d,rect:[E,C,_,N]}}static deserialize(e,t,s,a,r,{paths:{lines:l,points:d},rotation:h,thickness:p}){const g=[];let m,v,w,A,S;switch(h){case 0:S=Ce._rescale,m=-e/s,v=t/a+1,w=1/s,A=-1/a;break;case 90:S=Ce._rescaleAndSwap,m=-t/a,v=-e/s,w=1/a,A=1/s;break;case 180:S=Ce._rescale,m=e/s+1,v=-t/a,w=-1/s,A=1/a;break;case 270:S=Ce._rescaleAndSwap,m=t/a+1,v=e/s+1,w=-1/a,A=-1/s;break}if(!l){l=[];for(const C of d){const _=C.length;if(_===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,C[0],C[1]]));continue}if(_===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,C[0],C[1],NaN,NaN,NaN,NaN,C[2],C[3]]));continue}const N=new Float32Array(3*(_-2));l.push(N);let[j,M,L,O]=C.subarray(0,4);N.set([NaN,NaN,NaN,NaN,j,M],0);for(let I=4;I<_;I+=2){const z=C[I],$=C[I+1];N.set(Ce.createBezierPoints(j,M,L,O,z,$),(I-2)*3),[j,M,L,O]=[L,O,z,$]}}}for(let C=0,_=l.length;C<_;C++)g.push({line:S(l[C].map(N=>N??NaN),m,v,w,A),points:S(d[C].map(N=>N??NaN),m,v,w,A)});const E=new this.prototype.constructor;return E.build(g,s,a,1,h,p,r),E}#l(e=this.#c){const t=this.#s+e/2*this.#a;return this.#r%180===0?[t/this.#i,t/this.#o]:[t/this.#o,t/this.#i]}#h(){const[e,t,s,a]=this.#e,[r,l]=this.#l(0);return[e+r,t+l,s-2*r,a-2*l]}#u(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#n){if(a.length<=12){for(let d=4,h=a.length;d<h;d+=6)Ee.pointBoundingBox(a[d],a[d+1],e);continue}let r=a[4],l=a[5];for(let d=6,h=a.length;d<h;d+=6){const[p,g,m,v,w,A]=a.subarray(d,d+6);Ee.bezierBoundingBox(r,l,p,g,m,v,w,A,e),r=w,l=A}}const[t,s]=this.#l();e[0]=Nn(e[0]-t,0,1),e[1]=Nn(e[1]-s,0,1),e[2]=Nn(e[2]+t,0,1),e[3]=Nn(e[3]+s,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,s]=this.#l();this.#c=e;const[a,r]=this.#l(),[l,d]=[a-t,r-s],h=this.#e;return h[0]-=l,h[1]-=d,h[2]+=2*l,h[3]+=2*d,h}updateParentDimensions([e,t],s){const[a,r]=this.#l();this.#i=e,this.#o=t,this.#a=s;const[l,d]=this.#l(),h=l-a,p=d-r,g=this.#e;return g[0]-=h,g[1]-=p,g[2]+=2*h,g[3]+=2*p,g}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(Ce.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ce.svgRound(e)} ${Ce.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let s=0,a=0,r=0,l=0,d=0,h=0;switch(this.#t){case 90:a=t/e,r=-e/t,d=e;break;case 180:s=-1,l=-1,d=e,h=t;break;case 270:a=-t/e,r=e/t,h=t;break;default:return""}return`matrix(${s} ${a} ${r} ${l} ${Ce.svgRound(d)} ${Ce.svgRound(h)})`}getPathResizingSVGProperties([e,t,s,a]){const[r,l]=this.#l(),[d,h,p,g]=this.#e;if(Math.abs(p-r)<=Ce.PRECISION||Math.abs(g-l)<=Ce.PRECISION){const S=e+s/2-(d+p/2),E=t+a/2-(h+g/2);return{path:{"transform-origin":`${Ce.svgRound(e)} ${Ce.svgRound(t)}`,transform:`${this.rotationTransform} translate(${S} ${E})`}}}const m=(s-2*r)/(p-2*r),v=(a-2*l)/(g-2*l),w=p/s,A=g/a;return{path:{"transform-origin":`${Ce.svgRound(d)} ${Ce.svgRound(h)}`,transform:`${this.rotationTransform} scale(${w} ${A}) translate(${Ce.svgRound(r)} ${Ce.svgRound(l)}) scale(${m} ${v}) translate(${Ce.svgRound(-r)} ${Ce.svgRound(-l)})`}}}getPathResizedSVGProperties([e,t,s,a]){const[r,l]=this.#l(),d=this.#e,[h,p,g,m]=d;if(d[0]=e,d[1]=t,d[2]=s,d[3]=a,Math.abs(g-r)<=Ce.PRECISION||Math.abs(m-l)<=Ce.PRECISION){const E=e+s/2-(h+g/2),C=t+a/2-(p+m/2);for(const{line:_,points:N}of this.#n)Ce._translate(_,E,C,_),Ce._translate(N,E,C,N);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ce.svgRound(e)} ${Ce.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(s-2*r)/(g-2*r),w=(a-2*l)/(m-2*l),A=-v*(h+r)+e+r,S=-w*(p+l)+t+l;if(v!==1||w!==1||A!==0||S!==0)for(const{line:E,points:C}of this.#n)Ce._rescale(E,A,S,v,w,E),Ce._rescale(C,A,S,v,w,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ce.svgRound(e)} ${Ce.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],s){const[a,r]=s,l=this.#e,d=e-l[0],h=t-l[1];if(this.#i===a&&this.#o===r)for(const{line:p,points:g}of this.#n)Ce._translate(p,d,h,p),Ce._translate(g,d,h,g);else{const p=this.#i/a,g=this.#o/r;this.#i=a,this.#o=r;for(const{line:m,points:v}of this.#n)Ce._rescale(m,d,h,p,g,m),Ce._rescale(v,d,h,p,g,v);l[2]*=p,l[3]*=g}return l[0]=e,l[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Ce.svgRound(e)} ${Ce.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Ce.svgRound(e[0])} ${Ce.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class eh extends Z2{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Me._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new eh(this._viewParameters);return e.updateAll(this),e}}class Hg extends Ve{static _type="ink";static _editorType=Xe.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Me.initialize(e,t),this._defaultDrawingOptions=new eh(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ze(this,"typesMap",new Map([[at.INK_THICKNESS,"stroke-width"],[at.INK_COLOR,"stroke"],[at.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,s,a,r){return new AL(e,t,s,a,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,s,a,r,l){return mc.deserialize(e,t,s,a,r,l)}static async deserialize(e,t,s){let a=null;if(e instanceof Fg){const{data:{inkLists:l,rect:d,rotation:h,id:p,color:g,opacity:m,borderStyle:{rawWidth:v},popupRef:w,richText:A,contentsObj:S,creationDate:E,modificationDate:C},parent:{page:{pageNumber:_}}}=e;a=e={annotationType:Xe.INK,color:Array.from(g),thickness:v,opacity:m,paths:{points:l},boxes:null,pageIndex:_-1,rect:d.slice(0),rotation:h,annotationElementId:p,id:p,deleted:!1,popupRef:w,richText:A,comment:S?.str||null,creationDate:E,modificationDate:C}}const r=await super.deserialize(e,t,s);return r._initialData=a,e.comment&&r.setCommentData(e),r}get toolbarButtons(){return this._colorPicker||=new tc(this),[["colorPicker",this._colorPicker]]}get colorType(){return at.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:s}=this;t.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:s}){this._drawingOptions=Hg.getDefaultDrawingOptions({stroke:Ee.makeHexColor(...e),"stroke-width":t,"stroke-opacity":s})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:s}=this.serializeDraw(e),{_drawingOptions:{stroke:a,"stroke-opacity":r,"stroke-width":l}}=this,d=Object.assign(super.serialize(e),{color:Me._colorManager.convert(a),opacity:r,thickness:l,paths:{lines:t,points:s}});return this.addComment(d),e?(d.isCopy=!0,d):this.annotationElementId&&!this.#e(d)?null:(d.id=this.annotationElementId,d)}#e(e){const{color:t,thickness:s,opacity:a,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((l,d)=>l!==t[d])||e.thickness!==s||e.opacity!==a||e.pageIndex!==r}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:s}=this.serializeDraw(!1);return e.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class Dm extends mc{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Yd=8,Ol=3;class Ka{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,s,a){return s-=e,a-=t,s===0?a>0?0:4:s===1?a+6:2-a}static#s=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,t,s,a,r,l,d){const h=this.#t(s,a,r,l);for(let p=0;p<8;p++){const g=(-p+h-d+16)%8,m=this.#s[2*g],v=this.#s[2*g+1];if(e[(s+m)*t+(a+v)]!==0)return g}return-1}static#i(e,t,s,a,r,l,d){const h=this.#t(s,a,r,l);for(let p=0;p<8;p++){const g=(p+h+d+16)%8,m=this.#s[2*g],v=this.#s[2*g+1];if(e[(s+m)*t+(a+v)]!==0)return g}return-1}static#o(e,t,s,a){const r=e.length,l=new Int32Array(r);for(let g=0;g<r;g++)l[g]=e[g]<=a?1:0;for(let g=1;g<s-1;g++)l[g*t]=l[g*t+t-1]=0;for(let g=0;g<t;g++)l[g]=l[t*s-1-g]=0;let d=1,h;const p=[];for(let g=1;g<s-1;g++){h=1;for(let m=1;m<t-1;m++){const v=g*t+m,w=l[v];if(w===0)continue;let A=g,S=m;if(w===1&&l[v-1]===0)d+=1,S-=1;else if(w>=1&&l[v+1]===0)d+=1,S+=1,w>1&&(h=w);else{w!==1&&(h=Math.abs(w));continue}const E=[m,g],C=S===m+1,_={isHole:C,points:E,id:d,parent:0};p.push(_);let N;for(const Y of p)if(Y.id===h){N=Y;break}N?N.isHole?_.parent=C?N.parent:h:_.parent=C?h:N.parent:_.parent=C?h:0;const j=this.#n(l,t,g,m,A,S,0);if(j===-1){l[v]=-d,l[v]!==1&&(h=Math.abs(l[v]));continue}let M=this.#s[2*j],L=this.#s[2*j+1];const O=g+M,I=m+L;A=O,S=I;let z=g,$=m;for(;;){const Y=this.#i(l,t,z,$,A,S,1);M=this.#s[2*Y],L=this.#s[2*Y+1];const se=z+M,re=$+L;E.push(re,se);const ae=z*t+$;if(l[ae+1]===0?l[ae]=-d:l[ae]===1&&(l[ae]=d),se===g&&re===m&&z===O&&$===I){l[v]!==1&&(h=Math.abs(l[v]));break}else A=z,S=$,z=se,$=re}}}return p}static#a(e,t,s,a){if(s-t<=4){for(let O=t;O<s-2;O+=2)a.push(e[O],e[O+1]);return}const r=e[t],l=e[t+1],d=e[s-4]-r,h=e[s-3]-l,p=Math.hypot(d,h),g=d/p,m=h/p,v=g*l-m*r,w=h/d,A=1/p,S=Math.atan(w),E=Math.cos(S),C=Math.sin(S),_=A*(Math.abs(E)+Math.abs(C)),N=A*(1-_+_**2),j=Math.max(Math.atan(Math.abs(C+E)*N),Math.atan(Math.abs(C-E)*N));let M=0,L=t;for(let O=t+2;O<s-2;O+=2){const I=Math.abs(v-g*e[O+1]+m*e[O]);I>M&&(L=O,M=I)}M>(p*j)**2?(this.#a(e,t,L+2,a),this.#a(e,L,s,a)):a.push(r,l)}static#r(e){const t=[],s=e.length;return this.#a(e,0,s,t),t.push(e[s-2],e[s-1]),t.length<=4?null:t}static#c(e,t,s,a,r,l){const d=new Float32Array(l**2),h=-2*a**2,p=l>>1;for(let S=0;S<l;S++){const E=(S-p)**2;for(let C=0;C<l;C++)d[S*l+C]=Math.exp((E+(C-p)**2)/h)}const g=new Float32Array(256),m=-2*r**2;for(let S=0;S<256;S++)g[S]=Math.exp(S**2/m);const v=e.length,w=new Uint8Array(v),A=new Uint32Array(256);for(let S=0;S<s;S++)for(let E=0;E<t;E++){const C=S*t+E,_=e[C];let N=0,j=0;for(let L=0;L<l;L++){const O=S+L-p;if(!(O<0||O>=s))for(let I=0;I<l;I++){const z=E+I-p;if(z<0||z>=t)continue;const $=e[O*t+z],Y=d[L*l+I]*g[Math.abs($-_)];N+=$*Y,j+=Y}}const M=w[C]=Math.round(N/j);A[M]++}return[w,A]}static#l(e){const t=new Uint32Array(256);for(const s of e)t[s]++;return t}static#h(e){const t=e.length,s=new Uint8ClampedArray(t>>2);let a=-1/0,r=1/0;for(let d=0,h=s.length;d<h;d++){const p=s[d]=e[d<<2];a=Math.max(a,p),r=Math.min(r,p)}const l=255/(a-r);for(let d=0,h=s.length;d<h;d++)s[d]=(s[d]-r)*l;return s}static#u(e){let t,s=-1/0,a=-1/0;const r=e.findIndex(h=>h!==0);let l=r,d=r;for(t=r;t<256;t++){const h=e[t];h>s&&(t-l>a&&(a=t-l,d=t-1),s=h,l=t)}for(t=d-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:s,height:a}=e,{maxDim:r}=this.#e;let l=s,d=a;if(s>r||a>r){let v=s,w=a,A=Math.log2(Math.max(s,a)/r);const S=Math.floor(A);A=A===S?S-1:S;for(let C=0;C<A;C++){l=Math.ceil(v/2),d=Math.ceil(w/2);const _=new OffscreenCanvas(l,d);_.getContext("2d").drawImage(e,0,0,v,w,0,0,l,d),v=l,w=d,e!==t&&e.close(),e=_.transferToImageBitmap()}const E=Math.min(r/l,r/d);l=Math.round(l*E),d=Math.round(d*E)}const p=new OffscreenCanvas(l,d).getContext("2d",{willReadFrequently:!0});p.fillStyle="white",p.fillRect(0,0,l,d),p.filter="grayscale(1)",p.drawImage(e,0,0,e.width,e.height,0,0,l,d);const g=p.getImageData(0,0,l,d).data;return[this.#h(g),l,d]}static extractContoursFromText(e,{fontFamily:t,fontStyle:s,fontWeight:a},r,l,d,h){let p=new OffscreenCanvas(1,1),g=p.getContext("2d",{alpha:!1});const m=200,v=g.font=`${s} ${a} ${m}px ${t}`,{actualBoundingBoxLeft:w,actualBoundingBoxRight:A,actualBoundingBoxAscent:S,actualBoundingBoxDescent:E,fontBoundingBoxAscent:C,fontBoundingBoxDescent:_,width:N}=g.measureText(e),j=1.5,M=Math.ceil(Math.max(Math.abs(w)+Math.abs(A)||0,N)*j),L=Math.ceil(Math.max(Math.abs(S)+Math.abs(E)||m,Math.abs(C)+Math.abs(_)||m)*j);p=new OffscreenCanvas(M,L),g=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=v,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,M,L),g.fillStyle="black",g.fillText(e,M*(j-1)/2,L*(3-j)/2);const O=this.#h(g.getImageData(0,0,M,L).data),I=this.#l(O),z=this.#u(I),$=this.#o(O,M,L,z);return this.processDrawnLines({lines:{curves:$,width:M,height:L},pageWidth:r,pageHeight:l,rotation:d,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(e,t,s,a,r){const[l,d,h]=this.#f(e),[p,g]=this.#c(l,d,h,Math.hypot(d,h)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),m=this.#u(g),v=this.#o(p,d,h,m);return this.processDrawnLines({lines:{curves:v,width:d,height:h},pageWidth:t,pageHeight:s,rotation:a,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:a,innerMargin:r,mustSmooth:l,areContours:d}){a%180!==0&&([t,s]=[s,t]);const{curves:h,width:p,height:g}=e,m=e.thickness??0,v=[],w=Math.min(t/p,s/g),A=w/t,S=w/s,E=[];for(const{points:_}of h){const N=l?this.#r(_):_;if(!N)continue;E.push(N);const j=N.length,M=new Float32Array(j),L=new Float32Array(3*(j===2?2:j-2));if(v.push({line:L,points:M}),j===2){M[0]=N[0]*A,M[1]=N[1]*S,L.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[O,I,z,$]=N;O*=A,I*=S,z*=A,$*=S,M.set([O,I,z,$],0),L.set([NaN,NaN,NaN,NaN,O,I],0);for(let Y=4;Y<j;Y+=2){const se=M[Y]=N[Y]*A,re=M[Y+1]=N[Y+1]*S;L.set(Ce.createBezierPoints(O,I,z,$,se,re),(Y-2)*3),[O,I,z,$]=[z,$,se,re]}}if(v.length===0)return null;const C=d?new Dm:new mc;return C.build(v,t,s,1,a,d?0:m,r),{outline:C,newCurves:E,areContours:d,thickness:m,width:p,height:g}}static async compressSignature({outlines:e,areContours:t,thickness:s,width:a,height:r}){let l=1/0,d=-1/0,h=0;for(const N of e){h+=N.length;for(let j=2,M=N.length;j<M;j++){const L=N[j]-N[j-2];l=Math.min(l,L),d=Math.max(d,L)}}let p;l>=-128&&d<=127?p=Int8Array:l>=-32768&&d<=32767?p=Int16Array:p=Int32Array;const g=e.length,m=Yd+Ol*g,v=new Uint32Array(m);let w=0;v[w++]=m*Uint32Array.BYTES_PER_ELEMENT+(h-2*g)*p.BYTES_PER_ELEMENT,v[w++]=0,v[w++]=a,v[w++]=r,v[w++]=t?0:1,v[w++]=Math.max(0,Math.floor(s??0)),v[w++]=g,v[w++]=p.BYTES_PER_ELEMENT;for(const N of e)v[w++]=N.length-2,v[w++]=N[0],v[w++]=N[1];const A=new CompressionStream("deflate-raw"),S=A.writable.getWriter();await S.ready,S.write(v);const E=p.prototype.constructor;for(const N of e){const j=new E(N.length-2);for(let M=2,L=N.length;M<L;M++)j[M-2]=N[M]-N[M-2];S.write(j)}S.close();const C=await new Response(A.readable).arrayBuffer(),_=new Uint8Array(C);return y2(_)}static async decompressSignature(e){try{const t=X4(e),{readable:s,writable:a}=new DecompressionStream("deflate-raw"),r=a.getWriter();await r.ready,r.write(t).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let l=null,d=0;for await(const N of s)l||=new Uint8Array(new Uint32Array(N.buffer,0,4)[0]),l.set(N,d),d+=N.length;const h=new Uint32Array(l.buffer,0,l.length>>2),p=h[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const g=h[2],m=h[3],v=h[4]===0,w=h[5],A=h[6],S=h[7],E=[],C=(Yd+Ol*A)*Uint32Array.BYTES_PER_ELEMENT;let _;switch(S){case Int8Array.BYTES_PER_ELEMENT:_=new Int8Array(l.buffer,C);break;case Int16Array.BYTES_PER_ELEMENT:_=new Int16Array(l.buffer,C);break;case Int32Array.BYTES_PER_ELEMENT:_=new Int32Array(l.buffer,C);break}d=0;for(let N=0;N<A;N++){const j=h[Ol*N+Yd],M=new Float32Array(j+2);E.push(M);for(let L=0;L<Ol-1;L++)M[L]=h[Ol*N+Yd+L+1];for(let L=0;L<j;L++)M[L+2]=M[L]+_[d++]}return{areContours:v,thickness:w,outlines:E,width:g,height:m}}catch(t){return We(`decompressSignature: ${t}`),null}}}class Ug extends Z2{constructor(){super(),super.updateProperties({fill:Me._defaultLineColor,"stroke-width":0})}clone(){const e=new Ug;return e.updateAll(this),e}}class Vg extends eh{constructor(e){super(e),super.updateProperties({stroke:Me._defaultLineColor,"stroke-width":1})}clone(){const e=new Vg(this._viewParameters);return e.updateAll(this),e}}class Js extends Ve{#e=!1;#t=null;#s=null;#n=null;static _type="signature";static _editorType=Xe.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#s=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Me.initialize(e,t),this._defaultDrawingOptions=new Ug,this._defaultDrawnSignatureOptions=new Vg(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ze(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#s){const{lines:a,mustSmooth:r,areContours:l,description:d,uuid:h,heightInPage:p}=this.#s,{rawDims:{pageWidth:g,pageHeight:m},rotation:v}=this.parent.viewport,w=Ka.processDrawnLines({lines:a,pageWidth:g,pageHeight:m,rotation:v,innerMargin:Js._INNER_MARGIN,mustSmooth:r,areContours:l});this.addSignature(w,p,d,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return s&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:s,width:a,height:r}=this.#s,l=Math.max(a,r),d=Ka.processDrawnLines({lines:{curves:e.map(h=>({points:h})),thickness:s,width:a,height:r},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:d.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,s,a){const{x:r,y:l}=this,{outline:d}=this.#s=e;this.#e=d instanceof Dm,this.description=s;let h;this.#e?h=Js.getDefaultDrawingOptions():(h=Js._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":d.thickness})),this._addOutlines({drawOutlines:d,drawingOptions:h});const[,p]=this.pageDimensions;let g=t/p;g=g>=1?.5:g,this.width*=g/this.height,this.width>=1&&(g*=.9/this.width,this.width=.9),this.height=g,this.setDims(),this.x=r,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:s},rotation:a}=this.parent.viewport;return Ka.process(e,t,s,a,Js._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:s,pageHeight:a},rotation:r}=this.parent.viewport;return Ka.extractContoursFromText(e,t,s,a,r,Js._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:s},rotation:a}=this.parent.viewport;return Ka.processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:a,innerMargin:Js._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=Js.getDefaultDrawingOptions():(this._drawingOptions=Js._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:s}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":a}}=this,r=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:a});return this.addComment(r),e?(r.paths={lines:t,points:s},r.uuid=this.#n,r.isCopy=!0):r.lines=t,this.#t&&(r.accessibilityData={type:"Figure",alt:this.#t}),r}static deserializeDraw(e,t,s,a,r,l){return l.areContours?Dm.deserialize(e,t,s,a,r,l):mc.deserialize(e,t,s,a,r,l)}static async deserialize(e,t,s){const a=await super.deserialize(e,t,s);return a.#e=e.areContours,a.description=e.accessibilityData?.alt||"",a.#n=e.uuid,a}}class CL extends Me{#e=null;#t=null;#s=null;#n=null;#i=null;#o="";#a=null;#r=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Xe.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#i=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Me.initialize(e,t)}static isHandlingMimeForPasting(e){return yu.includes(e)}static paste(e,t){t.pasteEditor({mode:Xe.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#u(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#o=e.file.name),this.#p()}#f(){if(this.#s=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:r,height:l}=e||this.copyCanvas(null,null,!0).imageData,d=await s.guess({name:"altText",request:{data:a,width:r,height:l,channels:a.length/(r*l)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const h=d.output;return await this.setGuessedAltText(h),t&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(s=>this.#u(s,!0)).finally(()=>this.#f());return}if(this.#n){const s=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#s=this._uiManager.imageManager.getFromUrl(s).then(a=>this.#u(a)).finally(()=>this.#f());return}if(this.#i){const s=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#s=this._uiManager.imageManager.getFromFile(s).then(a=>this.#u(a)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=yu.join(",");const t=this._uiManager._signal;this.#s=new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(a)}s()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#a===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#s||this.#e||this.#n||this.#i||this.#t||this.#r)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#r||(this.#e?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:s,bitmap:a}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(this.#t=s,a&&(this.#e=a),this.#r=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},e)}#p(){const{div:e}=this;let{width:t,height:s}=this.#e;const[a,r]=this.pageDimensions,l=.75;if(this.width)t=this.width*a,s=this.height*r;else if(t>l*a||s>l*r){const h=Math.min(l*a/t,l*r/s);t*=h,s*=h}this._uiManager.enableWaiting(!1);const d=this.#a=document.createElement("canvas");d.setAttribute("role","img"),this.addContainer(d),this.width=t/a,this.height=s/r,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#o&&this.div.setAttribute("aria-description",this.#o),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,s=!1){e||(e=224);const{width:a,height:r}=this.#e,l=new zs;let d=this.#e,h=a,p=r,g=null;if(t){if(a>t||r>t){const L=Math.min(t/a,t/r);h=Math.floor(a*L),p=Math.floor(r*L)}g=document.createElement("canvas");const v=g.width=Math.ceil(h*l.sx),w=g.height=Math.ceil(p*l.sy);this.#l||(d=this.#d(v,w));const A=g.getContext("2d");A.filter=this._uiManager.hcmFilter;let S="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":Q4.isDarkMode&&(S="#8f8f9d",E="#42414d");const C=15,_=C*l.sx,N=C*l.sy,j=new OffscreenCanvas(_*2,N*2),M=j.getContext("2d");M.fillStyle=S,M.fillRect(0,0,_*2,N*2),M.fillStyle=E,M.fillRect(0,0,_,N),M.fillRect(_,N,_,N),A.fillStyle=A.createPattern(j,"repeat"),A.fillRect(0,0,v,w),A.drawImage(d,0,0,d.width,d.height,0,0,v,w)}let m=null;if(s){let v,w;if(l.symmetric&&d.width<e&&d.height<e)v=d.width,w=d.height;else if(d=this.#e,a>e||r>e){const E=Math.min(e/a,e/r);v=Math.floor(a*E),w=Math.floor(r*E),this.#l||(d=this.#d(v,w))}const S=new OffscreenCanvas(v,w).getContext("2d",{willReadFrequently:!0});S.drawImage(d,0,0,d.width,d.height,0,0,v,w),m={width:v,height:w,data:S.getImageData(0,0,v,w).data}}return{canvas:g,width:h,height:p,imageData:m}}#d(e,t){const{width:s,height:a}=this.#e;let r=s,l=a,d=this.#e;for(;r>2*e||l>2*t;){const h=r,p=l;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const g=new OffscreenCanvas(r,l);g.getContext("2d").drawImage(d,0,0,h,p,0,0,r,l),d=g.transferToImageBitmap()}return d}#m(){const[e,t]=this.parentDimensions,{width:s,height:a}=this,r=new zs,l=Math.ceil(s*e*r.sx),d=Math.ceil(a*t*r.sy),h=this.#a;if(!h||h.width===l&&h.height===d)return;h.width=l,h.height=d;const p=this.#l?this.#e:this.#d(l,d),g=h.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,l,d)}#x(e){if(e){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#t);if(a)return a}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,s]=this.pageDimensions,a=Math.round(this.width*t*ii.PDF_TO_CSS_UNITS),r=Math.round(this.height*s*ii.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(a,r);return l.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,a,r),l.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,s){let a=null,r=!1;if(e instanceof W2){const{data:{rect:S,rotation:E,id:C,structParent:_,popupRef:N,richText:j,contentsObj:M,creationDate:L,modificationDate:O},container:I,parent:{page:{pageNumber:z}},canvas:$}=e;let Y,se;$?(delete e.canvas,{id:Y,bitmap:se}=s.imageManager.getFromCanvas(I.id,$),$.remove()):(r=!0,e._hasNoCanvas=!0);const re=(await t._structTree.getAriaAttributes(`${Eg}${C}`))?.get("aria-label")||"";a=e={annotationType:Xe.STAMP,bitmapId:Y,bitmap:se,pageIndex:z-1,rect:S.slice(0),rotation:E,annotationElementId:C,id:C,deleted:!1,accessibilityData:{decorative:!1,altText:re},isSvg:!1,structParent:_,popupRef:N,richText:j,comment:M?.str||null,creationDate:L,modificationDate:O}}const l=await super.deserialize(e,t,s),{rect:d,bitmap:h,bitmapUrl:p,bitmapId:g,isSvg:m,accessibilityData:v}=e;r?(s.addMissingCanvas(e.id,l),l.#r=!0):g&&s.imageManager.isValidId(g)?(l.#t=g,h&&(l.#e=h)):l.#n=p,l.#l=m;const[w,A]=l.pageDimensions;return l.width=(d[2]-d[0])/w,l.height=(d[3]-d[1])/A,v&&(l.altTextData=v),l._initialData=a,e.comment&&l.setCommentData(e),l.#h=!!a,l}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(s),e)return s.bitmapUrl=this.#x(!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:a,altText:r}=this.serializeAltText(!1);if(!a&&r&&(s.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const d=this.#y(s);return d.isSame?null:(d.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1,s.id=this.annotationElementId,delete s.bitmapId,s)}if(t===null)return s;t.stamps||=new Map;const l=this.#l?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:l,serialized:s}),s.bitmap=this.#x(!1);else if(this.#l){const d=t.stamps.get(this.#t);l>d.area&&(d.area=l,d.serialized.bitmap.close(),d.serialized.bitmap=this.#x(!1))}return s}#y(e){const{pageIndex:t,accessibilityData:{altText:s}}=this._initialData,a=e.pageIndex===t,r=(e.accessibilityData?.alt||"")===s;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&r,isSameAltText:r}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class to{#e;#t=!1;#s=null;#n=null;#i=null;#o=new Map;#a=!1;#r=!1;#c=!1;#l=null;#h=null;#u=null;#f=null;#g=null;#p=-1;#d;static _initialized=!1;static#m=new Map([un,Hg,CL,$t,Js].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:a,accessibilityManager:r,annotationLayer:l,drawLayer:d,textLayer:h,viewport:p,l10n:g}){const m=[...to.#m.values()];if(!to._initialized){to._initialized=!0;for(const v of m)v.initialize(g,e)}e.registerEditorTypes(m),this.#d=e,this.pageIndex=t,this.div=s,this.#e=r,this.#s=l,this.viewport=p,this.#u=h,this.drawLayer=d,this._structTree=a,this.#d.addLayer(this)}get isEmpty(){return this.#o.size===0}get isInvisible(){return this.isEmpty&&this.#d.getMode()===Xe.NONE}updateToolbar(e){this.#d.updateToolbar(e)}updateMode(e=this.#d.getMode()){switch(this.#b(),e){case Xe.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Xe.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Xe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Xe.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const s of to.#m.values())t.toggle(`${s._type}Editing`,e===s._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#u?.div}setEditingState(e){this.#d.setEditingState(e)}addCommands(e){this.#d.addCommands(e)}cleanUndoStack(e){this.#d.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#s?.div.classList.toggle("disabled",!e)}get#x(){return this.#o.size!==0?this.#o.values():this.#d.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const s of this.#x)s.enableEditing(),s.show(!0),s.annotationElementId&&(this.#d.removeChangedExistingAnnotation(s),e.add(s.annotationElementId));const t=this.#s;if(t)for(const s of t.getEditableAnnotations()){if(s.hide(),this.#d.isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const a=await this.deserialize(s);a&&(this.addOrRebuild(a),a.enableEditing())}this.#c=!1,this.#d._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#r=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#u&&!this.#g){this.#g=new AbortController;const s=this.#d.combinedSignal(this.#g);this.#u.div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:d,timeStamp:h}=a,p=this.#p;if(h-p>500){this.#p=h;return}this.#p=-1;const{classList:g}=this.div;g.toggle("getElements",!0);const m=document.elementsFromPoint(l,d);if(g.toggle("getElements",!1),!this.div.contains(m[0]))return;let v;const w=new RegExp(`^${Ql}[0-9]+$`);for(const S of m)if(w.test(S.id)){v=S.id;break}if(!v)return;const A=this.#o.get(v);A?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),A.dblclick(a))},{signal:s,capture:!0})}const e=this.#s;if(e){const s=new Map,a=new Map;for(const l of this.#x){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(e);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const r=e.getEditableAnnotations();for(const l of r){const{id:d}=l.data;if(this.#d.isDeletedAnnotationElement(d)){l.updateEdited({deleted:!0});continue}let h=a.get(d);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=s.get(d),h&&(this.#d.addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const s of to.#m.values())t.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#r=!1}getEditableAnnotation(e){return this.#s?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#d.getActive()!==e&&this.#d.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const e=this.#d.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#y.bind(this),{signal:e}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#y(e){this.#d.unselectAll();const{target:t}=e;if(t===this.#u.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#u.div.contains(t)){const{isMac:s}=pn.platform;if(e.button!==0||e.ctrlKey&&s)return;this.#d.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),$t.startHighlighting(this,this.#d.direction==="ltr",{target:this.#u.div,x:e.x,y:e.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#d._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#d.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#o.set(e.id,e);const{annotationElementId:t}=e;t&&this.#d.isDeletedAnnotationElement(t)&&this.#d.removeDeletedAnnotationElement(e)}detach(e){this.#o.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#r&&e.annotationElementId&&this.#d.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#d.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#d.addDeletedAnnotationElement(e.annotationElementId),Me.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#d.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#d.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#i&&(e._focusEventsAllowed=!1,this.#i=setTimeout(()=>{this.#i=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#d._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getEditorByUID(e){for(const t of this.#o.values())if(t.uid===e)return t;return null}getNextId(){return this.#d.getId()}get#v(){return to.#m.get(this.#d.getMode())}combinedSignal(e){return this.#d.combinedSignal(e)}#E(e){const t=this.#v;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#d.updateMode(e.mode);const{offsetX:s,offsetY:a}=this.#A(),r=this.getNextId(),l=this.#E({parent:this,id:r,x:s,y:a,uiManager:this.#d,isCentered:!0,...t});l&&this.add(l)}async deserialize(e){return await to.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#d)||null}createAndAddNewEditor(e,t,s={}){const a=this.getNextId(),r=this.#E({parent:this,id:a,x:e.offsetX,y:e.offsetY,uiManager:this.#d,isCentered:t,...s});return r&&this.add(r),r}get boundingClientRect(){return this.div.getBoundingClientRect()}#A(){const{x:e,y:t,width:s,height:a}=this.boundingClientRect,r=Math.max(0,e),l=Math.max(0,t),d=Math.min(window.innerWidth,e+s),h=Math.min(window.innerHeight,t+a),p=(r+d)/2-e,g=(l+h)/2-t,[m,v]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:m,offsetY:v}}addNewEditor(e={}){this.createAndAddNewEditor(this.#A(),!0,e)}setSelected(e){this.#d.setSelected(e)}toggleSelected(e){this.#d.toggleSelected(e)}unselect(e){this.#d.unselect(e)}pointerup(e){const{isMac:t}=pn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#a||(this.#a=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const s=this.#d.getMode();if(s===Xe.STAMP||s===Xe.SIGNATURE){this.#d.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#d.getMode()===Xe.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}const{isMac:t}=pn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#a=!0,this.#v?.isDrawer){this.startDrawingSession(e);return}const s=this.#d.getActive();this.#t=!s||s.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#d,!1,e);return}this.#d.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#d.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(this.#h=null,this.commitOrRemove())},{signal:t}),this.#v.startDrawing(this,this.#d,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#h=t);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#d.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#v.endDrawing(e)):null}findNewParent(e,t,s){const a=this.#d.findParent(t,s);return a===null||a===this?!1:(a.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#d.getActive()?.parent===this&&(this.#d.commitOrRemove(),this.#d.setActiveEditor(null)),this.#i&&(clearTimeout(this.#i),this.#i=null);for(const e of this.#o.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#o.clear(),this.#d.removeLayer(this)}#b(){for(const e of this.#o.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,_a(this.div,e);for(const t of this.#d.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#d.commitOrRemove(),this.#b();const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,_a(this.div,{rotation:s}),t!==s)for(const a of this.#o.values())a.rotate(s)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#d.viewParameters.realScale}}class hn{#e=null;#t=new Map;#s=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return Ze(this,"_svgFactory",new nc)}static#i(e,[t,s,a,r]){const{style:l}=e;l.top=`${100*s}%`,l.left=`${100*t}%`,l.width=`${100*a}%`,l.height=`${100*r}%`}#o(){const e=hn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#a(e,t){const s=hn._svgFactory.createElement("clipPath");e.append(s);const a=`clip_${t}`;s.setAttribute("id",a),s.setAttribute("clipPathUnits","objectBoundingBox");const r=hn._svgFactory.createElement("use");return s.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),a}#r(e,t){for(const[s,a]of Object.entries(t))a===null?e.removeAttribute(s):e.setAttribute(s,a)}draw(e,t=!1,s=!1){const a=hn.#n++,r=this.#o(),l=hn._svgFactory.createElement("defs");r.append(l);const d=hn._svgFactory.createElement("path");l.append(d);const h=`path_p${this.pageIndex}_${a}`;d.setAttribute("id",h),d.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#s.set(a,d);const p=s?this.#a(l,h):null,g=hn._svgFactory.createElement("use");return r.append(g),g.setAttribute("href",`#${h}`),this.updateProperties(r,e),this.#t.set(a,r),{id:a,clipPathId:`url(#${p})`}}drawOutline(e,t){const s=hn.#n++,a=this.#o(),r=hn._svgFactory.createElement("defs");a.append(r);const l=hn._svgFactory.createElement("path");r.append(l);const d=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",d),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(t){const m=hn._svgFactory.createElement("mask");r.append(m),h=`mask_p${this.pageIndex}_${s}`,m.setAttribute("id",h),m.setAttribute("maskUnits","objectBoundingBox");const v=hn._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const w=hn._svgFactory.createElement("use");m.append(w),w.setAttribute("href",`#${d}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const p=hn._svgFactory.createElement("use");a.append(p),p.setAttribute("href",`#${d}`),h&&p.setAttribute("mask",`url(#${h})`);const g=p.cloneNode();return a.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(a,e),this.#t.set(s,a),s}finalizeDraw(e,t){this.#s.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:s,bbox:a,rootClass:r,path:l}=t,d=typeof e=="number"?this.#t.get(e):e;if(d){if(s&&this.#r(d,s),a&&hn.#i(d,a),r){const{classList:h}=d;for(const[p,g]of Object.entries(r))h.toggle(p,g)}if(l){const p=d.firstChild.firstChild;this.#r(p,l)}}}updateParent(e,t){if(t===this)return;const s=this.#t.get(e);s&&(t.#e.append(s),this.#t.delete(e),t.#t.set(e,s))}remove(e){this.#s.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#s.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Pm};globalThis.pdfjsLib={AbortException:Uo,AnnotationEditorLayer:to,AnnotationEditorParamsType:at,AnnotationEditorType:Xe,AnnotationEditorUIManager:Vo,AnnotationLayer:zg,AnnotationMode:so,AnnotationType:Vt,applyOpacity:C2,build:$2,ColorPicker:ns,createValidAbsoluteUrl:Sg,CSSConstants:A2,DOMSVGFactory:nc,DrawLayer:hn,FeatureTest:pn,fetchData:Lr,findContrastColor:E2,getDocument:Mg,getFilenameFromUrl:b2,getPdfFilenameFromUrl:w2,getRGB:Br,getUuid:Cg,getXfaPageViewport:S2,GlobalWorkerOptions:Sa,ImageKind:Vl,InvalidPDFException:xu,isDataScheme:uc,isPdfFile:Zu,isValidExplicitDest:P2,MathClamp:Nn,noContextMenu:is,normalizeUnicode:v2,OPS:Cr,OutputScale:zs,PasswordResponses:g2,PDFDataRangeTransport:Lg,PDFDateString:vu,PDFWorker:Er,PermissionFlag:m2,PixelsPerInch:ii,RenderingCancelledException:Qu,renderRichText:_g,ResponseException:Zl,setLayerDimensions:_a,shadow:Ze,SignatureExtractor:Ka,stopEvent:Ot,SupportedImageMimeTypes:yu,TextLayer:ec,TouchManager:fc,updateUrlHash:Ag,Util:Ee,VerbosityLevel:lc,version:Bg,XfaLayer:Tg};const EL=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Uo,AnnotationEditorLayer:to,AnnotationEditorParamsType:at,AnnotationEditorType:Xe,AnnotationEditorUIManager:Vo,AnnotationLayer:zg,AnnotationMode:so,AnnotationType:Vt,CSSConstants:A2,ColorPicker:ns,DOMSVGFactory:nc,DrawLayer:hn,FeatureTest:pn,GlobalWorkerOptions:Sa,ImageKind:Vl,InvalidPDFException:xu,MathClamp:Nn,OPS:Cr,OutputScale:zs,PDFDataRangeTransport:Lg,PDFDateString:vu,PDFWorker:Er,PasswordResponses:g2,PermissionFlag:m2,PixelsPerInch:ii,RenderingCancelledException:Qu,ResponseException:Zl,SignatureExtractor:Ka,SupportedImageMimeTypes:yu,TextLayer:ec,TouchManager:fc,Util:Ee,VerbosityLevel:lc,XfaLayer:Tg,applyOpacity:C2,build:$2,createValidAbsoluteUrl:Sg,fetchData:Lr,findContrastColor:E2,getDocument:Mg,getFilenameFromUrl:b2,getPdfFilenameFromUrl:w2,getRGB:Br,getUuid:Cg,getXfaPageViewport:S2,isDataScheme:uc,isPdfFile:Zu,isValidExplicitDest:P2,noContextMenu:is,normalizeUnicode:v2,renderRichText:_g,setLayerDimensions:_a,shadow:Ze,stopEvent:Ot,updateUrlHash:Ag,version:Bg},Symbol.toStringTag,{value:"Module"}));var Tb=Object.prototype.hasOwnProperty;function _b(i,e,t){for(t of i.keys())if(fr(t,e))return t}function fr(i,e){var t,s,a;if(i===e)return!0;if(i&&e&&(t=i.constructor)===e.constructor){if(t===Date)return i.getTime()===e.getTime();if(t===RegExp)return i.toString()===e.toString();if(t===Array){if((s=i.length)===e.length)for(;s--&&fr(i[s],e[s]););return s===-1}if(t===Set){if(i.size!==e.size)return!1;for(s of i)if(a=s,a&&typeof a=="object"&&(a=_b(e,a),!a)||!e.has(a))return!1;return!0}if(t===Map){if(i.size!==e.size)return!1;for(s of i)if(a=s[0],a&&typeof a=="object"&&(a=_b(e,a),!a)||!fr(s[1],e.get(a)))return!1;return!0}if(t===ArrayBuffer)i=new Uint8Array(i),e=new Uint8Array(e);else if(t===DataView){if((s=i.byteLength)===e.byteLength)for(;s--&&i.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(i)){if((s=i.byteLength)===e.byteLength)for(;s--&&i[s]===e[s];);return s===-1}if(!t||typeof i=="object"){s=0;for(t in i)if(Tb.call(i,t)&&++s&&!Tb.call(e,t)||!(t in e)||!fr(i[t],e[t]))return!1;return Object.keys(e).length===s}}return i!==i&&e!==e}function gc(i){let e=!1;return{promise:new Promise((s,a)=>{i.then(r=>!e&&s(r)).catch(r=>!e&&a(r))}),cancel(){e=!0}}}const TL=["onCopy","onCut","onPaste"],_L=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],NL=["onFocus","onBlur"],PL=["onInput","onInvalid","onReset","onSubmit"],jL=["onLoad","onError"],DL=["onKeyDown","onKeyPress","onKeyUp"],kL=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],RL=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],ML=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],OL=["onSelect"],LL=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],BL=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],IL=["onScroll"],FL=["onWheel"],zL=["onAnimationStart","onAnimationEnd","onAnimationIteration"],HL=["onTransitionEnd"],UL=["onToggle"],VL=["onChange"],$L=[...TL,..._L,...NL,...PL,...jL,...DL,...kL,...RL,...ML,...OL,...LL,...BL,...IL,...FL,...zL,...HL,...VL,...UL];function J2(i,e){const t={};for(const s of $L){const a=i[s];a&&(e?t[s]=(r=>a(r,e(s))):t[s]=a)}return t}var GL="Invariant failed";function Tt(i,e){if(!i)throw new Error(GL)}var em,Nb;function qL(){if(Nb)return em;Nb=1;var i=function(){};return em=i,em}var YL=qL();const Pn=Im(YL),eC=b.createContext(null),XL="noopener noreferrer nofollow";class WL{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Tt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Tt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||XL,e.target=s?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{Tt(this.pdfDocument),Tt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Tt(Array.isArray(t));const s=t[0];new Promise(a=>{Tt(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(r=>{a(r)}).catch(()=>{Tt(!1)}):typeof s=="number"?a(s):Tt(!1)}).then(a=>{const r=a+1;Tt(this.pdfViewer),Tt(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:a,pageNumber:r})})})}goToPage(e){const t=e-1;Tt(this.pdfViewer),Tt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function pr({children:i,type:e}){return u.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:i})}const Pb={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function KL(i,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function Tr(){return b.useReducer(KL,{value:void 0,error:void 0})}const th=typeof window<"u",tC=th&&window.location.protocol==="file:";function QL(i){return typeof i<"u"}function Wa(i){return QL(i)&&i!==null}function ZL(i){return typeof i=="string"}function JL(i){return i instanceof ArrayBuffer}function eB(i){return Tt(th),i instanceof Blob}function km(i){return ZL(i)&&/^data:/.test(i)}function jb(i){Tt(km(i));const[e="",t=""]=i.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function tB(){return th&&window.devicePixelRatio||1}const nC="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Db(){Pn(!tC,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${nC}`)}function nB(){Pn(!tC,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${nC}`)}function li(i){i?.cancel&&i.cancel()}function Rm(i,e){return Object.defineProperty(i,"width",{get(){return this.getViewport({scale:e}).width},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.getViewport({scale:e}).height},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.getViewport({scale:1}).width},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.getViewport({scale:1}).height},configurable:!0}),i}function sC(i){return i.name==="AbortException"||i.name==="RenderingCancelledException"}function sB(i){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=a=>{if(!a.target)return t(new Error("Error while reading a file."));const{error:r}=a.target;if(!r)return t(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(i)})}const{PDFDataRangeTransport:oB}=EL,aB=(i,e)=>{switch(e){case Pb.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");i(t);break}case Pb.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");i(t);break}}};function kb(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const tm=b.forwardRef(function({children:e,className:t,error:s="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:r,file:l,inputRef:d,imageResourcesPath:h,loading:p="Loading PDF",noData:g="No PDF file specified.",onItemClick:m,onLoadError:v,onLoadProgress:w,onLoadSuccess:A,onPassword:S=aB,onSourceError:E,onSourceSuccess:C,options:_,renderMode:N,rotate:j,scale:M,...L},O){const[I,z]=Tr(),{value:$,error:Y}=I,[se,re]=Tr(),{value:ae,error:fe}=se,D=b.useRef(new WL),U=b.useRef([]),H=b.useRef(void 0),F=b.useRef(void 0);l&&l!==H.current&&kb(l)&&(Pn(!fr(l,H.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),H.current=l),_&&_!==F.current&&(Pn(!fr(_,F.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),F.current=_);const K=b.useRef({scrollPageIntoView:Oe=>{const{dest:ke,pageNumber:Q,pageIndex:Se=Q-1}=Oe;if(m){m({dest:ke,pageIndex:Se,pageNumber:Q});return}const Le=U.current[Se];if(Le){Le.scrollIntoView();return}Pn(!1,`An internal link leading to page ${Q} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});b.useImperativeHandle(O,()=>({linkService:D,pages:U,viewer:K}),[]);function P(){C&&C()}function R(){Y&&(Pn(!1,Y.toString()),E&&E(Y))}function B(){z({type:"RESET"})}b.useEffect(B,[l,z]);const q=b.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return km(l)?{data:jb(l)}:(Db(),{url:l});if(l instanceof oB)return{range:l};if(JL(l))return{data:l};if(th&&eB(l))return{data:await sB(l)};if(Tt(typeof l=="object"),Tt(kb(l)),"url"in l&&typeof l.url=="string"){if(km(l.url)){const{url:Oe,...ke}=l;return{data:jb(Oe),...ke}}Db()}return l},[l]);b.useEffect(()=>{const Oe=gc(q());return Oe.promise.then(ke=>{z({type:"RESOLVE",value:ke})}).catch(ke=>{z({type:"REJECT",error:ke})}),()=>{li(Oe)}},[q,z]),b.useEffect(()=>{if(!(typeof $>"u")){if($===!1){R();return}P()}},[$]);function X(){ae&&(A&&A(ae),U.current=new Array(ae.numPages),D.current.setDocument(ae))}function le(){fe&&(Pn(!1,fe.toString()),v&&v(fe))}b.useEffect(function(){re({type:"RESET"})},[re,$]),b.useEffect(function(){if(!$)return;const ke=_?{...$,..._}:$,Q=Mg(ke);w&&(Q.onProgress=w),S&&(Q.onPassword=S);const Se=Q;return Se.promise.then(Le=>{Se.destroyed||re({type:"RESOLVE",value:Le})}).catch(Le=>{Se.destroyed||re({type:"REJECT",error:Le})}),()=>{Se.destroy()}},[_,re,$]),b.useEffect(()=>{if(!(typeof ae>"u")){if(ae===!1){le();return}X()}},[ae]),b.useEffect(function(){D.current.setViewer(K.current),D.current.setExternalLinkRel(a),D.current.setExternalLinkTarget(r)},[a,r]);const Z=b.useCallback((Oe,ke)=>{U.current[Oe]=ke},[]),ce=b.useCallback(Oe=>{delete U.current[Oe]},[]),pe=b.useMemo(()=>({imageResourcesPath:h,linkService:D.current,onItemClick:m,pdf:ae,registerPage:Z,renderMode:N,rotate:j,scale:M,unregisterPage:ce}),[h,m,ae,Z,N,j,M,ce]),Ae=b.useMemo(()=>J2(L,()=>ae),[L,ae]);function ve(){function Oe(Q){return!!Q?.pdf}if(!Oe(pe))throw new Error("pdf is undefined");const ke=typeof e=="function"?e(pe):e;return u.jsx(eC.Provider,{value:pe,children:ke})}function _e(){return l?ae==null?u.jsx(pr,{type:"loading",children:typeof p=="function"?p():p}):ae===!1?u.jsx(pr,{type:"error",children:typeof s=="function"?s():s}):ve():u.jsx(pr,{type:"no-data",children:typeof g=="function"?g():g})}return u.jsx("div",{className:Pr("react-pdf__Document",t),ref:d,...Ae,children:_e()})});function oC(){return b.useContext(eC)}function aC(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var t=i.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(r){for(var l=0,d=t;l<d.length;l++){var h=d[l];typeof h=="function"?h(r):h&&(h.current=r)}}}const iC=b.createContext(null);function nh(){return b.useContext(iC)}function iB(){const i=oC(),e=nh();Tt(e);const t={...i,...e},{filterAnnotations:s,imageResourcesPath:a,linkService:r,onGetAnnotationsError:l,onGetAnnotationsSuccess:d,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:p,page:g,pdf:m,renderForms:v,rotate:w,scale:A=1}=t;Tt(m),Tt(g),Tt(r);const[S,E]=Tr(),{value:C,error:_}=S,N=b.useRef(null);Pn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function j(){C&&d&&d(C)}function M(){_&&(Pn(!1,_.toString()),l&&l(_))}b.useEffect(function(){E({type:"RESET"})},[E,g]),b.useEffect(function(){if(!g)return;const $=gc(g.getAnnotations()),Y=$;return $.promise.then(se=>{E({type:"RESOLVE",value:se})}).catch(se=>{E({type:"REJECT",error:se})}),()=>{li(Y)}},[E,g]),b.useEffect(()=>{if(C!==void 0){if(C===!1){M();return}j()}},[C]);function L(){p&&p()}function O(z){Pn(!1,`${z}`),h&&h(z)}const I=b.useMemo(()=>g.getViewport({scale:A,rotation:w}),[g,w,A]);return b.useEffect(function(){if(!m||!g||!r||!C)return;const{current:$}=N;if(!$)return;const Y=I.clone({dontFlip:!0}),se={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:m.annotationStorage,commentManager:null,div:$,l10n:null,linkService:r,page:g,structTreeLayer:null,viewport:Y},re={annotations:s?s({annotations:C}):C,annotationStorage:m.annotationStorage,div:$,imageResourcesPath:a,linkService:r,page:g,renderForms:v,viewport:Y};$.innerHTML="";try{new zg(se).render(re),L()}catch(ae){O(ae)}return()=>{}},[C,s,a,r,g,m,v,I]),u.jsx("div",{className:Pr("react-pdf__Page__annotations","annotationLayer"),ref:N})}const rC={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},rB=/^H(\d+)$/;function lB(i){return i in rC}function sh(i){return"children"in i}function lC(i){return sh(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function cB(i){const e={};if(sh(i)){const{role:t}=i,s=t.match(rB);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(lB(t)){const a=rC[t];a&&(e.role=a)}}return e}function cC(i){const e={};if(sh(i)){if(i.alt!==void 0&&(e["aria-label"]=i.alt),i.lang!==void 0&&(e.lang=i.lang),lC(i)){const[t]=i.children;if(t){const s=cC(t);return{...e,...s}}}}else"id"in i&&(e["aria-owns"]=i.id);return e}function dB(i){return i?{...cB(i),...cC(i)}:null}function dC({className:i,node:e}){const t=b.useMemo(()=>dB(e),[e]),s=b.useMemo(()=>!sh(e)||lC(e)?null:e.children.map((a,r)=>u.jsx(dC,{node:a},r)),[e]);return u.jsx("span",{className:i,...t,children:s})}function uB(){const i=nh();Tt(i);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=i,[s,a]=Tr(),{value:r,error:l}=s,{customTextRenderer:d,page:h}=i;function p(){r&&t&&t(r)}function g(){l&&(Pn(!1,l.toString()),e&&e(l))}return b.useEffect(function(){a({type:"RESET"})},[a,h]),b.useEffect(function(){if(d||!h)return;const v=gc(h.getStructTree()),w=v;return v.promise.then(A=>{a({type:"RESOLVE",value:A})}).catch(A=>{a({type:"REJECT",error:A})}),()=>li(w)},[d,h,a]),b.useEffect(()=>{if(r!==void 0){if(r===!1){g();return}p()}},[r]),r?u.jsx(dC,{className:"react-pdf__Page__structTree structTree",node:r}):null}const Rb=so;function hB(i){const e=nh();Tt(e);const t={...e,...i},{_className:s,canvasBackground:a,devicePixelRatio:r=tB(),onRenderError:l,onRenderSuccess:d,page:h,renderForms:p,renderTextLayer:g,rotate:m,scale:v}=t,{canvasRef:w}=i;Tt(h);const A=b.useRef(null);function S(){h&&d&&d(Rm(h,v))}function E(j){sC(j)||(Pn(!1,j.toString()),l&&l(j))}const C=b.useMemo(()=>h.getViewport({scale:v*r,rotation:m}),[r,h,m,v]),_=b.useMemo(()=>h.getViewport({scale:v,rotation:m}),[h,m,v]);b.useEffect(function(){if(!h)return;h.cleanup();const{current:M}=A;if(!M)return;M.width=C.width,M.height=C.height,M.style.width=`${Math.floor(_.width)}px`,M.style.height=`${Math.floor(_.height)}px`,M.style.visibility="hidden";const L={annotationMode:p?Rb.ENABLE_FORMS:Rb.ENABLE,canvas:M,canvasContext:M.getContext("2d",{alpha:!1}),viewport:C};a&&(L.background=a);const O=h.render(L),I=O;return O.promise.then(()=>{M.style.visibility="",S()}).catch(E),()=>li(I)},[a,h,p,C,_]);const N=b.useCallback(()=>{const{current:j}=A;j&&(j.width=0,j.height=0)},[]);return b.useEffect(()=>N,[N]),u.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:aC(w,A),style:{display:"block",userSelect:"none"},children:g?u.jsx(uB,{}):null})}function fB(i){return"str"in i}function pB(){const i=nh();Tt(i);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:a,onRenderTextLayerSuccess:r,page:l,pageIndex:d,pageNumber:h,rotate:p,scale:g}=i;Tt(l);const[m,v]=Tr(),{value:w,error:A}=m,S=b.useRef(null);Pn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){w&&s&&s(w)}function C(){A&&(Pn(!1,A.toString()),t&&t(A))}b.useEffect(function(){v({type:"RESET"})},[l,v]),b.useEffect(function(){if(!l)return;const I=gc(l.getTextContent()),z=I;return I.promise.then($=>{v({type:"RESOLVE",value:$})}).catch($=>{v({type:"REJECT",error:$})}),()=>li(z)},[l,v]),b.useEffect(()=>{if(w!==void 0){if(w===!1){C();return}E()}},[w]);const _=b.useCallback(()=>{r&&r()},[r]),N=b.useCallback(O=>{sC(O)||(Pn(!1,O.toString()),a&&a(O))},[a]);function j(){const O=S.current;O&&O.classList.add("selecting")}function M(){const O=S.current;O&&O.classList.remove("selecting")}const L=b.useMemo(()=>l.getViewport({scale:g,rotation:p}),[l,p,g]);return b.useLayoutEffect(function(){if(!l||!w)return;const{current:I}=S;if(!I)return;I.innerHTML="";const z=l.streamTextContent({includeMarkedContent:!0}),$={container:I,textContentSource:z,viewport:L},Y=new ec($),se=Y;return Y.render().then(()=>{const re=document.createElement("div");re.className="endOfContent",I.append(re);const ae=I.querySelectorAll('[role="presentation"]');if(e){let fe=0;w.items.forEach((D,U)=>{if(!fB(D))return;const H=ae[fe];if(!H)return;const F=e({pageIndex:d,pageNumber:h,itemIndex:U,...D});H.innerHTML=F,fe+=D.str&&D.hasEOL?2:1})}_()}).catch(N),()=>li(se)},[e,N,_,l,d,h,w,L]),u.jsx("div",{className:Pr("react-pdf__Page__textContent","textLayer"),onMouseUp:M,onMouseDown:j,ref:S})}const Mb=1;function nm(i){const t={...oC(),...i},{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:r,canvasRef:l,children:d,className:h,customRenderer:p,customTextRenderer:g,devicePixelRatio:m,error:v="Failed to load the page.",filterAnnotations:w,height:A,inputRef:S,loading:E="Loading page",noData:C="No page specified.",onGetAnnotationsError:_,onGetAnnotationsSuccess:N,onGetStructTreeError:j,onGetStructTreeSuccess:M,onGetTextError:L,onGetTextSuccess:O,onLoadError:I,onLoadSuccess:z,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:Y,onRenderError:se,onRenderSuccess:re,onRenderTextLayerError:ae,onRenderTextLayerSuccess:fe,pageIndex:D,pageNumber:U,pdf:H,registerPage:F,renderAnnotationLayer:K=!0,renderForms:P=!1,renderMode:R="canvas",renderTextLayer:B=!0,rotate:q,scale:X=Mb,unregisterPage:le,width:Z,...ce}=t,[pe,Ae]=Tr(),{value:ve,error:_e}=pe,Oe=b.useRef(null);Tt(H);const ke=Wa(U)?U-1:D??null,Q=U??(Wa(D)?D+1:null),Se=q??(ve?ve.rotate:null),Le=b.useMemo(()=>{if(!ve)return null;let Ct=1;const Jt=X??Mb;if(Z||A){const Rt=ve.getViewport({scale:1,rotation:Se});Z?Ct=Z/Rt.width:A&&(Ct=A/Rt.height)}return Jt*Ct},[A,ve,Se,X,Z]);b.useEffect(function(){return()=>{Wa(ke)&&a&&le&&le(ke)}},[a,H,ke,le]);function Je(){if(z){if(!ve||!Le)return;z(Rm(ve,Le))}if(a&&F){if(!Wa(ke)||!Oe.current)return;F(ke,Oe.current)}}function ct(){_e&&(Pn(!1,_e.toString()),I&&I(_e))}b.useEffect(function(){Ae({type:"RESET"})},[Ae,H,ke]),b.useEffect(function(){if(!H||!Q)return;const Jt=gc(H.getPage(Q)),Rt=Jt;return Jt.promise.then(ls=>{Ae({type:"RESOLVE",value:ls})}).catch(ls=>{Ae({type:"REJECT",error:ls})}),()=>li(Rt)},[Ae,H,Q]),b.useEffect(()=>{if(ve!==void 0){if(ve===!1){ct();return}Je()}},[ve,Le]);const mt=b.useMemo(()=>Wa(ke)&&Q&&Wa(Se)&&Wa(Le)?{_className:s,canvasBackground:r,customTextRenderer:g,devicePixelRatio:m,filterAnnotations:w,onGetAnnotationsError:_,onGetAnnotationsSuccess:N,onGetStructTreeError:j,onGetStructTreeSuccess:M,onGetTextError:L,onGetTextSuccess:O,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:Y,onRenderError:se,onRenderSuccess:re,onRenderTextLayerError:ae,onRenderTextLayerSuccess:fe,page:ve,pageIndex:ke,pageNumber:Q,renderForms:P,renderTextLayer:B,rotate:Se,scale:Le}:null,[s,r,g,m,w,_,N,j,M,L,O,$,Y,se,re,ae,fe,ve,ke,Q,P,B,Se,Le]),Bt=b.useMemo(()=>J2(ce,()=>ve&&(Le?Rm(ve,Le):void 0)),[ce,ve,Le]),gt=`${ke}@${Le}/${Se}`;function xe(){switch(R){case"custom":return Tt(p),u.jsx(p,{},`${gt}_custom`);case"none":return null;default:return u.jsx(hB,{canvasRef:l},`${gt}_canvas`)}}function te(){return B?u.jsx(pB,{},`${gt}_text`):null}function Ne(){return K?u.jsx(iB,{},`${gt}_annotations`):null}function He(){function Ct(Rt){return!!Rt?.page}if(!Ct(mt))throw new Error("page is undefined");const Jt=typeof d=="function"?d(mt):d;return u.jsxs(iC.Provider,{value:mt,children:[xe(),te(),Ne(),Jt]})}function dt(){return Q?H===null||ve===void 0||ve===null?u.jsx(pr,{type:"loading",children:typeof E=="function"?E():E}):H===!1||ve===!1?u.jsx(pr,{type:"error",children:typeof v=="function"?v():v}):He():u.jsx(pr,{type:"no-data",children:typeof C=="function"?C():C})}return u.jsx("div",{className:Pr(s,h),"data-page-number":Q,ref:aC(S,Oe),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Le}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Bt,children:dt()})}nB();Sa.workerSrc="pdf.worker.mjs";var oh="Checkbox",[mB]=rs(oh),[gB,$g]=mB(oh);function xB(i){const{__scopeCheckbox:e,checked:t,children:s,defaultChecked:a,disabled:r,form:l,name:d,onCheckedChange:h,required:p,value:g="on",internal_do_not_use_render:m}=i,[v,w]=Fo({prop:t,defaultProp:a??!1,onChange:h,caller:oh}),[A,S]=b.useState(null),[E,C]=b.useState(null),_=b.useRef(!1),N=A?!!l||!!A.closest("form"):!0,j={checked:v,disabled:r,setChecked:w,control:A,setControl:S,name:d,form:l,value:g,hasConsumerStoppedPropagationRef:_,required:p,defaultChecked:Aa(a)?!1:a,isFormControl:N,bubbleInput:E,setBubbleInput:C};return u.jsx(gB,{scope:e,...j,children:vB(m)?m(j):s})}var uC="CheckboxTrigger",hC=b.forwardRef(({__scopeCheckbox:i,onKeyDown:e,onClick:t,...s},a)=>{const{control:r,value:l,disabled:d,checked:h,required:p,setControl:g,setChecked:m,hasConsumerStoppedPropagationRef:v,isFormControl:w,bubbleInput:A}=$g(uC,i),S=qe(a,g),E=b.useRef(h);return b.useEffect(()=>{const C=r?.form;if(C){const _=()=>m(E.current);return C.addEventListener("reset",_),()=>C.removeEventListener("reset",_)}},[r,m]),u.jsx(Ie.button,{type:"button",role:"checkbox","aria-checked":Aa(h)?"mixed":h,"aria-required":p,"data-state":vC(h),"data-disabled":d?"":void 0,disabled:d,value:l,...s,ref:S,onKeyDown:ye(e,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:ye(t,C=>{m(_=>Aa(_)?!0:!_),A&&w&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})})});hC.displayName=uC;var fC=b.forwardRef((i,e)=>{const{__scopeCheckbox:t,name:s,checked:a,defaultChecked:r,required:l,disabled:d,value:h,onCheckedChange:p,form:g,...m}=i;return u.jsx(xB,{__scopeCheckbox:t,checked:a,defaultChecked:r,disabled:d,required:l,onCheckedChange:p,name:s,form:g,value:h,internal_do_not_use_render:({isFormControl:v})=>u.jsxs(u.Fragment,{children:[u.jsx(hC,{...m,ref:e,__scopeCheckbox:t}),v&&u.jsx(xC,{__scopeCheckbox:t})]})})});fC.displayName=oh;var pC="CheckboxIndicator",mC=b.forwardRef((i,e)=>{const{__scopeCheckbox:t,forceMount:s,...a}=i,r=$g(pC,t);return u.jsx(qn,{present:s||Aa(r.checked)||r.checked===!0,children:u.jsx(Ie.span,{"data-state":vC(r.checked),"data-disabled":r.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...i.style}})})});mC.displayName=pC;var gC="CheckboxBubbleInput",xC=b.forwardRef(({__scopeCheckbox:i,...e},t)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:r,defaultChecked:l,required:d,disabled:h,name:p,value:g,form:m,bubbleInput:v,setBubbleInput:w}=$g(gC,i),A=qe(t,w),S=Uu(r),E=zu(s);b.useEffect(()=>{const _=v;if(!_)return;const N=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(N,"checked").set,L=!a.current;if(S!==r&&M){const O=new Event("click",{bubbles:L});_.indeterminate=Aa(r),M.call(_,Aa(r)?!1:r),_.dispatchEvent(O)}},[v,S,r,a]);const C=b.useRef(Aa(r)?!1:r);return u.jsx(Ie.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??C.current,required:d,disabled:h,name:p,value:g,form:m,...e,tabIndex:-1,ref:A,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});xC.displayName=gC;function vB(i){return typeof i=="function"}function Aa(i){return i==="indeterminate"}function vC(i){return Aa(i)?"indeterminate":i?"checked":"unchecked"}function Mm({className:i,...e}){return u.jsx(fC,{"code-path":"src\\components\\ui\\checkbox.tsx:14:5","data-slot":"checkbox",className:Ge("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",i),...e,children:u.jsx(mC,{"code-path":"src\\components\\ui\\checkbox.tsx:22:7","data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:u.jsx(Aw,{"code-path":"src\\components\\ui\\checkbox.tsx:26:9",className:"size-3.5"})})})}function yB(i,e){return b.useReducer((t,s)=>e[t][s]??t,i)}var Gg="ScrollArea",[yC]=rs(Gg),[bB,Ts]=yC(Gg),bC=b.forwardRef((i,e)=>{const{__scopeScrollArea:t,type:s="hover",dir:a,scrollHideDelay:r=600,...l}=i,[d,h]=b.useState(null),[p,g]=b.useState(null),[m,v]=b.useState(null),[w,A]=b.useState(null),[S,E]=b.useState(null),[C,_]=b.useState(0),[N,j]=b.useState(0),[M,L]=b.useState(!1),[O,I]=b.useState(!1),z=qe(e,Y=>h(Y)),$=Nr(a);return u.jsx(bB,{scope:t,type:s,dir:$,scrollHideDelay:r,scrollArea:d,viewport:p,onViewportChange:g,content:m,onContentChange:v,scrollbarX:w,onScrollbarXChange:A,scrollbarXEnabled:M,onScrollbarXEnabledChange:L,scrollbarY:S,onScrollbarYChange:E,scrollbarYEnabled:O,onScrollbarYEnabledChange:I,onCornerWidthChange:_,onCornerHeightChange:j,children:u.jsx(Ie.div,{dir:$,...l,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":N+"px",...i.style}})})});bC.displayName=Gg;var wC="ScrollAreaViewport",SC=b.forwardRef((i,e)=>{const{__scopeScrollArea:t,children:s,nonce:a,...r}=i,l=Ts(wC,t),d=b.useRef(null),h=qe(e,d,l.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),u.jsx(Ie.div,{"data-radix-scroll-area-viewport":"",...r,ref:h,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...i.style},children:u.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});SC.displayName=wC;var uo="ScrollAreaScrollbar",AC=b.forwardRef((i,e)=>{const{forceMount:t,...s}=i,a=Ts(uo,i.__scopeScrollArea),{onScrollbarXEnabledChange:r,onScrollbarYEnabledChange:l}=a,d=i.orientation==="horizontal";return b.useEffect(()=>(d?r(!0):l(!0),()=>{d?r(!1):l(!1)}),[d,r,l]),a.type==="hover"?u.jsx(wB,{...s,ref:e,forceMount:t}):a.type==="scroll"?u.jsx(SB,{...s,ref:e,forceMount:t}):a.type==="auto"?u.jsx(CC,{...s,ref:e,forceMount:t}):a.type==="always"?u.jsx(qg,{...s,ref:e}):null});AC.displayName=uo;var wB=b.forwardRef((i,e)=>{const{forceMount:t,...s}=i,a=Ts(uo,i.__scopeScrollArea),[r,l]=b.useState(!1);return b.useEffect(()=>{const d=a.scrollArea;let h=0;if(d){const p=()=>{window.clearTimeout(h),l(!0)},g=()=>{h=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return d.addEventListener("pointerenter",p),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",p),d.removeEventListener("pointerleave",g)}}},[a.scrollArea,a.scrollHideDelay]),u.jsx(qn,{present:t||r,children:u.jsx(CC,{"data-state":r?"visible":"hidden",...s,ref:e})})}),SB=b.forwardRef((i,e)=>{const{forceMount:t,...s}=i,a=Ts(uo,i.__scopeScrollArea),r=i.orientation==="horizontal",l=ih(()=>h("SCROLL_END"),100),[d,h]=yB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(d==="idle"){const p=window.setTimeout(()=>h("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(p)}},[d,a.scrollHideDelay,h]),b.useEffect(()=>{const p=a.viewport,g=r?"scrollLeft":"scrollTop";if(p){let m=p[g];const v=()=>{const w=p[g];m!==w&&(h("SCROLL"),l()),m=w};return p.addEventListener("scroll",v),()=>p.removeEventListener("scroll",v)}},[a.viewport,r,h,l]),u.jsx(qn,{present:t||d!=="hidden",children:u.jsx(qg,{"data-state":d==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:ye(i.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:ye(i.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),CC=b.forwardRef((i,e)=>{const t=Ts(uo,i.__scopeScrollArea),{forceMount:s,...a}=i,[r,l]=b.useState(!1),d=i.orientation==="horizontal",h=ih(()=>{if(t.viewport){const p=t.viewport.offsetWidth<t.viewport.scrollWidth,g=t.viewport.offsetHeight<t.viewport.scrollHeight;l(d?p:g)}},10);return _r(t.viewport,h),_r(t.content,h),u.jsx(qn,{present:s||r,children:u.jsx(qg,{"data-state":r?"visible":"hidden",...a,ref:e})})}),qg=b.forwardRef((i,e)=>{const{orientation:t="vertical",...s}=i,a=Ts(uo,i.__scopeScrollArea),r=b.useRef(null),l=b.useRef(0),[d,h]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=PC(d.viewport,d.content),g={...s,sizes:d,onSizesChange:h,hasThumb:p>0&&p<1,onThumbChange:v=>r.current=v,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:v=>l.current=v};function m(v,w){return NB(v,l.current,d,w)}return t==="horizontal"?u.jsx(AB,{...g,ref:e,onThumbPositionChange:()=>{if(a.viewport&&r.current){const v=a.viewport.scrollLeft,w=Ob(v,d,a.dir);r.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollLeft=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollLeft=m(v,a.dir))}}):t==="vertical"?u.jsx(CB,{...g,ref:e,onThumbPositionChange:()=>{if(a.viewport&&r.current){const v=a.viewport.scrollTop,w=Ob(v,d);r.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollTop=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollTop=m(v))}}):null}),AB=b.forwardRef((i,e)=>{const{sizes:t,onSizesChange:s,...a}=i,r=Ts(uo,i.__scopeScrollArea),[l,d]=b.useState(),h=b.useRef(null),p=qe(e,h,r.onScrollbarXChange);return b.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),u.jsx(TC,{"data-orientation":"horizontal",...a,ref:p,sizes:t,style:{bottom:0,left:r.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:r.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ah(t)+"px",...i.style},onThumbPointerDown:g=>i.onThumbPointerDown(g.x),onDragScroll:g=>i.onDragScroll(g.x),onWheelScroll:(g,m)=>{if(r.viewport){const v=r.viewport.scrollLeft+g.deltaX;i.onWheelScroll(v),DC(v,m)&&g.preventDefault()}},onResize:()=>{h.current&&r.viewport&&l&&s({content:r.viewport.scrollWidth,viewport:r.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Su(l.paddingLeft),paddingEnd:Su(l.paddingRight)}})}})}),CB=b.forwardRef((i,e)=>{const{sizes:t,onSizesChange:s,...a}=i,r=Ts(uo,i.__scopeScrollArea),[l,d]=b.useState(),h=b.useRef(null),p=qe(e,h,r.onScrollbarYChange);return b.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),u.jsx(TC,{"data-orientation":"vertical",...a,ref:p,sizes:t,style:{top:0,right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ah(t)+"px",...i.style},onThumbPointerDown:g=>i.onThumbPointerDown(g.y),onDragScroll:g=>i.onDragScroll(g.y),onWheelScroll:(g,m)=>{if(r.viewport){const v=r.viewport.scrollTop+g.deltaY;i.onWheelScroll(v),DC(v,m)&&g.preventDefault()}},onResize:()=>{h.current&&r.viewport&&l&&s({content:r.viewport.scrollHeight,viewport:r.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Su(l.paddingTop),paddingEnd:Su(l.paddingBottom)}})}})}),[EB,EC]=yC(uo),TC=b.forwardRef((i,e)=>{const{__scopeScrollArea:t,sizes:s,hasThumb:a,onThumbChange:r,onThumbPointerUp:l,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:p,onWheelScroll:g,onResize:m,...v}=i,w=Ts(uo,t),[A,S]=b.useState(null),E=qe(e,z=>S(z)),C=b.useRef(null),_=b.useRef(""),N=w.viewport,j=s.content-s.viewport,M=An(g),L=An(h),O=ih(m,10);function I(z){if(C.current){const $=z.clientX-C.current.left,Y=z.clientY-C.current.top;p({x:$,y:Y})}}return b.useEffect(()=>{const z=$=>{const Y=$.target;A?.contains(Y)&&M($,j)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[N,A,j,M]),b.useEffect(L,[s,L]),_r(A,O),_r(w.content,O),u.jsx(EB,{scope:t,scrollbar:A,hasThumb:a,onThumbChange:An(r),onThumbPointerUp:An(l),onThumbPositionChange:L,onThumbPointerDown:An(d),children:u.jsx(Ie.div,{...v,ref:E,style:{position:"absolute",...v.style},onPointerDown:ye(i.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),C.current=A.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),I(z))}),onPointerMove:ye(i.onPointerMove,I),onPointerUp:ye(i.onPointerUp,z=>{const $=z.target;$.hasPointerCapture(z.pointerId)&&$.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=_.current,w.viewport&&(w.viewport.style.scrollBehavior=""),C.current=null})})})}),wu="ScrollAreaThumb",_C=b.forwardRef((i,e)=>{const{forceMount:t,...s}=i,a=EC(wu,i.__scopeScrollArea);return u.jsx(qn,{present:t||a.hasThumb,children:u.jsx(TB,{ref:e,...s})})}),TB=b.forwardRef((i,e)=>{const{__scopeScrollArea:t,style:s,...a}=i,r=Ts(wu,t),l=EC(wu,t),{onThumbPositionChange:d}=l,h=qe(e,m=>l.onThumbChange(m)),p=b.useRef(void 0),g=ih(()=>{p.current&&(p.current(),p.current=void 0)},100);return b.useEffect(()=>{const m=r.viewport;if(m){const v=()=>{if(g(),!p.current){const w=PB(m,d);p.current=w,d()}};return d(),m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[r.viewport,g,d]),u.jsx(Ie.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ye(i.onPointerDownCapture,m=>{const w=m.target.getBoundingClientRect(),A=m.clientX-w.left,S=m.clientY-w.top;l.onThumbPointerDown({x:A,y:S})}),onPointerUp:ye(i.onPointerUp,l.onThumbPointerUp)})});_C.displayName=wu;var Yg="ScrollAreaCorner",NC=b.forwardRef((i,e)=>{const t=Ts(Yg,i.__scopeScrollArea),s=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&s?u.jsx(_B,{...i,ref:e}):null});NC.displayName=Yg;var _B=b.forwardRef((i,e)=>{const{__scopeScrollArea:t,...s}=i,a=Ts(Yg,t),[r,l]=b.useState(0),[d,h]=b.useState(0),p=!!(r&&d);return _r(a.scrollbarX,()=>{const g=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(g),h(g)}),_r(a.scrollbarY,()=>{const g=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(g),l(g)}),p?u.jsx(Ie.div,{...s,ref:e,style:{width:r,height:d,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...i.style}}):null});function Su(i){return i?parseInt(i,10):0}function PC(i,e){const t=i/e;return isNaN(t)?0:t}function ah(i){const e=PC(i.viewport,i.content),t=i.scrollbar.paddingStart+i.scrollbar.paddingEnd,s=(i.scrollbar.size-t)*e;return Math.max(s,18)}function NB(i,e,t,s="ltr"){const a=ah(t),r=a/2,l=e||r,d=a-l,h=t.scrollbar.paddingStart+l,p=t.scrollbar.size-t.scrollbar.paddingEnd-d,g=t.content-t.viewport,m=s==="ltr"?[0,g]:[g*-1,0];return jC([h,p],m)(i)}function Ob(i,e,t="ltr"){const s=ah(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=e.scrollbar.size-a,l=e.content-e.viewport,d=r-s,h=t==="ltr"?[0,l]:[l*-1,0],p=ql(i,h);return jC([0,l],[0,d])(p)}function jC(i,e){return t=>{if(i[0]===i[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(i[1]-i[0]);return e[0]+s*(t-i[0])}}function DC(i,e){return i>0&&i<e}var PB=(i,e=()=>{})=>{let t={left:i.scrollLeft,top:i.scrollTop},s=0;return(function a(){const r={left:i.scrollLeft,top:i.scrollTop},l=t.left!==r.left,d=t.top!==r.top;(l||d)&&e(),t=r,s=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(s)};function ih(i,e){const t=An(i),s=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),b.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(t,e)},[t,e])}function _r(i,e){const t=An(e);En(()=>{let s=0;if(i){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(t)});return a.observe(i),()=>{window.cancelAnimationFrame(s),a.unobserve(i)}}},[i,t])}var jB=bC,DB=SC,kB=NC;function Lb({className:i,children:e,...t}){return u.jsxs(jB,{"code-path":"src\\components\\ui\\scroll-area.tsx:14:5","data-slot":"scroll-area",className:Ge("relative",i),...t,children:[u.jsx(DB,{"code-path":"src\\components\\ui\\scroll-area.tsx:19:7","data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),u.jsx(RB,{"code-path":"src\\components\\ui\\scroll-area.tsx:25:7"}),u.jsx(kB,{"code-path":"src\\components\\ui\\scroll-area.tsx:26:7"})]})}function RB({className:i,orientation:e="vertical",...t}){return u.jsx(AC,{"code-path":"src\\components\\ui\\scroll-area.tsx:37:5","data-slot":"scroll-area-scrollbar",orientation:e,className:Ge("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",i),...t,children:u.jsx(_C,{"code-path":"src\\components\\ui\\scroll-area.tsx:50:7","data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}Sa.workerSrc=`https://unpkg.com/pdfjs-dist@${Bg}/build/pdf.worker.min.mjs`;function MB({fileUrl:i,book:e,annotations:t,onAddAnnotation:s,onUpdateAnnotation:a,onDeleteAnnotation:r,onDownloadFile:l}){const[d,h]=b.useState(0),[p,g]=b.useState(1),[m,v]=b.useState(1.2),[w,A]=b.useState(0),[S,E]=b.useState(!1),[C,_]=b.useState(null),[N,j]=b.useState(""),[M,L]=b.useState(null),[O,I]=b.useState(null),[z,$]=b.useState(""),[Y,se]=b.useState(null),[re,ae]=b.useState(!1),[fe,D]=b.useState(!1),[U,H]=b.useState(!0),[F,K]=b.useState(!1),[P,R]=b.useState(!1),B=b.useRef(null),q=b.useRef(null),X=b.useRef(null),le=t.filter(xe=>xe.page===p),Z=({numPages:xe})=>{h(xe),g(1),se(null)},ce=xe=>{console.error("PDF load error:",xe),se("PDF")},pe=()=>g(xe=>Math.max(xe-1,1)),Ae=()=>g(xe=>Math.min(xe+1,d)),ve=()=>v(xe=>Math.min(3,xe+.2)),_e=()=>v(xe=>Math.max(.5,xe-.2)),Oe=()=>A(xe=>(xe+90)%360),ke=xe=>{if(!S||!q.current)return;const te=q.current.getBoundingClientRect(),Ne=(xe.clientX-te.left)/te.width,He=(xe.clientY-te.top)/te.height;_({x:Ne,y:He})},Q=()=>{!C||!N.trim()||(s({bookId:e.id,page:p,x:C.x,y:C.y,content:N.trim(),color:"#fbbf24"}),j(""),_(null),E(!1),be.success(""))},Se=()=>{!O||!z.trim()||(a(O.id,z.trim()),I(null),$(""),be.success(""))},Le=xe=>{r(xe),L(null),be.success("")},Je=()=>{document.fullscreenElement?(document.exitFullscreen(),ae(!1)):(B.current?.requestFullscreen(),ae(!0))},ct=()=>{D(!0)},mt=()=>{l&&l(U),D(!1)},Bt=()=>{const xe=window.open(i,"_blank");xe&&(xe.onload=()=>{xe.print()})},gt=b.useCallback(xe=>{xe.ctrlKey||xe.metaKey?(xe.preventDefault(),xe.deltaY<0?ve():_e()):!P&&!F&&(xe.preventDefault(),xe.deltaY>0?Ae():pe())},[P,F]);return b.useEffect(()=>{const xe=te=>{if(!F)switch(te.key){case"ArrowRight":case"ArrowDown":case" ":case"PageDown":te.preventDefault(),Ae();break;case"ArrowLeft":case"ArrowUp":case"PageUp":te.preventDefault(),pe();break;case"Home":te.preventDefault(),g(1);break;case"End":te.preventDefault(),g(d);break}};return window.addEventListener("keydown",xe),()=>window.removeEventListener("keydown",xe)},[d,F]),F?u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:216:7",className:"flex flex-col h-full bg-background",children:[u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:218:9",className:"flex items-center justify-between p-3 border-b bg-muted/50",children:[u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:219:11",className:"flex items-center gap-2",children:u.jsxs(ie,{"code-path":"src\\components\\PDFViewer.tsx:220:13",variant:"outline",size:"sm",onClick:()=>K(!1),children:[u.jsx(Kd,{"code-path":"src\\components\\PDFViewer.tsx:221:15",className:"h-4 w-4 mr-1"}),""]})}),u.jsx("span",{"code-path":"src\\components\\PDFViewer.tsx:225:11",className:"text-sm font-medium",children:""}),u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:226:11",className:"flex items-center gap-1",children:[u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:227:13",variant:"outline",size:"sm",onClick:()=>v(xe=>Math.max(.3,xe-.1)),children:u.jsx(Rp,{"code-path":"src\\components\\PDFViewer.tsx:228:15",className:"h-4 w-4"})}),u.jsxs("span",{"code-path":"src\\components\\PDFViewer.tsx:230:13",className:"text-sm w-12 text-center font-mono",children:[Math.round(m*100),"%"]}),u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:231:13",variant:"outline",size:"sm",onClick:()=>v(xe=>Math.min(2,xe+.1)),children:u.jsx(kp,{"code-path":"src\\components\\PDFViewer.tsx:232:15",className:"h-4 w-4"})})]})]}),u.jsx(Lb,{"code-path":"src\\components\\PDFViewer.tsx:238:9",className:"flex-1",children:u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:239:11",className:"p-4",children:u.jsx(tm,{"code-path":"src\\components\\PDFViewer.tsx:240:13",file:i,onLoadSuccess:Z,onLoadError:ce,loading:u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:245:17",className:"h-96 flex items-center justify-center",children:u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:246:19",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),children:u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:250:15",className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:d},(xe,te)=>te+1).map(xe=>u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:252:19",className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{g(xe),K(!1)},children:u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:260:21",className:"relative bg-white shadow-md rounded-lg overflow-hidden",children:[u.jsx(nm,{"code-path":"src\\components\\PDFViewer.tsx:261:23",pageNumber:xe,scale:.3,renderTextLayer:!1,renderAnnotationLayer:!1}),u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:267:23",className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-center text-xs py-1",children:[" ",xe," "]})]})},xe))})})})})]}):P?u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:284:7",className:"flex flex-col h-full bg-background",children:[u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:286:9",className:"flex items-center justify-between p-3 border-b bg-muted/50",children:[u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:287:11",className:"flex items-center gap-2",children:u.jsxs(ie,{"code-path":"src\\components\\PDFViewer.tsx:288:13",variant:"outline",size:"sm",onClick:()=>R(!1),children:[u.jsx(Kd,{"code-path":"src\\components\\PDFViewer.tsx:289:15",className:"h-4 w-4 mr-1"}),""]})}),u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:293:11",className:"flex items-center gap-1",children:[u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:294:13",variant:"outline",size:"sm",onClick:_e,children:u.jsx(Rp,{"code-path":"src\\components\\PDFViewer.tsx:295:15",className:"h-4 w-4"})}),u.jsxs("span",{"code-path":"src\\components\\PDFViewer.tsx:297:13",className:"text-sm w-12 text-center font-mono",children:[Math.round(m*100),"%"]}),u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:298:13",variant:"outline",size:"sm",onClick:ve,children:u.jsx(kp,{"code-path":"src\\components\\PDFViewer.tsx:299:15",className:"h-4 w-4"})}),u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:301:13",variant:"outline",size:"sm",onClick:Oe,children:u.jsx(u1,{"code-path":"src\\components\\PDFViewer.tsx:302:15",className:"h-4 w-4"})})]})]}),u.jsx(Lb,{"code-path":"src\\components\\PDFViewer.tsx:308:9",ref:X,className:"flex-1 bg-muted/30",children:u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:309:11",className:"py-8",children:u.jsx(tm,{"code-path":"src\\components\\PDFViewer.tsx:310:13",file:i,onLoadSuccess:Z,onLoadError:ce,loading:u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:315:17",className:"h-96 flex items-center justify-center",children:u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:316:19",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),children:u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:320:15",className:"space-y-4",children:Array.from({length:d},(xe,te)=>te+1).map(xe=>u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:322:19",className:"flex justify-center",children:u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:323:21",className:"relative shadow-xl rounded-lg overflow-hidden bg-white",children:[u.jsx(nm,{"code-path":"src\\components\\PDFViewer.tsx:324:23",pageNumber:xe,scale:m,rotate:w,renderTextLayer:!1,renderAnnotationLayer:!1}),u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:331:23",className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:[xe," / ",d]})]})},xe))})})})})]}):u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:347:5",ref:B,className:"flex flex-col h-full bg-background",onWheel:gt,children:[u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:353:7",className:"flex items-center justify-between p-3 border-b bg-muted/50 flex-wrap gap-2",children:[u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:354:9",className:"flex items-center gap-2",children:[u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:355:11",variant:"outline",size:"sm",onClick:pe,disabled:p<=1,children:u.jsx(xr,{"code-path":"src\\components\\PDFViewer.tsx:356:13",className:"h-4 w-4"})}),u.jsx("span",{"code-path":"src\\components\\PDFViewer.tsx:358:11",className:"text-sm min-w-[80px] text-center font-mono",children:d>0?`${p} / ${d}`:"-"}),u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:361:11",variant:"outline",size:"sm",onClick:Ae,disabled:p>=d,children:u.jsx(iu,{"code-path":"src\\components\\PDFViewer.tsx:362:13",className:"h-4 w-4"})})]}),u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:366:9",className:"flex items-center gap-1",children:[u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:367:11",variant:"outline",size:"sm",onClick:()=>K(!0),children:u.jsx(OP,{"code-path":"src\\components\\PDFViewer.tsx:368:13",className:"h-4 w-4"})}),u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:370:11",variant:"outline",size:"sm",onClick:()=>R(!0),children:u.jsx(Kd,{"code-path":"src\\components\\PDFViewer.tsx:371:13",className:"h-4 w-4"})}),u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:373:11",variant:"outline",size:"sm",onClick:_e,children:u.jsx(Rp,{"code-path":"src\\components\\PDFViewer.tsx:374:13",className:"h-4 w-4"})}),u.jsxs("span",{"code-path":"src\\components\\PDFViewer.tsx:376:11",className:"text-sm w-14 text-center font-mono",children:[Math.round(m*100),"%"]}),u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:377:11",variant:"outline",size:"sm",onClick:ve,children:u.jsx(kp,{"code-path":"src\\components\\PDFViewer.tsx:378:13",className:"h-4 w-4"})}),u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:380:11",variant:"outline",size:"sm",onClick:Oe,children:u.jsx(u1,{"code-path":"src\\components\\PDFViewer.tsx:381:13",className:"h-4 w-4"})})]}),u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:385:9",className:"flex items-center gap-1",children:[u.jsxs(ie,{"code-path":"src\\components\\PDFViewer.tsx:386:11",variant:S?"default":"outline",size:"sm",onClick:()=>{E(!S),_(null)},disabled:Y!==null,children:[u.jsx(Ls,{"code-path":"src\\components\\PDFViewer.tsx:395:13",className:"h-4 w-4 mr-1"}),""]}),u.jsxs(ie,{"code-path":"src\\components\\PDFViewer.tsx:398:11",variant:"outline",size:"sm",onClick:ct,children:[u.jsx(TP,{"code-path":"src\\components\\PDFViewer.tsx:399:13",className:"h-4 w-4 mr-1"}),""]}),u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:402:11",variant:"outline",size:"sm",onClick:Bt,children:u.jsx(ij,{"code-path":"src\\components\\PDFViewer.tsx:403:13",className:"h-4 w-4"})}),u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:405:11",variant:"outline",size:"sm",onClick:Je,children:re?u.jsx(YP,{"code-path":"src\\components\\PDFViewer.tsx:406:29",className:"h-4 w-4"}):u.jsx(jw,{"code-path":"src\\components\\PDFViewer.tsx:406:65",className:"h-4 w-4"})})]})]}),u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:412:7",className:"flex-1 overflow-auto p-4 relative bg-muted/30",children:[S&&u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:414:11",className:"absolute top-4 left-1/2 -translate-x-1/2 z-20 bg-primary text-primary-foreground px-4 py-2 rounded-full text-sm shadow-lg flex items-center gap-2",children:[u.jsx("span",{"code-path":"src\\components\\PDFViewer.tsx:415:13",children:""}),u.jsx("button",{"code-path":"src\\components\\PDFViewer.tsx:416:13",onClick:()=>{E(!1),_(null)},className:"hover:opacity-80",children:u.jsx(Cn,{"code-path":"src\\components\\PDFViewer.tsx:420:15",className:"h-4 w-4"})})]}),u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:426:9",className:"absolute bottom-4 right-4 z-10 text-xs text-muted-foreground bg-background/80 px-2 py-1 rounded space-y-1",children:[u.jsx("p",{"code-path":"src\\components\\PDFViewer.tsx:427:11",children:"  Ctrl+"}),u.jsx("p",{"code-path":"src\\components\\PDFViewer.tsx:428:11",children:"  "})]}),u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:431:9",className:"flex justify-center min-h-full items-start",children:Y?u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:433:13",className:"flex flex-col items-center justify-center h-96 text-muted-foreground",children:[u.jsx("p",{"code-path":"src\\components\\PDFViewer.tsx:434:15",className:"text-lg mb-2",children:Y}),u.jsx("p",{"code-path":"src\\components\\PDFViewer.tsx:435:15",className:"text-sm",children:""})]}):u.jsx(tm,{"code-path":"src\\components\\PDFViewer.tsx:438:13",file:i,onLoadSuccess:Z,onLoadError:ce,loading:u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:443:17",className:"h-96 flex items-center justify-center",children:u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:444:19",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),children:u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:448:15",ref:q,className:"relative inline-block shadow-xl rounded-lg overflow-hidden",onClick:ke,style:{cursor:S?"crosshair":"default"},children:[u.jsx(nm,{"code-path":"src\\components\\PDFViewer.tsx:454:17",pageNumber:p,scale:m,rotate:w,renderTextLayer:!1,renderAnnotationLayer:!1,loading:u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:461:21",className:"w-[400px] h-[600px] flex items-center justify-center",children:u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:462:23",className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}),le.map(xe=>u.jsx("button",{"code-path":"src\\components\\PDFViewer.tsx:469:19",className:"absolute w-8 h-8 -ml-4 -mt-4 rounded-full bg-amber-400 hover:bg-amber-500 flex items-center justify-center shadow-lg transition-transform hover:scale-110 z-10 border-2 border-white",style:{left:`${xe.x*100}%`,top:`${xe.y*100}%`},onClick:te=>{te.stopPropagation(),L(xe)},title:"",children:u.jsx(_u,{"code-path":"src\\components\\PDFViewer.tsx:476:21",className:"h-4 w-4 text-amber-900"})},xe.id)),C&&u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:482:19",className:"absolute w-8 h-8 -ml-4 -mt-4 rounded-full bg-primary flex items-center justify-center shadow-lg z-20 border-2 border-white",style:{left:`${C.x*100}%`,top:`${C.y*100}%`},children:u.jsx(Ls,{"code-path":"src\\components\\PDFViewer.tsx:486:21",className:"h-4 w-4 text-primary-foreground"})})]})})})]}),u.jsx(nn,{"code-path":"src\\components\\PDFViewer.tsx:496:7",open:!!C,onOpenChange:()=>_(null),children:u.jsxs(sn,{"code-path":"src\\components\\PDFViewer.tsx:497:9",children:[u.jsx(on,{"code-path":"src\\components\\PDFViewer.tsx:498:11",children:u.jsx(an,{"code-path":"src\\components\\PDFViewer.tsx:498:25",children:""})}),u.jsx(Bs,{"code-path":"src\\components\\PDFViewer.tsx:499:11",placeholder:"...",value:N,onChange:xe=>j(xe.target.value),rows:4,autoFocus:!0}),u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:506:11",className:"flex justify-end gap-2",children:[u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:507:13",variant:"outline",onClick:()=>_(null),children:""}),u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:508:13",onClick:Q,disabled:!N.trim(),children:""})]})]})}),u.jsx(nn,{"code-path":"src\\components\\PDFViewer.tsx:514:7",open:!!M,onOpenChange:()=>L(null),children:u.jsxs(sn,{"code-path":"src\\components\\PDFViewer.tsx:515:9",children:[u.jsx(on,{"code-path":"src\\components\\PDFViewer.tsx:516:11",children:u.jsx(an,{"code-path":"src\\components\\PDFViewer.tsx:516:25",children:""})}),u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:517:11",className:"py-4",children:O?.id===M?.id?u.jsxs(u.Fragment,{children:[u.jsx(Bs,{"code-path":"src\\components\\PDFViewer.tsx:520:17",value:z,onChange:xe=>$(xe.target.value),rows:4,autoFocus:!0}),u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:521:17",className:"flex justify-end gap-2 mt-4",children:[u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:522:19",variant:"outline",onClick:()=>{I(null),$("")},children:""}),u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:523:19",onClick:Se,children:""})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{"code-path":"src\\components\\PDFViewer.tsx:528:17",className:"whitespace-pre-wrap",children:M?.content}),u.jsxs("p",{"code-path":"src\\components\\PDFViewer.tsx:529:17",className:"text-xs text-muted-foreground mt-4",children:[" ",M?.page,"   ",M&&new Date(M.createdAt).toLocaleString()]}),u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:532:17",className:"flex justify-end gap-2 mt-4",children:[u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:533:19",variant:"outline",onClick:()=>{M&&(I(M),$(M.content))},children:""}),u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:534:19",variant:"destructive",onClick:()=>M&&Le(M.id),children:""})]})]})})]})}),u.jsx(nn,{"code-path":"src\\components\\PDFViewer.tsx:543:7",open:fe,onOpenChange:D,children:u.jsxs(sn,{"code-path":"src\\components\\PDFViewer.tsx:544:9",children:[u.jsx(on,{"code-path":"src\\components\\PDFViewer.tsx:545:11",children:u.jsxs(an,{"code-path":"src\\components\\PDFViewer.tsx:546:13",className:"flex items-center gap-2",children:[u.jsx(vr,{"code-path":"src\\components\\PDFViewer.tsx:547:15",className:"h-5 w-5"}),""]})}),u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:551:11",className:"py-4 space-y-4",children:[u.jsxs("p",{"code-path":"src\\components\\PDFViewer.tsx:552:13",className:"text-sm text-muted-foreground",children:["",e.title,"PDF"]}),u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:555:13",className:"flex items-center space-x-2",children:[u.jsx(Mm,{"code-path":"src\\components\\PDFViewer.tsx:556:15",id:"include-annotations",checked:U,onCheckedChange:xe=>H(xe)}),u.jsx("label",{"code-path":"src\\components\\PDFViewer.tsx:561:15",htmlFor:"include-annotations",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:""})]}),U&&t.length>0&&u.jsx("div",{"code-path":"src\\components\\PDFViewer.tsx:569:15",className:"p-3 bg-muted rounded-lg text-sm",children:u.jsxs("p",{"code-path":"src\\components\\PDFViewer.tsx:570:17",className:"text-muted-foreground",children:[" ",t.length," "]})})]}),u.jsxs("div",{"code-path":"src\\components\\PDFViewer.tsx:576:11",className:"flex justify-end gap-2",children:[u.jsx(ie,{"code-path":"src\\components\\PDFViewer.tsx:577:13",variant:"outline",onClick:()=>D(!1),children:""}),u.jsxs(ie,{"code-path":"src\\components\\PDFViewer.tsx:580:13",onClick:mt,children:[u.jsx(vr,{"code-path":"src\\components\\PDFViewer.tsx:581:15",className:"h-4 w-4 mr-1"}),""]})]})]})})]})}var kC=["PageUp","PageDown"],RC=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],MC={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ir="Slider",[Om,OB,LB]=Cu(Ir),[OC]=rs(Ir,[LB]),[BB,rh]=OC(Ir),LC=b.forwardRef((i,e)=>{const{name:t,min:s=0,max:a=100,step:r=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:h=0,defaultValue:p=[s],value:g,onValueChange:m=()=>{},onValueCommit:v=()=>{},inverted:w=!1,form:A,...S}=i,E=b.useRef(new Set),C=b.useRef(0),N=l==="horizontal"?IB:FB,[j=[],M]=Fo({prop:g,defaultProp:p,onChange:Y=>{[...E.current][C.current]?.focus(),m(Y)}}),L=b.useRef(j);function O(Y){const se=$B(j,Y);$(Y,se)}function I(Y){$(Y,C.current)}function z(){const Y=L.current[C.current];j[C.current]!==Y&&v(j)}function $(Y,se,{commit:re}={commit:!1}){const ae=XB(r),fe=WB(Math.round((Y-s)/r)*r+s,ae),D=ql(fe,[s,a]);M((U=[])=>{const H=UB(U,D,se);if(YB(H,h*r)){C.current=H.indexOf(D);const F=String(H)!==String(U);return F&&re&&v(H),F?H:U}else return U})}return u.jsx(BB,{scope:i.__scopeSlider,name:t,disabled:d,min:s,max:a,valueIndexToChangeRef:C,thumbs:E.current,values:j,orientation:l,form:A,children:u.jsx(Om.Provider,{scope:i.__scopeSlider,children:u.jsx(Om.Slot,{scope:i.__scopeSlider,children:u.jsx(N,{"aria-disabled":d,"data-disabled":d?"":void 0,...S,ref:e,onPointerDown:ye(S.onPointerDown,()=>{d||(L.current=j)}),min:s,max:a,inverted:w,onSlideStart:d?void 0:O,onSlideMove:d?void 0:I,onSlideEnd:d?void 0:z,onHomeKeyDown:()=>!d&&$(s,0,{commit:!0}),onEndKeyDown:()=>!d&&$(a,j.length-1,{commit:!0}),onStepKeyDown:({event:Y,direction:se})=>{if(!d){const fe=kC.includes(Y.key)||Y.shiftKey&&RC.includes(Y.key)?10:1,D=C.current,U=j[D],H=r*fe*se;$(U+H,D,{commit:!0})}}})})})})});LC.displayName=Ir;var[BC,IC]=OC(Ir,{startEdge:"left",endEdge:"right",size:"width",direction:1}),IB=b.forwardRef((i,e)=>{const{min:t,max:s,dir:a,inverted:r,onSlideStart:l,onSlideMove:d,onSlideEnd:h,onStepKeyDown:p,...g}=i,[m,v]=b.useState(null),w=qe(e,N=>v(N)),A=b.useRef(void 0),S=Nr(a),E=S==="ltr",C=E&&!r||!E&&r;function _(N){const j=A.current||m.getBoundingClientRect(),M=[0,j.width],O=Xg(M,C?[t,s]:[s,t]);return A.current=j,O(N-j.left)}return u.jsx(BC,{scope:i.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:u.jsx(FC,{dir:S,"data-orientation":"horizontal",...g,ref:w,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const j=_(N.clientX);l?.(j)},onSlideMove:N=>{const j=_(N.clientX);d?.(j)},onSlideEnd:()=>{A.current=void 0,h?.()},onStepKeyDown:N=>{const M=MC[C?"from-left":"from-right"].includes(N.key);p?.({event:N,direction:M?-1:1})}})})}),FB=b.forwardRef((i,e)=>{const{min:t,max:s,inverted:a,onSlideStart:r,onSlideMove:l,onSlideEnd:d,onStepKeyDown:h,...p}=i,g=b.useRef(null),m=qe(e,g),v=b.useRef(void 0),w=!a;function A(S){const E=v.current||g.current.getBoundingClientRect(),C=[0,E.height],N=Xg(C,w?[s,t]:[t,s]);return v.current=E,N(S-E.top)}return u.jsx(BC,{scope:i.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:u.jsx(FC,{"data-orientation":"vertical",...p,ref:m,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const E=A(S.clientY);r?.(E)},onSlideMove:S=>{const E=A(S.clientY);l?.(E)},onSlideEnd:()=>{v.current=void 0,d?.()},onStepKeyDown:S=>{const C=MC[w?"from-bottom":"from-top"].includes(S.key);h?.({event:S,direction:C?-1:1})}})})}),FC=b.forwardRef((i,e)=>{const{__scopeSlider:t,onSlideStart:s,onSlideMove:a,onSlideEnd:r,onHomeKeyDown:l,onEndKeyDown:d,onStepKeyDown:h,...p}=i,g=rh(Ir,t);return u.jsx(Ie.span,{...p,ref:e,onKeyDown:ye(i.onKeyDown,m=>{m.key==="Home"?(l(m),m.preventDefault()):m.key==="End"?(d(m),m.preventDefault()):kC.concat(RC).includes(m.key)&&(h(m),m.preventDefault())}),onPointerDown:ye(i.onPointerDown,m=>{const v=m.target;v.setPointerCapture(m.pointerId),m.preventDefault(),g.thumbs.has(v)?v.focus():s(m)}),onPointerMove:ye(i.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&a(m)}),onPointerUp:ye(i.onPointerUp,m=>{const v=m.target;v.hasPointerCapture(m.pointerId)&&(v.releasePointerCapture(m.pointerId),r(m))})})}),zC="SliderTrack",HC=b.forwardRef((i,e)=>{const{__scopeSlider:t,...s}=i,a=rh(zC,t);return u.jsx(Ie.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:e})});HC.displayName=zC;var Lm="SliderRange",UC=b.forwardRef((i,e)=>{const{__scopeSlider:t,...s}=i,a=rh(Lm,t),r=IC(Lm,t),l=b.useRef(null),d=qe(e,l),h=a.values.length,p=a.values.map(v=>GC(v,a.min,a.max)),g=h>1?Math.min(...p):0,m=100-Math.max(...p);return u.jsx(Ie.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:d,style:{...i.style,[r.startEdge]:g+"%",[r.endEdge]:m+"%"}})});UC.displayName=Lm;var Bm="SliderThumb",VC=b.forwardRef((i,e)=>{const t=OB(i.__scopeSlider),[s,a]=b.useState(null),r=qe(e,d=>a(d)),l=b.useMemo(()=>s?t().findIndex(d=>d.ref.current===s):-1,[t,s]);return u.jsx(zB,{...i,ref:r,index:l})}),zB=b.forwardRef((i,e)=>{const{__scopeSlider:t,index:s,name:a,...r}=i,l=rh(Bm,t),d=IC(Bm,t),[h,p]=b.useState(null),g=qe(e,_=>p(_)),m=h?l.form||!!h.closest("form"):!0,v=zu(h),w=l.values[s],A=w===void 0?0:GC(w,l.min,l.max),S=VB(s,l.values.length),E=v?.[d.size],C=E?GB(E,A,d.direction):0;return b.useEffect(()=>{if(h)return l.thumbs.add(h),()=>{l.thumbs.delete(h)}},[h,l.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${A}% + ${C}px)`},children:[u.jsx(Om.ItemSlot,{scope:i.__scopeSlider,children:u.jsx(Ie.span,{role:"slider","aria-label":i["aria-label"]||S,"aria-valuemin":l.min,"aria-valuenow":w,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...r,ref:g,style:w===void 0?{display:"none"}:i.style,onFocus:ye(i.onFocus,()=>{l.valueIndexToChangeRef.current=s})})}),m&&u.jsx($C,{name:a??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:w},s)]})});VC.displayName=Bm;var HB="RadioBubbleInput",$C=b.forwardRef(({__scopeSlider:i,value:e,...t},s)=>{const a=b.useRef(null),r=qe(a,s),l=Uu(e);return b.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==e&&g){const m=new Event("input",{bubbles:!0});g.call(d,e),d.dispatchEvent(m)}},[l,e]),u.jsx(Ie.input,{style:{display:"none"},...t,ref:r,defaultValue:e})});$C.displayName=HB;function UB(i=[],e,t){const s=[...i];return s[t]=e,s.sort((a,r)=>a-r)}function GC(i,e,t){const r=100/(t-e)*(i-e);return ql(r,[0,100])}function VB(i,e){return e>2?`Value ${i+1} of ${e}`:e===2?["Minimum","Maximum"][i]:void 0}function $B(i,e){if(i.length===1)return 0;const t=i.map(a=>Math.abs(a-e)),s=Math.min(...t);return t.indexOf(s)}function GB(i,e,t){const s=i/2,r=Xg([0,50],[0,s]);return(s-r(e)*t)*t}function qB(i){return i.slice(0,-1).map((e,t)=>i[t+1]-e)}function YB(i,e){if(e>0){const t=qB(i);return Math.min(...t)>=e}return!0}function Xg(i,e){return t=>{if(i[0]===i[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(i[1]-i[0]);return e[0]+s*(t-i[0])}}function XB(i){return(String(i).split(".")[1]||"").length}function WB(i,e){const t=Math.pow(10,e);return Math.round(i*t)/t}var KB=LC,QB=HC,ZB=UC,JB=VC;function Qa({className:i,defaultValue:e,value:t,min:s=0,max:a=100,...r}){const l=b.useMemo(()=>Array.isArray(t)?t:Array.isArray(e)?e:[s,a],[t,e,s,a]);return u.jsxs(KB,{"code-path":"src\\components\\ui\\slider.tsx:27:5","data-slot":"slider",defaultValue:e,value:t,min:s,max:a,className:Ge("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",i),...r,children:[u.jsx(QB,{"code-path":"src\\components\\ui\\slider.tsx:39:7","data-slot":"slider-track",className:Ge("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:u.jsx(ZB,{"code-path":"src\\components\\ui\\slider.tsx:45:9","data-slot":"slider-range",className:Ge("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(d,h)=>u.jsx(JB,{"code-path":"src\\components\\ui\\slider.tsx:53:9","data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},h))]})}var lh="Switch",[e6]=rs(lh),[t6,n6]=e6(lh),qC=b.forwardRef((i,e)=>{const{__scopeSwitch:t,name:s,checked:a,defaultChecked:r,required:l,disabled:d,value:h="on",onCheckedChange:p,form:g,...m}=i,[v,w]=b.useState(null),A=qe(e,N=>w(N)),S=b.useRef(!1),E=v?g||!!v.closest("form"):!0,[C,_]=Fo({prop:a,defaultProp:r??!1,onChange:p,caller:lh});return u.jsxs(t6,{scope:t,checked:C,disabled:d,children:[u.jsx(Ie.button,{type:"button",role:"switch","aria-checked":C,"aria-required":l,"data-state":KC(C),"data-disabled":d?"":void 0,disabled:d,value:h,...m,ref:A,onClick:ye(i.onClick,N=>{_(j=>!j),E&&(S.current=N.isPropagationStopped(),S.current||N.stopPropagation())})}),E&&u.jsx(WC,{control:v,bubbles:!S.current,name:s,value:h,checked:C,required:l,disabled:d,form:g,style:{transform:"translateX(-100%)"}})]})});qC.displayName=lh;var YC="SwitchThumb",XC=b.forwardRef((i,e)=>{const{__scopeSwitch:t,...s}=i,a=n6(YC,t);return u.jsx(Ie.span,{"data-state":KC(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e})});XC.displayName=YC;var s6="SwitchBubbleInput",WC=b.forwardRef(({__scopeSwitch:i,control:e,checked:t,bubbles:s=!0,...a},r)=>{const l=b.useRef(null),d=qe(l,r),h=Uu(t),p=zu(e);return b.useEffect(()=>{const g=l.current;if(!g)return;const m=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(m,"checked").set;if(h!==t&&w){const A=new Event("click",{bubbles:s});w.call(g,t),g.dispatchEvent(A)}},[h,t,s]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...a,tabIndex:-1,ref:d,style:{...a.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});WC.displayName=s6;function KC(i){return i?"checked":"unchecked"}var o6=qC,a6=XC;function i6({className:i,...e}){return u.jsx(o6,{"code-path":"src\\components\\ui\\switch.tsx:13:5","data-slot":"switch",className:Ge("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",i),...e,children:u.jsx(a6,{"code-path":"src\\components\\ui\\switch.tsx:21:7","data-slot":"switch-thumb",className:Ge("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const QC=[{name:"",value:"system-ui, -apple-system, sans-serif"},{name:"",value:'"Noto Serif SC", "SimSun", serif'},{name:"",value:'"Noto Sans SC", "SimHei", sans-serif'},{name:"",value:'"KaiTi", "STKaiti", serif'},{name:"",value:'"FangSong", "STFangsong", serif'},{name:"",value:'"Microsoft YaHei", sans-serif'}],sm=[{name:"",bg:"#ffffff",text:"#1a1a1a"},{name:"",bg:"#f5e6c8",text:"#3d3d3d"},{name:"",bg:"#c7edcc",text:"#2d5a27"},{name:"",bg:"#1a1a1a",text:"#b8b8b8"},{name:"",bg:"#e8f4fc",text:"#1a3a52"},{name:"",bg:"#fce8f0",text:"#521a3a"},{name:"",bg:"#3d2914",text:"#d4c4a8"},{name:"",bg:"#0d2818",text:"#90c695"}],r6=[{name:"",value:"scroll",icon:Kd},{name:"",value:"page",icon:kr}],l6=[{name:"",value:"left",icon:Tj},{name:"",value:"center",icon:Sj},{name:"",value:"justify",icon:Cj}];function c6(i){if(!i)return[{title:"",index:0,startLine:0,endLine:0,lines:[]}];const e=i.split(`
`),t=[],s=/^([\d]+|Chapter\s+\d+|\d+\.|.*?|.*?.*?)[\s:]/i;if(e.forEach((r,l)=>{const d=r.trim();(s.test(d)||d.length<50&&d.includes("")&&d.length>2)&&t.push({title:d.slice(0,50)||`${t.length+1}`,startLine:l})}),t.length===0)for(let r=0;r<e.length;r+=200)t.push({title:`${Math.floor(r/200)+1}`,startLine:r});return t.map((r,l)=>{const d=l<t.length-1?t[l+1].startLine-1:e.length-1;return{title:r.title,index:l,startLine:r.startLine,endLine:d,lines:e.slice(r.startLine,d+1)}})}function d6(i){try{const e=localStorage.getItem(`reader-progress-v5-${i}`);if(e){const t=JSON.parse(e);return{chapter:t.chapter||0,lineInChapter:t.lineInChapter||0}}}catch{}return{chapter:0,lineInChapter:0}}function u6(i,e,t){try{localStorage.setItem(`reader-progress-v5-${i}`,JSON.stringify({chapter:e,lineInChapter:t}))}catch{}}function h6(){const i={fontSize:18,fontFamily:QC[0].value,theme:0,pageMode:"scroll",lineHeight:1.8,letterSpacing:.5,textAlign:"left",paragraphSpacing:1,autoHideHeader:!0};try{const e=localStorage.getItem("text-reader-settings");if(e)return{...i,...JSON.parse(e)}}catch{}return i}function f6(i){try{localStorage.setItem("text-reader-settings",JSON.stringify(i))}catch{}}function p6({content:i,title:e,bookId:t,onClose:s}){if(!i)return u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:166:7",className:"fixed inset-0 z-50 flex items-center justify-center bg-background",children:u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:167:9",className:"text-center",children:[u.jsx("p",{"code-path":"src\\components\\TextReader.tsx:168:11",className:"text-muted-foreground",children:""}),u.jsx(ie,{"code-path":"src\\components\\TextReader.tsx:169:11",onClick:s,className:"mt-4",children:""})]})});const[a,r]=b.useState(h6()),[l,d]=b.useState(0),[h,p]=b.useState(0),[g,m]=b.useState(!1),[v,w]=b.useState(200),[A,S]=b.useState(!1),[E,C]=b.useState(!1),[_,N]=b.useState(!1),[j,M]=b.useState(!0),[L,O]=b.useState(""),I=b.useRef(null),z=b.useRef(null),$=b.useRef(null),Y=b.useRef(null),se=b.useRef(0),re=b.useRef(0),ae=b.useRef(!1),fe=b.useRef(0),D=b.useRef([]),U=b.useRef(!1),H=b.useRef(null),F=b.useMemo(()=>c6(i),[i]),K=sm[a.theme]||sm[0],P=F[l]||F[0],R=P?.lines.length||0,B=F.length,q=F.reduce((te,Ne)=>te+Ne.lines.length,0),le=F.slice(0,l).reduce((te,Ne)=>te+Ne.lines.length,0)+h,Z=Math.round(le/Math.max(1,q)*100),ce=25,pe=Math.max(1,Math.ceil(R/ce)),Ae=Math.floor(h/ce);b.useEffect(()=>{if(ae.current)return;ae.current=!0;const te=d6(t);if(te.chapter>=0&&te.chapter<F.length){d(te.chapter);const Ne=F[te.chapter],He=Math.max(0,Ne.lines.length-1);p(Math.min(te.lineInChapter,He))}},[t,F.length]),b.useEffect(()=>{const te=()=>{O(new Date().toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}))};te();const Ne=setInterval(te,6e4);return()=>clearInterval(Ne)},[]),b.useEffect(()=>{u6(t,l,h)},[l,h,t]),b.useEffect(()=>(g&&($.current=setInterval(()=>{if(a.pageMode==="scroll"){const te=_?z.current:I.current;te&&(te.scrollTop+=2)}else _e(h+1)},v)),()=>{$.current&&clearInterval($.current)}),[g,v,a.pageMode,h,_]),b.useEffect(()=>{f6(a)},[a]),b.useEffect(()=>{if(!a.autoHideHeader||_)return;const te=()=>{M(!0),Y.current&&clearTimeout(Y.current),Y.current=setTimeout(()=>M(!1),3e3)};te();const Ne=I.current;return Ne&&(Ne.addEventListener("scroll",te),Ne.addEventListener("touchstart",te)),()=>{Y.current&&clearTimeout(Y.current),Ne&&(Ne.removeEventListener("scroll",te),Ne.removeEventListener("touchstart",te))}},[a.autoHideHeader,_]),b.useEffect(()=>{const te=Ne=>{if(!(A||E))switch(Ne.key){case"ArrowRight":case"ArrowDown":case" ":case"PageDown":Ne.preventDefault(),Oe();break;case"ArrowLeft":case"ArrowUp":case"PageUp":Ne.preventDefault(),ke();break;case"Home":Ne.preventDefault(),Q(0);break;case"End":Ne.preventDefault(),Q(F.length-1);break}};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[A,E,h,l,F.length,a.pageMode,_]);const ve=()=>{if(a.pageMode!=="scroll")return;U.current=!0,H.current&&clearTimeout(H.current);const te=_?z.current:I.current;if(!te)return;const Ne=te.scrollTop,He=te.clientHeight,dt=Ne+He/3;for(let Ct=0;Ct<F.length;Ct++){const Jt=D.current[Ct];if(!Jt)continue;const Rt=Jt.offsetTop,ls=Rt+Jt.offsetHeight;if(dt>=Rt&&dt<ls){l!==Ct&&d(Ct);break}}H.current=setTimeout(()=>{U.current=!1},150)},_e=te=>{const Ne=Math.max(0,P.lines.length-1),He=Math.max(0,Math.min(te,Ne));p(He)},Oe=()=>{if(a.pageMode==="page"){const te=h+ce;te>=R&&l<F.length-1?(d(Ne=>Ne+1),p(0)):te<R&&p(te)}else{const te=_?z.current:I.current;te&&te.scrollBy({top:te.clientHeight*.9,behavior:"smooth"})}},ke=()=>{if(a.pageMode==="page"){const te=h-ce;te<0&&l>0?(d(l-1),p(0)):te>=0&&p(te)}else{const te=_?z.current:I.current;te&&te.scrollBy({top:-te.clientHeight*.9,behavior:"smooth"})}},Q=te=>{te<0||te>=F.length||(d(te),p(0),C(!1),setTimeout(()=>{const Ne=_?z.current:I.current;if(Ne){if(a.pageMode==="page")Ne.scrollTop=0;else if(a.pageMode==="scroll"){const He=D.current[te];He&&Ne.scrollTo({top:He.offsetTop,behavior:"smooth"})}}},50))},Se=()=>{const te=!_,Ne=te?I.current:z.current;Ne&&(fe.current=Ne.scrollTop),N(te),te?(M(!1),document.fullscreenElement||document.documentElement.requestFullscreen().catch(()=>{})):(M(!0),document.fullscreenElement&&document.exitFullscreen().catch(()=>{}))};b.useEffect(()=>{const te=_?z.current:I.current;te&&fe.current>0&&setTimeout(()=>{te.scrollTop=fe.current},50)},[_]);const Le=te=>{se.current=te.touches[0].clientX,re.current=te.touches[0].clientY},Je=te=>{const Ne=se.current-te.changedTouches[0].clientX,He=re.current-te.changedTouches[0].clientY;Math.abs(Ne)>Math.abs(He)&&Math.abs(Ne)>50&&(Ne>0?Oe():ke())},ct=te=>{if(a.pageMode==="scroll"&&!_)return;const He=(_?z.current:I.current)?.getBoundingClientRect();if(!He)return;const dt=te.clientX-He.left;dt<He.width*.25?ke():dt>He.width*.75&&Oe()},mt=(te,Ne)=>{r(He=>({...He,[te]:Ne}))},Bt=()=>{const te=Ae*ce,Ne=Math.min(te+ce,R),He=P.lines.slice(te,Ne);return u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:503:7",style:{fontSize:`${a.fontSize}px`,fontFamily:a.fontFamily,lineHeight:a.lineHeight,letterSpacing:`${a.letterSpacing}px`,textAlign:a.textAlign,color:K.text},children:He.map((dt,Ct)=>u.jsx("p",{"code-path":"src\\components\\TextReader.tsx:512:11",style:{marginBottom:`${a.paragraphSpacing}em`},className:"break-words",children:dt.trim()||""},te+Ct))})},gt=()=>u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:526:7",children:F.map((te,Ne)=>u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:528:11",ref:He=>{D.current[Ne]=He},className:"mb-8",children:[u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:533:13",className:"text-center py-4 mb-4 border-b-2 border-dashed",style:{borderColor:`${K.text}20`,color:K.text,fontSize:`${a.fontSize*1.2}px`,fontWeight:"bold"},children:te.title}),u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:544:13",style:{fontSize:`${a.fontSize}px`,fontFamily:a.fontFamily,lineHeight:a.lineHeight,letterSpacing:`${a.letterSpacing}px`,textAlign:a.textAlign,color:K.text},children:te.lines.map((He,dt)=>u.jsx("p",{"code-path":"src\\components\\TextReader.tsx:553:17",style:{marginBottom:`${a.paragraphSpacing}em`},className:"break-words",children:He.trim()||""},dt))})]},Ne))}),xe=({onSelect:te})=>u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:569:5",className:"py-2",children:F.map((Ne,He)=>u.jsx("button",{"code-path":"src\\components\\TextReader.tsx:571:9",onClick:()=>te(He),className:`w-full text-left px-5 py-3.5 transition-all duration-200 ${l===He?"bg-primary/20 border-l-4 border-primary":"hover:bg-black/5 border-l-4 border-transparent"}`,style:{borderBottom:`1px solid ${K.text}10`},children:u.jsx("p",{"code-path":"src\\components\\TextReader.tsx:581:11",className:`text-sm ${l===He?"font-semibold":""}`,style:{color:K.text},children:Ne.title})},He))});return _?u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:594:7",className:"fixed inset-0 z-[100] flex flex-col",style:{backgroundColor:K.bg},children:[u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:598:9",className:"absolute bottom-6 left-6 z-10 text-xs opacity-50",style:{color:K.text},children:L}),u.jsxs("button",{"code-path":"src\\components\\TextReader.tsx:602:9",onClick:()=>C(!0),className:"absolute top-4 left-4 z-10 h-9 px-4 rounded-full text-sm font-medium transition-all duration-200 hover:scale-105 flex items-center gap-2",style:{backgroundColor:`${K.text}30`,color:K.text},children:[u.jsx(c1,{"code-path":"src\\components\\TextReader.tsx:607:11",className:"h-4 w-4"}),u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:608:11",className:"max-w-[140px] truncate",children:P?.title.slice(0,15)||""})]}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:611:9",className:"absolute top-4 right-4 z-10 flex items-center gap-2",children:[u.jsx("button",{"code-path":"src\\components\\TextReader.tsx:612:11",onClick:()=>l>0&&Q(l-1),disabled:l===0,className:`w-9 h-9 rounded-full flex items-center justify-center transition-all duration-200 ${l===0?"opacity-30 cursor-not-allowed":"hover:scale-110"}`,style:{backgroundColor:`${K.text}25`,color:K.text},title:"",children:u.jsx(Cw,{"code-path":"src\\components\\TextReader.tsx:621:13",className:"h-5 w-5"})}),u.jsx("button",{"code-path":"src\\components\\TextReader.tsx:624:11",onClick:()=>l<F.length-1&&Q(l+1),disabled:l>=F.length-1,className:`w-9 h-9 rounded-full flex items-center justify-center transition-all duration-200 ${l>=F.length-1?"opacity-30 cursor-not-allowed":"hover:scale-110"}`,style:{backgroundColor:`${K.text}25`,color:K.text},title:"",children:u.jsx($m,{"code-path":"src\\components\\TextReader.tsx:633:13",className:"h-5 w-5"})}),u.jsx("button",{"code-path":"src\\components\\TextReader.tsx:636:11",onClick:Se,className:"w-9 h-9 rounded-full flex items-center justify-center text-sm font-medium transition-all duration-200 hover:scale-110 ml-1",style:{backgroundColor:`${K.text}30`,color:K.text},title:"",children:u.jsx(Cn,{"code-path":"src\\components\\TextReader.tsx:642:13",className:"h-4 w-4"})})]}),u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:646:9",ref:z,className:"flex-1 overflow-auto px-6 py-16",onTouchStart:Le,onTouchEnd:Je,onClick:ct,onScroll:ve,children:u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:654:11",className:"max-w-2xl mx-auto",children:a.pageMode==="page"?Bt():gt()})}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:659:9",className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-10 text-xs opacity-50",style:{color:K.text},children:[Z,"%"]}),E&&u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:664:11",className:"fixed inset-0 z-[200] flex",onClick:()=>C(!1),children:[u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:668:13",className:"absolute inset-0 bg-black/50"}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:669:13",className:"relative w-full max-w-md h-full overflow-y-auto animate-in slide-in-from-left duration-200",style:{backgroundColor:K.bg},onClick:te=>te.stopPropagation(),children:[u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:674:15",className:"px-4 py-4 border-b flex items-center justify-between",style:{borderColor:`${K.text}15`},children:[u.jsx("h2",{"code-path":"src\\components\\TextReader.tsx:675:17",style:{color:K.text,fontSize:"1.1rem",fontWeight:600},children:""}),u.jsx("button",{"code-path":"src\\components\\TextReader.tsx:676:17",onClick:()=>C(!1),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:`${K.text}15`,color:K.text},children:u.jsx(Cn,{"code-path":"src\\components\\TextReader.tsx:681:19",className:"h-4 w-4"})})]}),u.jsx(xe,{"code-path":"src\\components\\TextReader.tsx:684:15",onSelect:Q})]})]})]}):u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:693:5",className:"fixed inset-0 z-50 flex flex-col",style:{backgroundColor:K.bg},children:[u.jsxs("header",{"code-path":"src\\components\\TextReader.tsx:697:7",className:`flex items-center justify-between px-3 py-2 border-b flex-shrink-0 transition-all duration-300 ${j?"opacity-100":"opacity-0 -translate-y-full pointer-events-none"}`,style:{borderColor:`${K.text}12`},children:[u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:703:9",className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx(ie,{"code-path":"src\\components\\TextReader.tsx:704:11",variant:"ghost",size:"icon",onClick:s,className:"h-8 w-8 flex-shrink-0",children:u.jsx(xr,{"code-path":"src\\components\\TextReader.tsx:705:13",className:"h-5 w-5",style:{color:K.text}})}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:707:11",className:"min-w-0 flex-1",children:[u.jsx("p",{"code-path":"src\\components\\TextReader.tsx:708:13",className:"text-sm font-medium truncate",style:{color:K.text},children:e}),u.jsxs("p",{"code-path":"src\\components\\TextReader.tsx:709:13",className:"text-xs opacity-50 truncate",style:{color:K.text},children:[P?.title||"","  ",Z,"%"]})]})]}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:715:9",className:"flex items-center gap-0.5 flex-shrink-0",children:[u.jsx(ie,{"code-path":"src\\components\\TextReader.tsx:716:11",variant:"ghost",size:"sm",onClick:Se,className:"h-8 px-2.5 text-xs",children:u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:717:13",style:{color:K.text},children:""})}),u.jsx(ie,{"code-path":"src\\components\\TextReader.tsx:719:11",variant:"ghost",size:"icon",onClick:()=>C(!0),className:"h-8 w-8",children:u.jsx(c1,{"code-path":"src\\components\\TextReader.tsx:720:13",className:"h-4 w-4",style:{color:K.text}})}),u.jsx(ie,{"code-path":"src\\components\\TextReader.tsx:722:11",variant:"ghost",size:"icon",onClick:()=>S(!0),className:"h-8 w-8",children:u.jsx(Nu,{"code-path":"src\\components\\TextReader.tsx:723:13",className:"h-4 w-4",style:{color:K.text}})})]})]}),u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:728:7",ref:I,className:"flex-1 overflow-auto relative",onTouchStart:Le,onTouchEnd:Je,onClick:ct,onScroll:ve,children:u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:736:9",className:"max-w-2xl mx-auto px-4 py-4",children:a.pageMode==="page"?Bt():gt()})}),u.jsx("footer",{"code-path":"src\\components\\TextReader.tsx:741:7",className:`px-3 py-2 border-t flex-shrink-0 transition-all duration-300 ${j?"opacity-100":"opacity-0 translate-y-full pointer-events-none"}`,style:{borderColor:`${K.text}12`},children:u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:747:9",className:"flex items-center justify-between",children:[u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:748:11",className:"flex items-center gap-2",children:[u.jsxs(ie,{"code-path":"src\\components\\TextReader.tsx:749:13",variant:"ghost",size:"sm",onClick:()=>m(!g),className:"h-8 gap-1.5",children:[g?u.jsx(kw,{"code-path":"src\\components\\TextReader.tsx:750:32",className:"h-4 w-4"}):u.jsx(Rw,{"code-path":"src\\components\\TextReader.tsx:750:64",className:"h-4 w-4"}),u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:751:15",className:"text-xs",style:{color:K.text},children:g?"":""})]}),u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:753:13",className:"text-xs opacity-50",style:{color:K.text},children:a.pageMode==="page"?`${Ae+1} / ${pe}`:`${l+1}/${B}`})]}),u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:757:11",className:"flex items-center gap-2",children:u.jsxs("span",{"code-path":"src\\components\\TextReader.tsx:758:13",className:"text-xs opacity-50",style:{color:K.text},children:[Z,"%"]})})]})}),A&&u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:764:9",className:"fixed inset-0 z-[200] flex justify-end",onClick:()=>S(!1),children:[u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:768:11",className:"absolute inset-0 bg-black/50"}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:769:11",className:"relative w-full max-w-md h-full overflow-y-auto animate-in slide-in-from-right duration-200",style:{backgroundColor:K.bg},onClick:te=>te.stopPropagation(),children:[u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:774:13",className:"px-4 py-3 border-b flex items-center justify-between",style:{borderColor:`${K.text}12`},children:[u.jsx("h2",{"code-path":"src\\components\\TextReader.tsx:775:15",style:{color:K.text,fontWeight:600},children:""}),u.jsx("button",{"code-path":"src\\components\\TextReader.tsx:776:15",onClick:()=>S(!1),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:`${K.text}15`,color:K.text},children:u.jsx(Cn,{"code-path":"src\\components\\TextReader.tsx:781:17",className:"h-4 w-4"})})]}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:785:13",className:"p-4 space-y-5",children:[u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:786:15",className:"space-y-2",children:[u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:787:17",className:"flex items-center justify-between",children:[u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:788:19",className:"text-sm",style:{color:K.text},children:""}),u.jsxs("span",{"code-path":"src\\components\\TextReader.tsx:789:19",className:"text-xs opacity-50",style:{color:K.text},children:[a.fontSize,"px"]})]}),u.jsx(Qa,{"code-path":"src\\components\\TextReader.tsx:791:17",value:[a.fontSize],onValueChange:te=>mt("fontSize",te[0]),min:12,max:32,step:1})]}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:794:15",className:"space-y-2",children:[u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:795:17",className:"text-sm",style:{color:K.text},children:""}),u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:796:17",className:"grid grid-cols-2 gap-2",children:QC.map(te=>u.jsx(ie,{"code-path":"src\\components\\TextReader.tsx:798:21",variant:a.fontFamily===te.value?"default":"outline",size:"sm",onClick:()=>mt("fontFamily",te.value),style:{fontFamily:te.value},className:"text-xs h-9",children:te.name},te.name))})]}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:803:15",className:"space-y-2",children:[u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:804:17",className:"text-sm",style:{color:K.text},children:""}),u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:805:17",className:"grid grid-cols-4 gap-2",children:sm.map((te,Ne)=>u.jsx("button",{"code-path":"src\\components\\TextReader.tsx:807:21",onClick:()=>mt("theme",Ne),className:`aspect-square rounded-lg border-2 transition-all ${a.theme===Ne?"border-primary":"border-transparent"}`,style:{backgroundColor:te.bg},children:u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:808:23",style:{color:te.text,fontSize:"10px"},children:te.name})},Ne))})]}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:814:15",className:"space-y-2",children:[u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:815:17",className:"text-sm",style:{color:K.text},children:""}),u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:816:17",className:"flex gap-2",children:r6.map(te=>u.jsxs(ie,{"code-path":"src\\components\\TextReader.tsx:818:21",variant:a.pageMode===te.value?"default":"outline",className:"flex-1 gap-2 h-9",onClick:()=>mt("pageMode",te.value),children:[u.jsx(te.icon,{"code-path":"src\\components\\TextReader.tsx:819:23",className:"h-4 w-4"}),te.name]},te.value))})]}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:825:15",className:"space-y-2",children:[u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:826:17",className:"text-sm",style:{color:K.text},children:""}),u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:827:17",className:"flex gap-2",children:l6.map(te=>u.jsxs(ie,{"code-path":"src\\components\\TextReader.tsx:829:21",variant:a.textAlign===te.value?"default":"outline",className:"flex-1 gap-2 h-9",onClick:()=>mt("textAlign",te.value),children:[u.jsx(te.icon,{"code-path":"src\\components\\TextReader.tsx:830:23",className:"h-4 w-4"}),te.name]},te.value))})]}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:836:15",className:"space-y-2",children:[u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:837:17",className:"flex items-center justify-between",children:[u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:838:19",className:"text-sm",style:{color:K.text},children:""}),u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:839:19",className:"text-xs opacity-50",style:{color:K.text},children:a.lineHeight.toFixed(1)})]}),u.jsx(Qa,{"code-path":"src\\components\\TextReader.tsx:841:17",value:[a.lineHeight],onValueChange:te=>mt("lineHeight",te[0]),min:1.2,max:2.5,step:.1})]}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:844:15",className:"space-y-2",children:[u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:845:17",className:"flex items-center justify-between",children:[u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:846:19",className:"text-sm",style:{color:K.text},children:""}),u.jsxs("span",{"code-path":"src\\components\\TextReader.tsx:847:19",className:"text-xs opacity-50",style:{color:K.text},children:[a.letterSpacing.toFixed(1),"px"]})]}),u.jsx(Qa,{"code-path":"src\\components\\TextReader.tsx:849:17",value:[a.letterSpacing],onValueChange:te=>mt("letterSpacing",te[0]),min:0,max:3,step:.1})]}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:852:15",className:"space-y-2",children:[u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:853:17",className:"flex items-center justify-between",children:[u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:854:19",className:"text-sm",style:{color:K.text},children:""}),u.jsxs("span",{"code-path":"src\\components\\TextReader.tsx:855:19",className:"text-xs opacity-50",style:{color:K.text},children:[a.paragraphSpacing.toFixed(1),"em"]})]}),u.jsx(Qa,{"code-path":"src\\components\\TextReader.tsx:857:17",value:[a.paragraphSpacing],onValueChange:te=>mt("paragraphSpacing",te[0]),min:0,max:2,step:.1})]}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:860:15",className:"flex items-center justify-between py-2",children:[u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:861:17",className:"flex items-center gap-2",children:[u.jsx(Dw,{"code-path":"src\\components\\TextReader.tsx:862:19",className:"h-4 w-4 opacity-60",style:{color:K.text}}),u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:863:19",className:"text-sm",style:{color:K.text},children:""})]}),u.jsx(i6,{"code-path":"src\\components\\TextReader.tsx:865:17",checked:a.autoHideHeader,onCheckedChange:te=>mt("autoHideHeader",te)})]}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:868:15",className:"space-y-2",children:[u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:869:17",className:"flex items-center gap-2",children:[u.jsx(lm,{"code-path":"src\\components\\TextReader.tsx:870:19",className:"h-4 w-4 opacity-60",style:{color:K.text}}),u.jsx("span",{"code-path":"src\\components\\TextReader.tsx:871:19",className:"text-sm",style:{color:K.text},children:""})]}),u.jsx(Qa,{"code-path":"src\\components\\TextReader.tsx:873:17",value:[v],onValueChange:te=>w(te[0]),min:50,max:500,step:10,inverted:!0}),u.jsx("p",{"code-path":"src\\components\\TextReader.tsx:874:17",className:"text-xs opacity-50",style:{color:K.text},children:""})]})]})]})]}),E&&u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:882:9",className:"fixed inset-0 z-[200] flex",onClick:()=>C(!1),children:[u.jsx("div",{"code-path":"src\\components\\TextReader.tsx:886:11",className:"absolute inset-0 bg-black/50"}),u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:887:11",className:"relative w-full max-w-md h-full overflow-y-auto animate-in slide-in-from-left duration-200",style:{backgroundColor:K.bg},onClick:te=>te.stopPropagation(),children:[u.jsxs("div",{"code-path":"src\\components\\TextReader.tsx:892:13",className:"px-4 py-3 border-b flex items-center justify-between",style:{borderColor:`${K.text}12`},children:[u.jsx("h2",{"code-path":"src\\components\\TextReader.tsx:893:15",style:{color:K.text,fontWeight:600},children:""}),u.jsx("button",{"code-path":"src\\components\\TextReader.tsx:894:15",onClick:()=>C(!1),className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:`${K.text}15`,color:K.text},children:u.jsx(Cn,{"code-path":"src\\components\\TextReader.tsx:899:17",className:"h-4 w-4"})})]}),u.jsx(xe,{"code-path":"src\\components\\TextReader.tsx:902:13",onSelect:Q})]})]})]})}const m6={ongoing:"",completed:"",archived:""},g6={ongoing:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700",archived:"bg-gray-100 text-gray-700"},Bb=i=>i<1024?i+" B":i<1024*1024?(i/1024).toFixed(1)+" KB":(i/(1024*1024)).toFixed(1)+" MB";function x6({projects:i,onAddProject:e,onDeleteProject:t,onAddKnowledge:s,onAddLesson:a,onAddFile:r,onDeleteFile:l,onDownloadFile:d}){const[h,p]=b.useState(!1),[g,m]=b.useState(null),[v,w]=b.useState(!1),[A,S]=b.useState(!1),[E,C]=b.useState(!1),_=b.useRef(null),[N,j]=b.useState({name:"",description:"",status:"ongoing",startDate:new Date().toISOString().split("T")[0],tags:[],newTag:""}),[M,L]=b.useState({title:"",content:"",category:"technical"}),[O,I]=b.useState({title:"",content:"",type:"success"}),[z,$]=b.useState({description:"",selectedFile:null}),Y=()=>{if(!N.name.trim()){be.error("");return}e({name:N.name.trim(),description:N.description.trim(),status:N.status,startDate:N.startDate,tags:N.tags}),j({name:"",description:"",status:"ongoing",startDate:new Date().toISOString().split("T")[0],tags:[],newTag:""}),p(!1),be.success("")},se=()=>{if(!g||!M.title.trim()||!M.content.trim()){be.error("");return}s(g.id,{title:M.title.trim(),content:M.content.trim(),category:M.category}),L({title:"",content:"",category:"technical"}),w(!1),be.success("")},re=()=>{if(!g||!O.title.trim()||!O.content.trim()){be.error("");return}a(g.id,{title:O.title.trim(),content:O.content.trim(),type:O.type}),I({title:"",content:"",type:"success"}),S(!1),be.success("")},ae=F=>{const K=F.target.files?.[0];K&&$({...z,selectedFile:K})},fe=async()=>{!g||!z.selectedFile||!r||(await r(g.id,z.selectedFile,z.description),$({description:"",selectedFile:null}),C(!1),_.current&&(_.current.value=""),be.success(""))},D=async F=>{if(!d)return;const K=await d(F.id);if(K){const P=new Blob([K.data],{type:K.type}),R=URL.createObjectURL(P),B=document.createElement("a");B.href=R,B.download=K.name,document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(R),be.success("")}else be.error("")},U=async F=>{!g||!l||(await l(g.id,F),be.success(""))},H=()=>{N.newTag.trim()&&!N.tags.includes(N.newTag.trim())&&j({...N,tags:[...N.tags,N.newTag.trim()],newTag:""})};return u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:213:5",className:"space-y-4",children:[u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:214:7",className:"flex items-center justify-between",children:[u.jsx("h2",{"code-path":"src\\components\\ProjectsPanel.tsx:215:9",className:"text-lg font-semibold",children:""}),u.jsxs(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:216:9",size:"sm",onClick:()=>p(!0),children:[u.jsx(Ls,{"code-path":"src\\components\\ProjectsPanel.tsx:217:11",className:"h-4 w-4 mr-1"}),""]})]}),i.length===0?u.jsx(qt,{"code-path":"src\\components\\ProjectsPanel.tsx:223:9",children:u.jsxs(Yt,{"code-path":"src\\components\\ProjectsPanel.tsx:224:11",className:"p-8 text-center",children:[u.jsx(Pw,{"code-path":"src\\components\\ProjectsPanel.tsx:225:13",className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),u.jsx("p",{"code-path":"src\\components\\ProjectsPanel.tsx:226:13",className:"text-muted-foreground",children:""}),u.jsx(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:227:13",variant:"outline",className:"mt-4",onClick:()=>p(!0),children:""})]})}):u.jsx("div",{"code-path":"src\\components\\ProjectsPanel.tsx:233:9",className:"space-y-3",children:i.map(F=>u.jsx(qt,{"code-path":"src\\components\\ProjectsPanel.tsx:235:13",className:"cursor-pointer hover:shadow-md transition-all duration-200",children:u.jsx(Yt,{"code-path":"src\\components\\ProjectsPanel.tsx:236:15",className:"p-4",children:u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:237:17",className:"flex items-start justify-between",children:[u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:238:19",className:"flex-1",onClick:()=>m(F),children:[u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:239:21",className:"flex items-center gap-2 mb-2",children:[u.jsx("h3",{"code-path":"src\\components\\ProjectsPanel.tsx:240:23",className:"font-semibold",children:F.name}),u.jsx(fn,{"code-path":"src\\components\\ProjectsPanel.tsx:241:23",className:g6[F.status],children:m6[F.status]})]}),u.jsx("p",{"code-path":"src\\components\\ProjectsPanel.tsx:245:21",className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:F.description}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:248:21",className:"flex items-center gap-4 text-xs text-muted-foreground",children:[u.jsxs("span",{"code-path":"src\\components\\ProjectsPanel.tsx:249:23",className:"flex items-center gap-1",children:[u.jsx(gr,{"code-path":"src\\components\\ProjectsPanel.tsx:250:25",className:"h-3 w-3"}),new Date(F.startDate).toLocaleDateString()]}),u.jsxs("span",{"code-path":"src\\components\\ProjectsPanel.tsx:253:23",className:"flex items-center gap-1",children:[u.jsx(jp,{"code-path":"src\\components\\ProjectsPanel.tsx:254:25",className:"h-3 w-3"}),F.knowledge.length," "]}),u.jsxs("span",{"code-path":"src\\components\\ProjectsPanel.tsx:257:23",className:"flex items-center gap-1",children:[u.jsx(Qd,{"code-path":"src\\components\\ProjectsPanel.tsx:258:25",className:"h-3 w-3"}),F.lessons.length," "]}),u.jsxs("span",{"code-path":"src\\components\\ProjectsPanel.tsx:261:23",className:"flex items-center gap-1",children:[u.jsx(wa,{"code-path":"src\\components\\ProjectsPanel.tsx:262:25",className:"h-3 w-3"}),F.files.length," "]})]}),F.tags.length>0&&u.jsx("div",{"code-path":"src\\components\\ProjectsPanel.tsx:267:23",className:"flex gap-1 mt-2",children:F.tags.map(K=>u.jsx(fn,{"code-path":"src\\components\\ProjectsPanel.tsx:269:27",variant:"secondary",className:"text-xs",children:K},K))})]}),u.jsxs(wr,{"code-path":"src\\components\\ProjectsPanel.tsx:276:19",children:[u.jsx(Sr,{"code-path":"src\\components\\ProjectsPanel.tsx:277:21",asChild:!0,children:u.jsx(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:278:23",variant:"ghost",size:"icon",className:"h-8 w-8",children:u.jsx(yr,{"code-path":"src\\components\\ProjectsPanel.tsx:279:25",className:"h-4 w-4"})})}),u.jsxs(Ar,{"code-path":"src\\components\\ProjectsPanel.tsx:282:21",align:"end",children:[u.jsxs(Gn,{"code-path":"src\\components\\ProjectsPanel.tsx:283:23",onClick:()=>m(F),children:[u.jsx(iu,{"code-path":"src\\components\\ProjectsPanel.tsx:284:25",className:"h-4 w-4 mr-2"}),""]}),u.jsxs(Gn,{"code-path":"src\\components\\ProjectsPanel.tsx:287:23",className:"text-destructive",onClick:()=>t(F.id),children:[u.jsx(io,{"code-path":"src\\components\\ProjectsPanel.tsx:291:25",className:"h-4 w-4 mr-2"}),""]})]})]})]})})},F.id))}),u.jsx(nn,{"code-path":"src\\components\\ProjectsPanel.tsx:304:7",open:!!g,onOpenChange:()=>m(null),children:u.jsx(sn,{"code-path":"src\\components\\ProjectsPanel.tsx:305:9",className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:g&&u.jsxs(u.Fragment,{children:[u.jsx(on,{"code-path":"src\\components\\ProjectsPanel.tsx:308:15",children:u.jsx(an,{"code-path":"src\\components\\ProjectsPanel.tsx:309:17",children:g.name})}),u.jsxs(Vm,{"code-path":"src\\components\\ProjectsPanel.tsx:312:15",defaultValue:"knowledge",className:"w-full",children:[u.jsxs(ww,{"code-path":"src\\components\\ProjectsPanel.tsx:313:17",className:"grid w-full grid-cols-3",children:[u.jsxs(ir,{"code-path":"src\\components\\ProjectsPanel.tsx:314:19",value:"knowledge",children:[u.jsx(jp,{"code-path":"src\\components\\ProjectsPanel.tsx:315:21",className:"h-4 w-4 mr-1"})," (",g.knowledge.length,")"]}),u.jsxs(ir,{"code-path":"src\\components\\ProjectsPanel.tsx:318:19",value:"lessons",children:[u.jsx(Qd,{"code-path":"src\\components\\ProjectsPanel.tsx:319:21",className:"h-4 w-4 mr-1"})," (",g.lessons.length,")"]}),u.jsxs(ir,{"code-path":"src\\components\\ProjectsPanel.tsx:322:19",value:"files",children:[u.jsx(wa,{"code-path":"src\\components\\ProjectsPanel.tsx:323:21",className:"h-4 w-4 mr-1"})," (",g.files.length,")"]})]}),u.jsxs(Ms,{"code-path":"src\\components\\ProjectsPanel.tsx:328:17",value:"knowledge",className:"space-y-4 mt-4",children:[u.jsxs(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:329:19",size:"sm",onClick:()=>w(!0),className:"w-full",children:[u.jsx(Ls,{"code-path":"src\\components\\ProjectsPanel.tsx:334:21",className:"h-4 w-4 mr-1"}),""]}),g.knowledge.length===0?u.jsx("p",{"code-path":"src\\components\\ProjectsPanel.tsx:339:21",className:"text-center text-muted-foreground py-8",children:""}):u.jsx("div",{"code-path":"src\\components\\ProjectsPanel.tsx:343:21",className:"space-y-3",children:g.knowledge.map(F=>u.jsx(qt,{"code-path":"src\\components\\ProjectsPanel.tsx:345:25",className:"transition-all duration-200 hover:shadow-sm",children:u.jsx(Yt,{"code-path":"src\\components\\ProjectsPanel.tsx:346:27",className:"p-4",children:u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:347:29",className:"flex items-start gap-2",children:[u.jsx(jp,{"code-path":"src\\components\\ProjectsPanel.tsx:348:31",className:"h-4 w-4 text-yellow-500 mt-0.5"}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:349:31",className:"flex-1",children:[u.jsx("h4",{"code-path":"src\\components\\ProjectsPanel.tsx:350:33",className:"font-medium text-sm",children:F.title}),u.jsx("p",{"code-path":"src\\components\\ProjectsPanel.tsx:351:33",className:"text-sm text-muted-foreground mt-1 whitespace-pre-wrap",children:F.content}),u.jsxs(fn,{"code-path":"src\\components\\ProjectsPanel.tsx:354:33",variant:"outline",className:"mt-2 text-xs",children:[F.category==="technical"&&"",F.category==="process"&&"",F.category==="communication"&&"",F.category==="other"&&""]})]})]})})},F.id))})]}),u.jsxs(Ms,{"code-path":"src\\components\\ProjectsPanel.tsx:369:17",value:"lessons",className:"space-y-4 mt-4",children:[u.jsxs(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:370:19",size:"sm",onClick:()=>S(!0),className:"w-full",children:[u.jsx(Ls,{"code-path":"src\\components\\ProjectsPanel.tsx:375:21",className:"h-4 w-4 mr-1"}),""]}),g.lessons.length===0?u.jsx("p",{"code-path":"src\\components\\ProjectsPanel.tsx:380:21",className:"text-center text-muted-foreground py-8",children:""}):u.jsx("div",{"code-path":"src\\components\\ProjectsPanel.tsx:384:21",className:"space-y-3",children:g.lessons.map(F=>u.jsx(qt,{"code-path":"src\\components\\ProjectsPanel.tsx:386:25",className:"transition-all duration-200 hover:shadow-sm",children:u.jsx(Yt,{"code-path":"src\\components\\ProjectsPanel.tsx:387:27",className:"p-4",children:u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:388:29",className:"flex items-start gap-2",children:[F.type==="success"&&u.jsx(Ew,{"code-path":"src\\components\\ProjectsPanel.tsx:390:33",className:"h-4 w-4 text-green-500 mt-0.5"}),F.type==="failure"&&u.jsx(Cn,{"code-path":"src\\components\\ProjectsPanel.tsx:393:33",className:"h-4 w-4 text-red-500 mt-0.5"}),F.type==="warning"&&u.jsx(Qd,{"code-path":"src\\components\\ProjectsPanel.tsx:396:33",className:"h-4 w-4 text-yellow-500 mt-0.5"}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:398:31",className:"flex-1",children:[u.jsx("h4",{"code-path":"src\\components\\ProjectsPanel.tsx:399:33",className:"font-medium text-sm",children:F.title}),u.jsx("p",{"code-path":"src\\components\\ProjectsPanel.tsx:400:33",className:"text-sm text-muted-foreground mt-1 whitespace-pre-wrap",children:F.content}),u.jsxs(fn,{"code-path":"src\\components\\ProjectsPanel.tsx:403:33",variant:"outline",className:`mt-2 text-xs ${F.type==="success"?"border-green-500 text-green-600":F.type==="failure"?"border-red-500 text-red-600":"border-yellow-500 text-yellow-600"}`,children:[F.type==="success"&&"",F.type==="failure"&&"",F.type==="warning"&&""]})]})]})})},F.id))})]}),u.jsxs(Ms,{"code-path":"src\\components\\ProjectsPanel.tsx:426:17",value:"files",className:"space-y-4 mt-4",children:[u.jsxs(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:427:19",size:"sm",onClick:()=>C(!0),className:"w-full",children:[u.jsx(Gl,{"code-path":"src\\components\\ProjectsPanel.tsx:432:21",className:"h-4 w-4 mr-1"}),""]}),g.files.length===0?u.jsx("p",{"code-path":"src\\components\\ProjectsPanel.tsx:437:21",className:"text-center text-muted-foreground py-8",children:""}):u.jsx("div",{"code-path":"src\\components\\ProjectsPanel.tsx:441:21",className:"space-y-2",children:g.files.map(F=>u.jsx(qt,{"code-path":"src\\components\\ProjectsPanel.tsx:443:25",className:"transition-all duration-200 hover:shadow-sm",children:u.jsx(Yt,{"code-path":"src\\components\\ProjectsPanel.tsx:444:27",className:"p-3",children:u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:445:29",className:"flex items-center justify-between",children:[u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:446:31",className:"flex items-center gap-3",children:[u.jsx(wa,{"code-path":"src\\components\\ProjectsPanel.tsx:447:33",className:"h-5 w-5 text-primary"}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:448:33",children:[u.jsx("p",{"code-path":"src\\components\\ProjectsPanel.tsx:449:35",className:"text-sm font-medium",children:F.name}),u.jsxs("p",{"code-path":"src\\components\\ProjectsPanel.tsx:450:35",className:"text-xs text-muted-foreground",children:[Bb(F.size),F.description&&`  ${F.description}`]})]})]}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:456:31",className:"flex gap-1",children:[u.jsx(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:457:33",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>D(F),children:u.jsx(vr,{"code-path":"src\\components\\ProjectsPanel.tsx:463:35",className:"h-4 w-4"})}),u.jsx(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:465:33",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>U(F.id),children:u.jsx(io,{"code-path":"src\\components\\ProjectsPanel.tsx:471:35",className:"h-4 w-4"})})]})]})})},F.id))})]})]})]})})}),u.jsx(nn,{"code-path":"src\\components\\ProjectsPanel.tsx:488:7",open:h,onOpenChange:p,children:u.jsxs(sn,{"code-path":"src\\components\\ProjectsPanel.tsx:489:9",className:"max-w-md",children:[u.jsx(on,{"code-path":"src\\components\\ProjectsPanel.tsx:490:11",children:u.jsx(an,{"code-path":"src\\components\\ProjectsPanel.tsx:491:13",children:""})}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:493:11",className:"space-y-4 py-4",children:[u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:494:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\ProjectsPanel.tsx:495:15",children:""}),u.jsx(ft,{"code-path":"src\\components\\ProjectsPanel.tsx:496:15",value:N.name,onChange:F=>j({...N,name:F.target.value}),placeholder:""})]}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:502:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\ProjectsPanel.tsx:503:15",children:""}),u.jsx(Bs,{"code-path":"src\\components\\ProjectsPanel.tsx:504:15",value:N.description,onChange:F=>j({...N,description:F.target.value}),placeholder:"",rows:3})]}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:511:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\ProjectsPanel.tsx:512:15",children:""}),u.jsxs(Oo,{"code-path":"src\\components\\ProjectsPanel.tsx:513:15",value:N.status,onValueChange:F=>j({...N,status:F}),children:[u.jsx(Bo,{"code-path":"src\\components\\ProjectsPanel.tsx:517:17",children:u.jsx(Lo,{"code-path":"src\\components\\ProjectsPanel.tsx:518:19"})}),u.jsxs(Io,{"code-path":"src\\components\\ProjectsPanel.tsx:520:17",children:[u.jsx(Gt,{"code-path":"src\\components\\ProjectsPanel.tsx:521:19",value:"ongoing",children:""}),u.jsx(Gt,{"code-path":"src\\components\\ProjectsPanel.tsx:522:19",value:"completed",children:""}),u.jsx(Gt,{"code-path":"src\\components\\ProjectsPanel.tsx:523:19",value:"archived",children:""})]})]})]}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:527:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\ProjectsPanel.tsx:528:15",children:""}),u.jsx(ft,{"code-path":"src\\components\\ProjectsPanel.tsx:529:15",type:"date",value:N.startDate,onChange:F=>j({...N,startDate:F.target.value})})]}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:535:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\ProjectsPanel.tsx:536:15",children:""}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:537:15",className:"flex gap-2",children:[u.jsx(ft,{"code-path":"src\\components\\ProjectsPanel.tsx:538:17",value:N.newTag,onChange:F=>j({...N,newTag:F.target.value}),placeholder:"",onKeyDown:F=>F.key==="Enter"&&H()}),u.jsx(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:544:17",type:"button",variant:"outline",onClick:H,children:""})]}),N.tags.length>0&&u.jsx("div",{"code-path":"src\\components\\ProjectsPanel.tsx:549:17",className:"flex flex-wrap gap-2 mt-2",children:N.tags.map(F=>u.jsxs(fn,{"code-path":"src\\components\\ProjectsPanel.tsx:551:21",variant:"secondary",className:"gap-1",children:[F,u.jsx("button",{"code-path":"src\\components\\ProjectsPanel.tsx:553:23",onClick:()=>j({...N,tags:N.tags.filter(K=>K!==F)}),children:u.jsx(Cn,{"code-path":"src\\components\\ProjectsPanel.tsx:554:25",className:"h-3 w-3"})})]},F))})]})]}),u.jsxs(Os,{"code-path":"src\\components\\ProjectsPanel.tsx:562:11",children:[u.jsx(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:563:13",variant:"outline",onClick:()=>p(!1),children:""}),u.jsx(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:566:13",onClick:Y,children:""})]})]})}),u.jsx(nn,{"code-path":"src\\components\\ProjectsPanel.tsx:572:7",open:v,onOpenChange:w,children:u.jsxs(sn,{"code-path":"src\\components\\ProjectsPanel.tsx:573:9",children:[u.jsx(on,{"code-path":"src\\components\\ProjectsPanel.tsx:574:11",children:u.jsx(an,{"code-path":"src\\components\\ProjectsPanel.tsx:575:13",children:""})}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:577:11",className:"space-y-4 py-4",children:[u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:578:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\ProjectsPanel.tsx:579:15",children:""}),u.jsx(ft,{"code-path":"src\\components\\ProjectsPanel.tsx:580:15",value:M.title,onChange:F=>L({...M,title:F.target.value}),placeholder:""})]}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:586:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\ProjectsPanel.tsx:587:15",children:""}),u.jsx(Bs,{"code-path":"src\\components\\ProjectsPanel.tsx:588:15",value:M.content,onChange:F=>L({...M,content:F.target.value}),placeholder:"",rows:4})]}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:595:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\ProjectsPanel.tsx:596:15",children:""}),u.jsxs(Oo,{"code-path":"src\\components\\ProjectsPanel.tsx:597:15",value:M.category,onValueChange:F=>L({...M,category:F}),children:[u.jsx(Bo,{"code-path":"src\\components\\ProjectsPanel.tsx:601:17",children:u.jsx(Lo,{"code-path":"src\\components\\ProjectsPanel.tsx:602:19"})}),u.jsxs(Io,{"code-path":"src\\components\\ProjectsPanel.tsx:604:17",children:[u.jsx(Gt,{"code-path":"src\\components\\ProjectsPanel.tsx:605:19",value:"technical",children:""}),u.jsx(Gt,{"code-path":"src\\components\\ProjectsPanel.tsx:606:19",value:"process",children:""}),u.jsx(Gt,{"code-path":"src\\components\\ProjectsPanel.tsx:607:19",value:"communication",children:""}),u.jsx(Gt,{"code-path":"src\\components\\ProjectsPanel.tsx:608:19",value:"other",children:""})]})]})]})]}),u.jsxs(Os,{"code-path":"src\\components\\ProjectsPanel.tsx:613:11",children:[u.jsx(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:614:13",variant:"outline",onClick:()=>w(!1),children:""}),u.jsx(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:617:13",onClick:se,children:""})]})]})}),u.jsx(nn,{"code-path":"src\\components\\ProjectsPanel.tsx:623:7",open:A,onOpenChange:S,children:u.jsxs(sn,{"code-path":"src\\components\\ProjectsPanel.tsx:624:9",children:[u.jsx(on,{"code-path":"src\\components\\ProjectsPanel.tsx:625:11",children:u.jsx(an,{"code-path":"src\\components\\ProjectsPanel.tsx:626:13",children:""})}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:628:11",className:"space-y-4 py-4",children:[u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:629:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\ProjectsPanel.tsx:630:15",children:""}),u.jsx(ft,{"code-path":"src\\components\\ProjectsPanel.tsx:631:15",value:O.title,onChange:F=>I({...O,title:F.target.value}),placeholder:""})]}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:637:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\ProjectsPanel.tsx:638:15",children:""}),u.jsx(Bs,{"code-path":"src\\components\\ProjectsPanel.tsx:639:15",value:O.content,onChange:F=>I({...O,content:F.target.value}),placeholder:"",rows:4})]}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:646:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\ProjectsPanel.tsx:647:15",children:""}),u.jsxs(Oo,{"code-path":"src\\components\\ProjectsPanel.tsx:648:15",value:O.type,onValueChange:F=>I({...O,type:F}),children:[u.jsx(Bo,{"code-path":"src\\components\\ProjectsPanel.tsx:652:17",children:u.jsx(Lo,{"code-path":"src\\components\\ProjectsPanel.tsx:653:19"})}),u.jsxs(Io,{"code-path":"src\\components\\ProjectsPanel.tsx:655:17",children:[u.jsx(Gt,{"code-path":"src\\components\\ProjectsPanel.tsx:656:19",value:"success",children:""}),u.jsx(Gt,{"code-path":"src\\components\\ProjectsPanel.tsx:657:19",value:"failure",children:""}),u.jsx(Gt,{"code-path":"src\\components\\ProjectsPanel.tsx:658:19",value:"warning",children:""})]})]})]})]}),u.jsxs(Os,{"code-path":"src\\components\\ProjectsPanel.tsx:663:11",children:[u.jsx(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:664:13",variant:"outline",onClick:()=>S(!1),children:""}),u.jsx(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:667:13",onClick:re,children:""})]})]})}),u.jsx(nn,{"code-path":"src\\components\\ProjectsPanel.tsx:673:7",open:E,onOpenChange:C,children:u.jsxs(sn,{"code-path":"src\\components\\ProjectsPanel.tsx:674:9",children:[u.jsx(on,{"code-path":"src\\components\\ProjectsPanel.tsx:675:11",children:u.jsx(an,{"code-path":"src\\components\\ProjectsPanel.tsx:676:13",children:""})}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:678:11",className:"space-y-4 py-4",children:[u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:679:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\ProjectsPanel.tsx:680:15",children:""}),u.jsx(ft,{"code-path":"src\\components\\ProjectsPanel.tsx:681:15",ref:_,type:"file",onChange:ae})]}),z.selectedFile&&u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:688:15",className:"p-3 bg-muted rounded-lg",children:[u.jsx("p",{"code-path":"src\\components\\ProjectsPanel.tsx:689:17",className:"text-sm font-medium",children:z.selectedFile.name}),u.jsx("p",{"code-path":"src\\components\\ProjectsPanel.tsx:690:17",className:"text-xs text-muted-foreground",children:Bb(z.selectedFile.size)})]}),u.jsxs("div",{"code-path":"src\\components\\ProjectsPanel.tsx:693:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\ProjectsPanel.tsx:694:15",children:""}),u.jsx(ft,{"code-path":"src\\components\\ProjectsPanel.tsx:695:15",value:z.description,onChange:F=>$({...z,description:F.target.value}),placeholder:""})]})]}),u.jsxs(Os,{"code-path":"src\\components\\ProjectsPanel.tsx:702:11",children:[u.jsx(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:703:13",variant:"outline",onClick:()=>C(!1),children:""}),u.jsx(ie,{"code-path":"src\\components\\ProjectsPanel.tsx:706:13",onClick:fe,disabled:!z.selectedFile,children:""})]})]})})]})}const v6=["","","","","","",""],om=["","","","","","",""],y6=["","","","","","","","","","","",""],Ll=[{bg:"bg-blue-100",border:"border-blue-300",text:"text-blue-800"},{bg:"bg-green-100",border:"border-green-300",text:"text-green-800"},{bg:"bg-yellow-100",border:"border-yellow-300",text:"text-yellow-800"},{bg:"bg-red-100",border:"border-red-300",text:"text-red-800"},{bg:"bg-purple-100",border:"border-purple-300",text:"text-purple-800"},{bg:"bg-pink-100",border:"border-pink-300",text:"text-pink-800"},{bg:"bg-indigo-100",border:"border-indigo-300",text:"text-indigo-800"},{bg:"bg-orange-100",border:"border-orange-300",text:"text-orange-800"}],Xd=["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00"];function Ib(i,e){return new Date(i,e+1,0).getDate()}function b6(i,e){return new Date(i,e,1).getDay()}function Fb(i,e){return i.getFullYear()===e.getFullYear()&&i.getMonth()===e.getMonth()&&i.getDate()===e.getDate()}function Wd(i){return`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")}`}function w6(){try{const i=localStorage.getItem("schedule-courses");if(i)return JSON.parse(i)}catch{}return[]}function S6(i){try{localStorage.setItem("schedule-courses",JSON.stringify(i))}catch{}}function A6({notes:i,onAddNote:e,onUpdateNote:t,onDeleteNote:s,onToggleComplete:a}){const[r,l]=b.useState(new Date),[d,h]=b.useState(null),[p,g]=b.useState(!1),[m,v]=b.useState(!1),[w,A]=b.useState(null),[S,E]=b.useState("calendar"),[C,_]=b.useState(w6()),[N,j]=b.useState(1),[M,L]=b.useState(!1),[O,I]=b.useState(null),[z,$]=b.useState({name:"",location:"",day:1,startTime:"08:00",endTime:"09:40",color:"0",weekType:"all"}),Y=r.getFullYear(),se=r.getMonth();b.useEffect(()=>{S6(C)},[C]);const re=Ib(Y,se),ae=b6(Y,se),fe=Ib(Y,se-1),D=b.useMemo(()=>{const Q={};return i.forEach(Se=>{if(Se.dueDate){const Le=new Date(Se.dueDate),Je=Wd(Le);Q[Je]||(Q[Je]=[]),Q[Je].push(Se)}}),Q},[i]),U=b.useMemo(()=>{if(!d)return[];const Q=Wd(d);return D[Q]||[]},[d,D]),H=b.useMemo(()=>i.filter(Q=>!Q.completed&&Q.type==="todo"),[i]),[F,K]=b.useState({title:"",content:"",type:"todo",dueDate:"",dueTime:""}),P=Q=>{l(new Date(Y,se+Q,1))},R=()=>{const Q=new Date;l(Q),h(Q)},B=()=>{if(!F.title.trim()){be.error("");return}e({title:F.title,content:F.content,type:F.type,dueDate:F.dueDate||void 0,dueTime:F.dueTime||void 0,tags:[],priority:"medium"}),K({title:"",content:"",type:"todo",dueDate:"",dueTime:""}),g(!1),be.success("")},q=()=>{!w||!F.title.trim()||(t(w.id,{title:F.title,content:F.content,type:F.type,dueDate:F.dueDate||void 0,dueTime:F.dueTime||void 0}),v(!1),A(null),be.success(""))},X=Q=>{A(Q),K({title:Q.title,content:Q.content,type:Q.type==="todo"||Q.type==="note"?Q.type:"todo",dueDate:Q.dueDate||"",dueTime:Q.dueTime||""}),v(!0)},le=Q=>{s(Q),be.success("")},Z=()=>{if(!z.name.trim()){be.error("");return}const Q={id:Date.now().toString(),name:z.name,location:z.location,day:z.day,startTime:z.startTime,endTime:z.endTime,color:z.color,weekType:z.weekType};_([...C,Q]),$({name:"",location:"",day:1,startTime:"08:00",endTime:"09:40",color:"0",weekType:"all"}),L(!1),be.success("")},ce=()=>{!O||!z.name.trim()||(_(C.map(Q=>Q.id===O.id?{...Q,...z}:Q)),L(!1),I(null),be.success(""))},pe=Q=>{_(C.filter(Se=>Se.id!==Q)),be.success("")},Ae=Q=>{I(Q),$({name:Q.name,location:Q.location,day:Q.day,startTime:Q.startTime,endTime:Q.endTime,color:Q.color,weekType:Q.weekType}),L(!0)},ve=()=>{I(null),$({name:"",location:"",day:1,startTime:"08:00",endTime:"09:40",color:"0",weekType:"all"}),L(!0)},_e=Q=>C.filter(Se=>Se.day===Q).filter(Se=>Se.weekType==="all"?!0:Se.weekType==="odd"?N%2===1:Se.weekType==="even"?N%2===0:!0).sort((Se,Le)=>Se.startTime.localeCompare(Le.startTime)),Oe=Q=>{const Se=Xd.findIndex(Bt=>Bt>=Q.startTime),Le=Xd.findIndex(Bt=>Bt>=Q.endTime),Je=Se>=0?Se*32:0,ct=Math.max(32,(Le-Se)*32),mt=Ll[parseInt(Q.color)%Ll.length];return{top:`${Je}px`,height:`${ct}px`,colorSet:mt}},ke=()=>{const Q=[],Se=new Date;for(let Je=ae-1;Je>=0;Je--){const ct=fe-Je;Q.push(u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:355:9",className:"p-2 text-center text-muted-foreground opacity-50",children:ct},`prev-${ct}`))}for(let Je=1;Je<=re;Je++){const ct=new Date(Y,se,Je),mt=Wd(ct),Bt=D[mt]||[],gt=Bt.length>0,xe=Fb(ct,Se),te=d&&Fb(ct,d);Q.push(u.jsxs("button",{"code-path":"src\\components\\SchedulePanel.tsx:371:9",onClick:()=>h(ct),className:`p-2 text-center rounded-lg transition-all relative ${te?"bg-primary text-primary-foreground":xe?"bg-primary/20 text-primary font-semibold":"hover:bg-muted"}`,children:[u.jsx("span",{"code-path":"src\\components\\SchedulePanel.tsx:382:11",children:Je}),gt&&u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:384:13",className:"absolute bottom-1 left-1/2 -translate-x-1/2 flex gap-0.5",children:Bt.slice(0,3).map((Ne,He)=>u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:386:17",className:`w-1 h-1 rounded-full ${Ne.completed?"bg-green-500":"bg-orange-500"}`},He))})]},`current-${Je}`))}const Le=42-Q.length;for(let Je=1;Je<=Le;Je++)Q.push(u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:403:9",className:"p-2 text-center text-muted-foreground opacity-50",children:Je},`next-${Je}`));return Q};return u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:413:5",className:"space-y-4 pb-20",children:[u.jsxs(Vm,{"code-path":"src\\components\\SchedulePanel.tsx:414:7",value:S,onValueChange:E,className:"w-full",children:[u.jsxs(ww,{"code-path":"src\\components\\SchedulePanel.tsx:415:9",className:"grid w-full grid-cols-3",children:[u.jsxs(ir,{"code-path":"src\\components\\SchedulePanel.tsx:416:11",value:"calendar",className:"flex items-center gap-1.5",children:[u.jsx(gr,{"code-path":"src\\components\\SchedulePanel.tsx:417:13",className:"h-4 w-4"}),""]}),u.jsxs(ir,{"code-path":"src\\components\\SchedulePanel.tsx:420:11",value:"schedule",className:"flex items-center gap-1.5",children:[u.jsx(kr,{"code-path":"src\\components\\SchedulePanel.tsx:421:13",className:"h-4 w-4"}),""]}),u.jsxs(ir,{"code-path":"src\\components\\SchedulePanel.tsx:424:11",value:"todos",className:"flex items-center gap-1.5",children:[u.jsx(zP,{"code-path":"src\\components\\SchedulePanel.tsx:425:13",className:"h-4 w-4"}),""]})]}),u.jsxs(Ms,{"code-path":"src\\components\\SchedulePanel.tsx:431:9",value:"calendar",className:"space-y-4",children:[u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:433:11",className:"flex items-center justify-between",children:[u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:434:13",className:"flex items-center gap-2",children:[u.jsx(ie,{"code-path":"src\\components\\SchedulePanel.tsx:435:15",variant:"outline",size:"icon",onClick:()=>P(-1),children:u.jsx(xr,{"code-path":"src\\components\\SchedulePanel.tsx:436:17",className:"h-4 w-4"})}),u.jsxs("span",{"code-path":"src\\components\\SchedulePanel.tsx:438:15",className:"text-lg font-semibold min-w-[120px] text-center",children:[Y," ",y6[se]]}),u.jsx(ie,{"code-path":"src\\components\\SchedulePanel.tsx:441:15",variant:"outline",size:"icon",onClick:()=>P(1),children:u.jsx(iu,{"code-path":"src\\components\\SchedulePanel.tsx:442:17",className:"h-4 w-4"})})]}),u.jsx(ie,{"code-path":"src\\components\\SchedulePanel.tsx:445:13",variant:"outline",size:"sm",onClick:R,children:""})]}),u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:451:11",className:"grid grid-cols-7 gap-1",children:v6.map(Q=>u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:453:15",className:"text-center text-sm font-medium text-muted-foreground py-2",children:["",Q]},Q))}),u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:460:11",className:"grid grid-cols-7 gap-1",children:ke()}),d&&u.jsx(qt,{"code-path":"src\\components\\SchedulePanel.tsx:466:13",children:u.jsxs(Yt,{"code-path":"src\\components\\SchedulePanel.tsx:467:15",className:"p-4",children:[u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:468:17",className:"flex items-center justify-between mb-3",children:[u.jsxs("h3",{"code-path":"src\\components\\SchedulePanel.tsx:469:19",className:"font-semibold",children:[d.getMonth()+1,"",d.getDate(),""]}),u.jsxs(ie,{"code-path":"src\\components\\SchedulePanel.tsx:472:19",size:"sm",onClick:()=>{K({...F,dueDate:Wd(d)}),g(!0)},children:[u.jsx(Ls,{"code-path":"src\\components\\SchedulePanel.tsx:479:21",className:"h-4 w-4 mr-1"}),""]})]}),u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:483:17",className:"space-y-2",children:U.length===0?u.jsx("p",{"code-path":"src\\components\\SchedulePanel.tsx:485:21",className:"text-sm text-muted-foreground text-center py-4",children:""}):U.map(Q=>u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:490:23",className:"flex items-start gap-2 p-2 rounded-lg hover:bg-muted group",children:[u.jsx(Mm,{"code-path":"src\\components\\SchedulePanel.tsx:494:25",checked:Q.completed,onCheckedChange:()=>a(Q.id),className:"mt-0.5"}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:499:25",className:"flex-1 min-w-0",children:[u.jsx("p",{"code-path":"src\\components\\SchedulePanel.tsx:500:27",className:`text-sm font-medium ${Q.completed?"line-through text-muted-foreground":""}`,children:Q.title}),Q.dueTime&&u.jsxs("p",{"code-path":"src\\components\\SchedulePanel.tsx:504:29",className:"text-xs text-muted-foreground flex items-center gap-1",children:[u.jsx(lm,{"code-path":"src\\components\\SchedulePanel.tsx:505:31",className:"h-3 w-3"}),Q.dueTime]})]}),u.jsxs(wr,{"code-path":"src\\components\\SchedulePanel.tsx:510:25",children:[u.jsx(Sr,{"code-path":"src\\components\\SchedulePanel.tsx:511:27",asChild:!0,children:u.jsx(ie,{"code-path":"src\\components\\SchedulePanel.tsx:512:29",variant:"ghost",size:"icon",className:"h-7 w-7 opacity-0 group-hover:opacity-100",children:u.jsx(yr,{"code-path":"src\\components\\SchedulePanel.tsx:513:31",className:"h-4 w-4"})})}),u.jsxs(Ar,{"code-path":"src\\components\\SchedulePanel.tsx:516:27",align:"end",children:[u.jsxs(Gn,{"code-path":"src\\components\\SchedulePanel.tsx:517:29",onClick:()=>X(Q),children:[u.jsx(Ul,{"code-path":"src\\components\\SchedulePanel.tsx:518:31",className:"h-4 w-4 mr-2"}),""]}),u.jsxs(Gn,{"code-path":"src\\components\\SchedulePanel.tsx:521:29",onClick:()=>le(Q.id),className:"text-red-600",children:[u.jsx(io,{"code-path":"src\\components\\SchedulePanel.tsx:522:31",className:"h-4 w-4 mr-2"}),""]})]})]})]},Q.id))})]})})]}),u.jsxs(Ms,{"code-path":"src\\components\\SchedulePanel.tsx:537:9",value:"schedule",className:"space-y-4",children:[u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:538:11",className:"flex items-center justify-between",children:[u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:539:13",className:"flex items-center gap-3",children:[u.jsx("h2",{"code-path":"src\\components\\SchedulePanel.tsx:540:15",className:"text-lg font-semibold",children:""}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:542:15",className:"flex items-center gap-1 bg-muted rounded-lg p-1",children:[u.jsx("button",{"code-path":"src\\components\\SchedulePanel.tsx:543:17",onClick:()=>j(Math.max(1,N-1)),className:"p-1.5 rounded hover:bg-background transition-colors",children:u.jsx(xr,{"code-path":"src\\components\\SchedulePanel.tsx:547:19",className:"h-4 w-4"})}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:549:17",className:"px-3 py-1 text-sm font-medium min-w-[80px] text-center",children:[" ",N," "]}),u.jsx("button",{"code-path":"src\\components\\SchedulePanel.tsx:552:17",onClick:()=>j(N+1),className:"p-1.5 rounded hover:bg-background transition-colors",children:u.jsx(iu,{"code-path":"src\\components\\SchedulePanel.tsx:556:19",className:"h-4 w-4"})})]}),u.jsx("span",{"code-path":"src\\components\\SchedulePanel.tsx:559:15",className:"text-xs text-muted-foreground",children:N%2===1?"":""})]}),u.jsxs(ie,{"code-path":"src\\components\\SchedulePanel.tsx:563:13",size:"sm",onClick:ve,children:[u.jsx(Ls,{"code-path":"src\\components\\SchedulePanel.tsx:564:15",className:"h-4 w-4 mr-1"}),""]})]}),u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:570:11",className:"overflow-x-auto",children:u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:571:13",className:"min-w-[800px]",children:[u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:573:15",className:"grid grid-cols-8 gap-1 mb-1",children:[u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:574:17",className:"text-center text-sm font-medium text-muted-foreground py-2",children:""}),om.map(Q=>u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:576:19",className:"text-center text-sm font-medium py-2 bg-muted rounded",children:Q},Q))]}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:583:15",className:"grid grid-cols-8 gap-1 relative",children:[u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:585:17",className:"space-y-0",children:Xd.map((Q,Se)=>u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:587:21",className:"h-8 text-xs text-muted-foreground text-right pr-2 flex items-center justify-end",children:Se%2===0?Q:""},Q))}),[1,2,3,4,5,6,0].map(Q=>u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:595:19",className:"relative bg-muted/30 rounded min-h-[832px]",children:[Xd.map((Se,Le)=>u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:598:23",className:"h-8 border-b border-dashed border-border/50"},Le)),_e(Q).map(Se=>{const Le=Oe(Se),Je=Le.colorSet;return u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:609:25",onClick:()=>Ae(Se),className:`absolute left-1 right-1 rounded px-2 py-1 cursor-pointer hover:brightness-95 transition-all border ${Je.bg} ${Je.border}`,style:{top:Le.top,height:Le.height},children:[u.jsx("p",{"code-path":"src\\components\\SchedulePanel.tsx:615:27",className:`text-xs font-medium truncate ${Je.text}`,children:Se.name}),u.jsx("p",{"code-path":"src\\components\\SchedulePanel.tsx:616:27",className:`text-[10px] truncate ${Je.text} opacity-80`,children:Se.location})]},Se.id)})]},Q))]})]})}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:627:11",className:"space-y-2",children:[u.jsx("h3",{"code-path":"src\\components\\SchedulePanel.tsx:628:13",className:"font-medium text-sm text-muted-foreground",children:""}),C.length===0?u.jsx("p",{"code-path":"src\\components\\SchedulePanel.tsx:630:15",className:"text-sm text-muted-foreground text-center py-4",children:""}):u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:632:15",className:"space-y-2",children:C.map(Q=>{const Se=Ll[parseInt(Q.color)%Ll.length],Le={all:"",odd:"",even:""}[Q.weekType||"all"];return u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:637:21",className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:641:23",className:"flex items-center gap-3",children:[u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:642:25",className:`w-3 h-3 rounded-full ${Se.bg.replace("bg-","bg-").replace("100","400")}`}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:643:25",children:[u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:644:27",className:"flex items-center gap-2",children:[u.jsx("p",{"code-path":"src\\components\\SchedulePanel.tsx:645:29",className:"font-medium",children:Q.name}),u.jsx("span",{"code-path":"src\\components\\SchedulePanel.tsx:646:29",className:"text-[10px] px-1.5 py-0.5 rounded bg-muted text-muted-foreground",children:Le})]}),u.jsxs("p",{"code-path":"src\\components\\SchedulePanel.tsx:650:27",className:"text-xs text-muted-foreground",children:[om[Q.day===0?6:Q.day-1]," ",Q.startTime,"-",Q.endTime,"  ",Q.location]})]})]}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:655:23",className:"flex gap-1",children:[u.jsx(ie,{"code-path":"src\\components\\SchedulePanel.tsx:656:25",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>Ae(Q),children:u.jsx(Ul,{"code-path":"src\\components\\SchedulePanel.tsx:657:27",className:"h-4 w-4"})}),u.jsx(ie,{"code-path":"src\\components\\SchedulePanel.tsx:659:25",variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500",onClick:()=>pe(Q.id),children:u.jsx(io,{"code-path":"src\\components\\SchedulePanel.tsx:660:27",className:"h-4 w-4"})})]})]},Q.id)})})]})]}),u.jsxs(Ms,{"code-path":"src\\components\\SchedulePanel.tsx:672:9",value:"todos",className:"space-y-4",children:[u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:673:11",className:"flex items-center justify-between",children:[u.jsxs("h2",{"code-path":"src\\components\\SchedulePanel.tsx:674:13",className:"text-lg font-semibold",children:["",H.length>0&&u.jsxs("span",{"code-path":"src\\components\\SchedulePanel.tsx:677:17",className:"ml-2 text-sm font-normal text-muted-foreground",children:["(",H.length,")"]})]}),u.jsxs(ie,{"code-path":"src\\components\\SchedulePanel.tsx:682:13",size:"sm",onClick:()=>g(!0),children:[u.jsx(Ls,{"code-path":"src\\components\\SchedulePanel.tsx:683:15",className:"h-4 w-4 mr-1"}),""]})]}),u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:688:11",className:"space-y-2",children:H.length===0?u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:690:15",className:"text-center py-8",children:[u.jsx(Tw,{"code-path":"src\\components\\SchedulePanel.tsx:691:17",className:"h-12 w-12 mx-auto text-green-500 mb-3"}),u.jsx("p",{"code-path":"src\\components\\SchedulePanel.tsx:692:17",className:"text-muted-foreground",children:""})]}):H.map(Q=>u.jsx(qt,{"code-path":"src\\components\\SchedulePanel.tsx:696:17",className:"group",children:u.jsx(Yt,{"code-path":"src\\components\\SchedulePanel.tsx:697:19",className:"p-3",children:u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:698:21",className:"flex items-start gap-3",children:[u.jsx(Mm,{"code-path":"src\\components\\SchedulePanel.tsx:699:23",checked:Q.completed,onCheckedChange:()=>a(Q.id),className:"mt-1"}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:704:23",className:"flex-1 min-w-0",children:[u.jsx("p",{"code-path":"src\\components\\SchedulePanel.tsx:705:25",className:"font-medium",children:Q.title}),Q.content&&u.jsx("p",{"code-path":"src\\components\\SchedulePanel.tsx:707:27",className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:Q.content}),(Q.dueDate||Q.dueTime)&&u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:712:27",className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[Q.dueDate&&u.jsxs("span",{"code-path":"src\\components\\SchedulePanel.tsx:714:31",className:"flex items-center gap-1",children:[u.jsx(gr,{"code-path":"src\\components\\SchedulePanel.tsx:715:33",className:"h-3 w-3"}),Q.dueDate]}),Q.dueTime&&u.jsxs("span",{"code-path":"src\\components\\SchedulePanel.tsx:720:31",className:"flex items-center gap-1",children:[u.jsx(lm,{"code-path":"src\\components\\SchedulePanel.tsx:721:33",className:"h-3 w-3"}),Q.dueTime]})]})]}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:728:23",className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx(ie,{"code-path":"src\\components\\SchedulePanel.tsx:729:25",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>X(Q),children:u.jsx(Ul,{"code-path":"src\\components\\SchedulePanel.tsx:730:27",className:"h-4 w-4"})}),u.jsx(ie,{"code-path":"src\\components\\SchedulePanel.tsx:732:25",variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500",onClick:()=>le(Q.id),children:u.jsx(io,{"code-path":"src\\components\\SchedulePanel.tsx:733:27",className:"h-4 w-4"})})]})]})})},Q.id))})]})]}),u.jsx(nn,{"code-path":"src\\components\\SchedulePanel.tsx:746:7",open:p||m,onOpenChange:Q=>{Q||(g(!1),v(!1),A(null))},children:u.jsxs(sn,{"code-path":"src\\components\\SchedulePanel.tsx:753:9",className:"sm:max-w-md",children:[u.jsx(on,{"code-path":"src\\components\\SchedulePanel.tsx:754:11",children:u.jsx(an,{"code-path":"src\\components\\SchedulePanel.tsx:755:13",children:w?"":""})}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:757:11",className:"space-y-4 py-4",children:[u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:758:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\SchedulePanel.tsx:759:15",children:""}),u.jsx(ft,{"code-path":"src\\components\\SchedulePanel.tsx:760:15",value:F.title,onChange:Q=>K({...F,title:Q.target.value}),placeholder:"..."})]}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:766:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\SchedulePanel.tsx:767:15",children:""}),u.jsx(Bs,{"code-path":"src\\components\\SchedulePanel.tsx:768:15",value:F.content,onChange:Q=>K({...F,content:Q.target.value}),placeholder:"...",rows:3})]}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:775:13",className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:776:15",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\SchedulePanel.tsx:777:17",children:""}),u.jsx(ft,{"code-path":"src\\components\\SchedulePanel.tsx:778:17",type:"date",value:F.dueDate,onChange:Q=>K({...F,dueDate:Q.target.value})})]}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:784:15",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\SchedulePanel.tsx:785:17",children:""}),u.jsx(ft,{"code-path":"src\\components\\SchedulePanel.tsx:786:17",type:"time",value:F.dueTime,onChange:Q=>K({...F,dueTime:Q.target.value})})]})]})]}),u.jsxs(Os,{"code-path":"src\\components\\SchedulePanel.tsx:794:11",children:[u.jsx(ie,{"code-path":"src\\components\\SchedulePanel.tsx:795:13",variant:"outline",onClick:()=>{g(!1),v(!1),A(null)},children:""}),u.jsx(ie,{"code-path":"src\\components\\SchedulePanel.tsx:802:13",onClick:w?q:B,children:w?"":""})]})]})}),u.jsx(nn,{"code-path":"src\\components\\SchedulePanel.tsx:810:7",open:M,onOpenChange:L,children:u.jsxs(sn,{"code-path":"src\\components\\SchedulePanel.tsx:811:9",className:"sm:max-w-md",children:[u.jsx(on,{"code-path":"src\\components\\SchedulePanel.tsx:812:11",children:u.jsx(an,{"code-path":"src\\components\\SchedulePanel.tsx:813:13",children:O?"":""})}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:815:11",className:"space-y-4 py-4",children:[u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:816:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\SchedulePanel.tsx:817:15",children:""}),u.jsx(ft,{"code-path":"src\\components\\SchedulePanel.tsx:818:15",value:z.name,onChange:Q=>$({...z,name:Q.target.value}),placeholder:""})]}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:824:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\SchedulePanel.tsx:825:15",children:""}),u.jsx(ft,{"code-path":"src\\components\\SchedulePanel.tsx:826:15",value:z.location,onChange:Q=>$({...z,location:Q.target.value}),placeholder:" A301"})]}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:832:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\SchedulePanel.tsx:833:15",children:""}),u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:834:15",className:"grid grid-cols-7 gap-1",children:om.map((Q,Se)=>u.jsx("button",{"code-path":"src\\components\\SchedulePanel.tsx:836:19",onClick:()=>$({...z,day:Se===6?0:Se+1}),className:`p-2 text-xs rounded transition-colors ${(z.day===0?6:z.day-1)===Se?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:Q.replace("","")},Q))})]}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:850:13",className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:851:15",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\SchedulePanel.tsx:852:17",children:""}),u.jsx(ft,{"code-path":"src\\components\\SchedulePanel.tsx:853:17",type:"time",value:z.startTime,onChange:Q=>$({...z,startTime:Q.target.value})})]}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:859:15",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\SchedulePanel.tsx:860:17",children:""}),u.jsx(ft,{"code-path":"src\\components\\SchedulePanel.tsx:861:17",type:"time",value:z.endTime,onChange:Q=>$({...z,endTime:Q.target.value})})]})]}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:868:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\SchedulePanel.tsx:869:15",children:""}),u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:870:15",className:"flex gap-2 flex-wrap",children:Ll.map((Q,Se)=>u.jsx("button",{"code-path":"src\\components\\SchedulePanel.tsx:872:19",onClick:()=>$({...z,color:Se.toString()}),className:`w-8 h-8 rounded-full ${Q.bg} border-2 ${Q.border} transition-all ${z.color===Se.toString()?"ring-2 ring-primary ring-offset-2 scale-110":""}`},Se))})]}),u.jsxs("div",{"code-path":"src\\components\\SchedulePanel.tsx:882:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\SchedulePanel.tsx:883:15",children:""}),u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:884:15",className:"flex gap-2",children:[{value:"all",label:""},{value:"odd",label:""},{value:"even",label:""}].map(Q=>u.jsx("button",{"code-path":"src\\components\\SchedulePanel.tsx:890:19",onClick:()=>$({...z,weekType:Q.value}),className:`flex-1 p-2 text-sm rounded transition-colors ${z.weekType===Q.value?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:Q.label},Q.value))})]})]}),u.jsxs(Os,{"code-path":"src\\components\\SchedulePanel.tsx:905:11",children:[O&&u.jsx(ie,{"code-path":"src\\components\\SchedulePanel.tsx:907:15",variant:"destructive",onClick:()=>{pe(O.id),L(!1),I(null)},children:""}),u.jsx("div",{"code-path":"src\\components\\SchedulePanel.tsx:915:13",className:"flex-1"}),u.jsx(ie,{"code-path":"src\\components\\SchedulePanel.tsx:916:13",variant:"outline",onClick:()=>{L(!1),I(null)},children:""}),u.jsx(ie,{"code-path":"src\\components\\SchedulePanel.tsx:922:13",onClick:O?ce:Z,children:O?"":""})]})]})})]})}const am=[{value:"javascript",label:"JavaScript",icon:"JS",color:"#f7df1e"},{value:"typescript",label:"TypeScript",icon:"TS",color:"#3178c6"},{value:"python",label:"Python",icon:"PY",color:"#3776ab"},{value:"java",label:"Java",icon:"JV",color:"#b07219"},{value:"cpp",label:"C++",icon:"C++",color:"#f34b7d"},{value:"c",label:"C",icon:"C",color:"#555555"},{value:"html",label:"HTML",icon:"HT",color:"#e34c26"},{value:"css",label:"CSS",icon:"CS",color:"#563d7c"},{value:"sql",label:"SQL",icon:"SQ",color:"#336791"},{value:"rust",label:"Rust",icon:"RS",color:"#dea584"},{value:"go",label:"Go",icon:"GO",color:"#00add8"},{value:"other",label:"",icon:"..",color:"#888888"}],zb=[{name:"Darcula",bg:"#2b2b2b",sidebar:"#3c3f41",text:"#a9b7c6",keyword:"#cc7832",string:"#6a8759",comment:"#808080",number:"#6897bb",function:"#ffc66d",lineNumber:"#606366",selection:"#214283"},{name:"Light",bg:"#ffffff",sidebar:"#f5f5f5",text:"#000000",keyword:"#000080",string:"#008000",comment:"#808080",number:"#0000ff",function:"#795e26",lineNumber:"#237893",selection:"#add6ff"},{name:"Monokai",bg:"#272822",sidebar:"#3e3d32",text:"#f8f8f2",keyword:"#f92672",string:"#e6db74",comment:"#75715e",number:"#ae81ff",function:"#a6e22e",lineNumber:"#90908a",selection:"#49483e"},{name:"Oceanic",bg:"#1e2b35",sidebar:"#263740",text:"#d8dee9",keyword:"#c695c6",string:"#99c794",comment:"#65737e",number:"#f99157",function:"#6699cc",lineNumber:"#5f7885",selection:"#344a55"}];function C6(){try{const i=localStorage.getItem("coding-projects-v2");if(i)return JSON.parse(i)}catch{}return[]}function E6(i){try{localStorage.setItem("coding-projects-v2",JSON.stringify(i))}catch{}}function T6(){try{const i=localStorage.getItem("coding-editor-settings");if(i)return JSON.parse(i)}catch{}return{theme:0,fontSize:14}}function _6(i){try{localStorage.setItem("coding-editor-settings",JSON.stringify(i))}catch{}}function N6(){const[i,e]=b.useState(C6()),[t,s]=b.useState(""),[a,r]=b.useState(null),[l,d]=b.useState(!1),[h,p]=b.useState(!1),[g,m]=b.useState(!1),[v,w]=b.useState(!1),[A,S]=b.useState(T6()),[E,C]=b.useState(!1),[_,N]=b.useState({name:"",description:"",language:"javascript",code:""}),j=zb[A.theme],M=b.useRef(null),L=b.useRef(null);b.useEffect(()=>{E6(i)},[i]),b.useEffect(()=>{_6(A)},[A]);const O=b.useMemo(()=>{if(!t.trim())return i;const P=t.toLowerCase();return i.filter(R=>R.name.toLowerCase().includes(P)||R.description.toLowerCase().includes(P)||R.language.toLowerCase().includes(P))},[i,t]),I=b.useMemo(()=>{const P={};return O.forEach(R=>{P[R.language]||(P[R.language]=[]),P[R.language].push(R)}),P},[O]),z=()=>{if(!_.name.trim()){be.error("");return}const P={id:Date.now().toString(),name:_.name,description:_.description,language:_.language,code:_.code,createdAt:Date.now(),updatedAt:Date.now()};e([P,...i]),N({name:"",description:"",language:"javascript",code:""}),d(!1),be.success("")},$=()=>{if(!a||!_.name.trim())return;const P=i.map(B=>B.id===a.id?{...B,..._,updatedAt:Date.now()}:B);e(P);const R={...a,..._,updatedAt:Date.now()};r(R),p(!1),C(!1),be.success("")},Y=P=>{e(i.filter(R=>R.id!==P)),a?.id===P&&(r(null),m(!1)),be.success("")},se=P=>{a&&(r({...a,code:P}),C(!0))},re=()=>{a&&(e(i.map(P=>P.id===a.id?{...P,code:a.code,updatedAt:Date.now()}:P)),C(!1),be.success(""))},ae=()=>{a&&(N({name:a.name,description:a.description,language:a.language,code:a.code}),p(!0))},fe=()=>{N({name:"",description:"",language:"javascript",code:""}),d(!0)},D=P=>{const R=new Blob([P.code],{type:"text/plain"}),B=URL.createObjectURL(R),q=document.createElement("a");q.href=B,q.download=`${P.name}.${H(P.language)}`,q.click(),URL.revokeObjectURL(B),be.success("")},U=P=>{const R=P.target.files?.[0];if(!R)return;const B=new FileReader;B.onload=q=>{const X=q.target?.result,le=F(R.name);N({name:R.name.replace(/\.[^/.]+$/,""),description:` ${R.name} `,language:le,code:X}),d(!0)},B.readAsText(R),P.target.value=""},H=P=>({javascript:"js",typescript:"ts",python:"py",java:"java",cpp:"cpp",c:"c",html:"html",css:"css",sql:"sql",rust:"rs",go:"go"})[P]||"txt",F=P=>{const R=P.split(".").pop()?.toLowerCase()||"";return{js:"javascript",ts:"typescript",py:"python",java:"java",cpp:"cpp",c:"c",h:"c",html:"html",htm:"html",css:"css",sql:"sql",rs:"rust",go:"go"}[R]||"other"},K=P=>am.find(R=>R.value===P)||am[11];return g&&a?u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:335:7",className:"fixed inset-0 z-[100] flex flex-col animate-in fade-in duration-200",style:{backgroundColor:j.bg},children:[u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:340:9",className:"flex items-center justify-between px-3 py-2 border-b select-none",style:{backgroundColor:j.sidebar,borderColor:`${j.text}15`},children:[u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:344:11",className:"flex items-center gap-3",children:[u.jsxs("button",{"code-path":"src\\components\\CodingPanel.tsx:345:13",onClick:()=>{E&&re(),m(!1)},className:"flex items-center gap-1.5 px-2 py-1.5 rounded text-sm transition-all hover:brightness-110",style:{backgroundColor:`${j.text}15`,color:j.text},children:[u.jsx(xr,{"code-path":"src\\components\\CodingPanel.tsx:355:15",className:"h-4 w-4"}),""]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:359:13",className:"flex items-center gap-2 px-3 py-1.5 rounded",style:{backgroundColor:`${j.text}08`},children:[u.jsx(l1,{"code-path":"src\\components\\CodingPanel.tsx:362:15",className:"h-4 w-4",style:{color:K(a.language).color}}),u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:363:15",style:{color:j.text,fontSize:"13px"},children:a.name}),E&&u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:364:34",className:"text-amber-400 text-xs",children:""})]})]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:368:11",className:"flex items-center gap-2",children:[u.jsxs("button",{"code-path":"src\\components\\CodingPanel.tsx:369:13",onClick:re,className:"flex items-center gap-1.5 px-3 py-1.5 rounded text-sm transition-all hover:brightness-110",style:{backgroundColor:E?"#365880":`${j.text}15`,color:E?"#fff":j.text},children:[u.jsx(h1,{"code-path":"src\\components\\CodingPanel.tsx:377:15",className:"h-4 w-4"}),""]}),u.jsx("button",{"code-path":"src\\components\\CodingPanel.tsx:381:13",onClick:()=>w(!0),className:"p-2 rounded transition-all hover:brightness-110",style:{backgroundColor:`${j.text}15`,color:j.text},children:u.jsx(Nu,{"code-path":"src\\components\\CodingPanel.tsx:386:15",className:"h-4 w-4"})}),u.jsx("button",{"code-path":"src\\components\\CodingPanel.tsx:389:13",onClick:()=>{E&&re(),m(!1)},className:"p-2 rounded transition-all hover:brightness-110",style:{backgroundColor:`${j.text}15`,color:j.text},children:u.jsx(Cn,{"code-path":"src\\components\\CodingPanel.tsx:397:15",className:"h-4 w-4"})})]})]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:403:9",className:"flex-1 flex overflow-hidden",children:[u.jsx("div",{"code-path":"src\\components\\CodingPanel.tsx:405:11",className:"w-12 flex-shrink-0 py-4 text-right pr-2 select-none overflow-hidden",style:{backgroundColor:j.bg,color:j.lineNumber,fontSize:`${A.fontSize}px`,lineHeight:"1.6",fontFamily:'"JetBrains Mono", "Fira Code", monospace'},children:a.code.split(`
`).map((P,R)=>u.jsx("div",{"code-path":"src\\components\\CodingPanel.tsx:416:15",className:"h-[1.6em]",children:R+1},R))}),u.jsx("div",{"code-path":"src\\components\\CodingPanel.tsx:421:11",className:"flex-1 relative overflow-auto",ref:L,children:u.jsx("textarea",{"code-path":"src\\components\\CodingPanel.tsx:422:13",ref:M,value:a.code,onChange:P=>se(P.target.value),className:"w-full min-h-full p-4 resize-none outline-none border-0",style:{backgroundColor:j.bg,color:j.text,fontSize:`${A.fontSize}px`,lineHeight:"1.6",fontFamily:'"JetBrains Mono", "Fira Code", monospace',tabSize:2},spellCheck:!1,placeholder:"// ..."})})]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:442:9",className:"flex items-center justify-between px-3 py-1 text-xs select-none",style:{backgroundColor:j.sidebar,color:j.text},children:[u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:446:11",className:"flex items-center gap-4",children:[u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:447:13",children:K(a.language).label}),u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:448:13",children:"UTF-8"}),u.jsxs("span",{"code-path":"src\\components\\CodingPanel.tsx:449:13",children:[a.code.length," "]}),u.jsxs("span",{"code-path":"src\\components\\CodingPanel.tsx:450:13",children:[a.code.split(`
`).length," "]})]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:452:11",className:"flex items-center gap-4",children:[u.jsxs("span",{"code-path":"src\\components\\CodingPanel.tsx:453:13",children:[": ",A.fontSize,"px"]}),u.jsxs("span",{"code-path":"src\\components\\CodingPanel.tsx:454:13",children:[": ",j.name]})]})]}),v&&u.jsx("div",{"code-path":"src\\components\\CodingPanel.tsx:460:11",className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/60 animate-in fade-in duration-150",onClick:()=>w(!1),children:u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:464:13",className:"w-full max-w-sm rounded-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",style:{backgroundColor:j.sidebar},onClick:P=>P.stopPropagation(),children:[u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:469:15",className:"px-4 py-3 border-b flex items-center justify-between",style:{borderColor:`${j.text}15`},children:[u.jsx("h3",{"code-path":"src\\components\\CodingPanel.tsx:472:17",className:"font-semibold",style:{color:j.text},children:""}),u.jsx("button",{"code-path":"src\\components\\CodingPanel.tsx:473:17",onClick:()=>w(!1),className:"p-1.5 rounded hover:brightness-110 transition-all",style:{color:j.text},children:u.jsx(Cn,{"code-path":"src\\components\\CodingPanel.tsx:478:19",className:"h-4 w-4"})})]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:482:15",className:"p-4 space-y-5",children:[u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:484:17",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\CodingPanel.tsx:485:19",style:{color:j.text},children:""}),u.jsx("div",{"code-path":"src\\components\\CodingPanel.tsx:486:19",className:"grid grid-cols-2 gap-2",children:zb.map((P,R)=>u.jsx("button",{"code-path":"src\\components\\CodingPanel.tsx:488:23",onClick:()=>S({...A,theme:R}),className:`p-3 rounded-lg text-sm font-medium transition-all ${A.theme===R?"ring-2 ring-primary scale-[1.02]":"hover:scale-[1.02]"}`,style:{backgroundColor:P.bg,color:P.text,border:`1px solid ${A.theme===R?"var(--primary)":"transparent"}`},children:P.name},R))})]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:507:17",className:"space-y-3",children:[u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:508:19",className:"flex items-center justify-between",children:[u.jsx(Be,{"code-path":"src\\components\\CodingPanel.tsx:509:21",style:{color:j.text},children:""}),u.jsxs("span",{"code-path":"src\\components\\CodingPanel.tsx:510:21",className:"text-sm font-mono px-2 py-0.5 rounded",style:{backgroundColor:`${j.text}15`,color:j.text},children:[A.fontSize,"px"]})]}),u.jsx(Qa,{"code-path":"src\\components\\CodingPanel.tsx:516:19",value:[A.fontSize],onValueChange:P=>S({...A,fontSize:P[0]}),min:10,max:24,step:1})]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:526:17",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\CodingPanel.tsx:527:19",style:{color:j.text},children:""}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:528:19",className:"p-3 rounded-lg font-mono text-sm",style:{backgroundColor:j.bg,color:j.text,fontSize:`${A.fontSize}px`},children:[u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:536:21",style:{color:j.keyword},children:"function"}),u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:537:21",children:" hello"}),u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:538:21",style:{color:j.function},children:"()"}),u.jsxs("span",{"code-path":"src\\components\\CodingPanel.tsx:539:21",children:[" ","{"]}),u.jsx("br",{"code-path":"src\\components\\CodingPanel.tsx:540:21"}),u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:541:21",children:"  "}),u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:542:21",style:{color:j.keyword},children:"return"}),u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:543:21",style:{color:j.string},children:' "Hello World"'}),u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:544:21",children:";"}),u.jsx("br",{"code-path":"src\\components\\CodingPanel.tsx:545:21"}),u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:546:21",children:"}"})]})]})]})]})})]}):a?u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:560:7",className:"h-full flex flex-col animate-in fade-in duration-200",children:[u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:562:9",className:"flex items-center justify-between px-4 py-3 border-b bg-muted/30",children:[u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:563:11",className:"flex items-center gap-3",children:[u.jsxs(ie,{"code-path":"src\\components\\CodingPanel.tsx:564:13",variant:"ghost",size:"sm",onClick:()=>{E&&re(),r(null)},children:[u.jsx(xr,{"code-path":"src\\components\\CodingPanel.tsx:568:15",className:"h-4 w-4 mr-1"}),""]}),u.jsx("div",{"code-path":"src\\components\\CodingPanel.tsx:571:13",className:"h-6 w-px bg-border"}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:572:13",className:"flex items-center gap-2",children:[u.jsx(l1,{"code-path":"src\\components\\CodingPanel.tsx:573:15",className:"h-5 w-5",style:{color:K(a.language).color}}),u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:577:15",className:"font-medium",children:a.name}),E&&u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:578:34",className:"text-amber-500 text-xs",children:" "})]})]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:582:11",className:"flex items-center gap-1",children:[u.jsx(ie,{"code-path":"src\\components\\CodingPanel.tsx:583:13",variant:"ghost",size:"icon",onClick:re,title:"",children:u.jsx(h1,{"code-path":"src\\components\\CodingPanel.tsx:584:15",className:"h-4 w-4"})}),u.jsx(ie,{"code-path":"src\\components\\CodingPanel.tsx:586:13",variant:"ghost",size:"icon",onClick:()=>m(!0),title:"",children:u.jsx(jw,{"code-path":"src\\components\\CodingPanel.tsx:587:15",className:"h-4 w-4"})}),u.jsx(ie,{"code-path":"src\\components\\CodingPanel.tsx:589:13",variant:"ghost",size:"icon",onClick:ae,title:"",children:u.jsx(d1,{"code-path":"src\\components\\CodingPanel.tsx:590:15",className:"h-4 w-4"})}),u.jsx(ie,{"code-path":"src\\components\\CodingPanel.tsx:592:13",variant:"ghost",size:"icon",onClick:()=>D(a),title:"",children:u.jsx(vr,{"code-path":"src\\components\\CodingPanel.tsx:593:15",className:"h-4 w-4"})}),u.jsx(ie,{"code-path":"src\\components\\CodingPanel.tsx:595:13",variant:"ghost",size:"icon",onClick:()=>Y(a.id),title:"",className:"text-red-500 hover:text-red-600",children:u.jsx(io,{"code-path":"src\\components\\CodingPanel.tsx:597:15",className:"h-4 w-4"})})]})]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:603:9",className:"flex-1 flex overflow-hidden",children:[u.jsx("div",{"code-path":"src\\components\\CodingPanel.tsx:604:11",className:"w-10 flex-shrink-0 py-4 text-right pr-2 select-none bg-muted/20 text-muted-foreground text-sm font-mono",children:a.code.split(`
`).map((P,R)=>u.jsx("div",{"code-path":"src\\components\\CodingPanel.tsx:606:15",className:"h-6",children:R+1},R))}),u.jsx("textarea",{"code-path":"src\\components\\CodingPanel.tsx:609:11",value:a.code,onChange:P=>se(P.target.value),className:"flex-1 w-full p-4 resize-none outline-none font-mono text-sm",style:{lineHeight:"1.5",backgroundColor:"#1e1e1e",color:"#d4d4d4"},placeholder:"// ...",spellCheck:!1})]})]}):u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:628:5",className:"space-y-4 pb-20 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:630:7",className:"flex items-center justify-between",children:[u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:631:9",children:[u.jsx("h2",{"code-path":"src\\components\\CodingPanel.tsx:632:11",className:"text-xl font-semibold",children:""}),u.jsxs("p",{"code-path":"src\\components\\CodingPanel.tsx:633:11",className:"text-sm text-muted-foreground",children:[i.length," "]})]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:635:9",className:"flex items-center gap-2",children:[u.jsxs(Be,{"code-path":"src\\components\\CodingPanel.tsx:636:11",htmlFor:"import-file",className:"cursor-pointer",children:[u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:637:13",className:"flex items-center gap-1.5 px-3 py-2 rounded-md bg-muted hover:bg-muted/80 transition-all text-sm",children:[u.jsx(Gl,{"code-path":"src\\components\\CodingPanel.tsx:638:15",className:"h-4 w-4"}),""]}),u.jsx(ft,{"code-path":"src\\components\\CodingPanel.tsx:641:13",id:"import-file",type:"file",accept:".js,.ts,.py,.java,.cpp,.c,.html,.css,.sql,.rs,.go,.txt",className:"hidden",onChange:U})]}),u.jsxs(ie,{"code-path":"src\\components\\CodingPanel.tsx:649:11",size:"sm",onClick:fe,children:[u.jsx(Ls,{"code-path":"src\\components\\CodingPanel.tsx:650:13",className:"h-4 w-4 mr-1"}),""]})]})]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:657:7",className:"relative",children:[u.jsx(Mw,{"code-path":"src\\components\\CodingPanel.tsx:658:9",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(ft,{"code-path":"src\\components\\CodingPanel.tsx:659:9",placeholder:"...",value:t,onChange:P=>s(P.target.value),className:"pl-9"})]}),i.length===0?u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:669:9",className:"text-center py-16 animate-in fade-in duration-500",children:[u.jsx("div",{"code-path":"src\\components\\CodingPanel.tsx:670:11",className:"w-20 h-20 mx-auto mb-4 rounded-2xl bg-primary/10 flex items-center justify-center",children:u.jsx(_w,{"code-path":"src\\components\\CodingPanel.tsx:671:13",className:"h-10 w-10 text-primary"})}),u.jsx("p",{"code-path":"src\\components\\CodingPanel.tsx:673:11",className:"text-muted-foreground mb-1",children:""}),u.jsx("p",{"code-path":"src\\components\\CodingPanel.tsx:674:11",className:"text-sm text-muted-foreground",children:""})]}):O.length===0?u.jsx("div",{"code-path":"src\\components\\CodingPanel.tsx:677:9",className:"text-center py-8",children:u.jsx("p",{"code-path":"src\\components\\CodingPanel.tsx:678:11",className:"text-muted-foreground",children:""})}):u.jsx("div",{"code-path":"src\\components\\CodingPanel.tsx:681:9",className:"space-y-6",children:Object.entries(I).map(([P,R])=>{const B=K(P);return u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:685:15",className:"animate-in fade-in slide-in-from-left-4 duration-300",children:[u.jsxs("h3",{"code-path":"src\\components\\CodingPanel.tsx:686:17",className:"text-sm font-medium text-muted-foreground mb-3 flex items-center gap-2",children:[u.jsx("span",{"code-path":"src\\components\\CodingPanel.tsx:687:19",className:"w-6 h-6 rounded-md flex items-center justify-center text-[10px] font-bold",style:{backgroundColor:`${B.color}20`,color:B.color},children:B.icon}),B.label,u.jsxs("span",{"code-path":"src\\components\\CodingPanel.tsx:694:19",className:"text-xs",children:["(",R.length,")"]})]}),u.jsx("div",{"code-path":"src\\components\\CodingPanel.tsx:696:17",className:"grid gap-2",children:R.map((q,X)=>u.jsx(qt,{"code-path":"src\\components\\CodingPanel.tsx:698:21",className:"cursor-pointer hover:border-primary/50 hover:shadow-sm transition-all duration-200 group animate-in fade-in slide-in-from-bottom-2",style:{animationDelay:`${X*50}ms`},onClick:()=>r(q),children:u.jsx(Yt,{"code-path":"src\\components\\CodingPanel.tsx:704:23",className:"p-3",children:u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:705:25",className:"flex items-start justify-between",children:[u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:706:27",className:"flex-1 min-w-0",children:[u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:707:29",className:"flex items-center gap-2",children:[u.jsx(wa,{"code-path":"src\\components\\CodingPanel.tsx:708:31",className:"h-4 w-4 text-primary"}),u.jsx("p",{"code-path":"src\\components\\CodingPanel.tsx:709:31",className:"font-medium truncate",children:q.name})]}),q.description&&u.jsx("p",{"code-path":"src\\components\\CodingPanel.tsx:712:31",className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:q.description}),u.jsxs("p",{"code-path":"src\\components\\CodingPanel.tsx:716:29",className:"text-xs text-muted-foreground mt-1",children:[" ",new Date(q.updatedAt).toLocaleDateString("zh-CN")]})]}),u.jsxs(wr,{"code-path":"src\\components\\CodingPanel.tsx:720:27",children:[u.jsx(Sr,{"code-path":"src\\components\\CodingPanel.tsx:721:29",asChild:!0,children:u.jsx(ie,{"code-path":"src\\components\\CodingPanel.tsx:722:31",variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:le=>le.stopPropagation(),children:u.jsx(yr,{"code-path":"src\\components\\CodingPanel.tsx:728:33",className:"h-4 w-4"})})}),u.jsxs(Ar,{"code-path":"src\\components\\CodingPanel.tsx:731:29",align:"end",children:[u.jsxs(Gn,{"code-path":"src\\components\\CodingPanel.tsx:732:31",onClick:le=>{le.stopPropagation(),r(q),m(!0)},children:[u.jsx(Dw,{"code-path":"src\\components\\CodingPanel.tsx:737:33",className:"h-4 w-4 mr-2"}),""]}),u.jsxs(Gn,{"code-path":"src\\components\\CodingPanel.tsx:740:31",onClick:le=>{le.stopPropagation(),r(q),ae()},children:[u.jsx(d1,{"code-path":"src\\components\\CodingPanel.tsx:745:33",className:"h-4 w-4 mr-2"}),""]}),u.jsxs(Gn,{"code-path":"src\\components\\CodingPanel.tsx:748:31",onClick:le=>{le.stopPropagation(),D(q)},children:[u.jsx(vr,{"code-path":"src\\components\\CodingPanel.tsx:752:33",className:"h-4 w-4 mr-2"}),""]}),u.jsxs(Gn,{"code-path":"src\\components\\CodingPanel.tsx:755:31",onClick:le=>{le.stopPropagation(),Y(q.id)},className:"text-red-600",children:[u.jsx(io,{"code-path":"src\\components\\CodingPanel.tsx:762:33",className:"h-4 w-4 mr-2"}),""]})]})]})]})})},q.id))})]},P)})}),u.jsx(nn,{"code-path":"src\\components\\CodingPanel.tsx:779:7",open:l||h,onOpenChange:P=>{P||(d(!1),p(!1))},children:u.jsxs(sn,{"code-path":"src\\components\\CodingPanel.tsx:785:9",className:"sm:max-w-md",children:[u.jsx(on,{"code-path":"src\\components\\CodingPanel.tsx:786:11",children:u.jsx(an,{"code-path":"src\\components\\CodingPanel.tsx:787:13",children:h?"":""})}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:789:11",className:"space-y-4 py-4",children:[u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:790:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\CodingPanel.tsx:791:15",children:""}),u.jsx(ft,{"code-path":"src\\components\\CodingPanel.tsx:792:15",value:_.name,onChange:P=>N({..._,name:P.target.value}),placeholder:""})]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:798:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\CodingPanel.tsx:799:15",children:""}),u.jsx(ft,{"code-path":"src\\components\\CodingPanel.tsx:800:15",value:_.description,onChange:P=>N({..._,description:P.target.value}),placeholder:"..."})]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:806:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\CodingPanel.tsx:807:15",children:""}),u.jsx("div",{"code-path":"src\\components\\CodingPanel.tsx:808:15",className:"grid grid-cols-4 gap-2",children:am.map(P=>u.jsx("button",{"code-path":"src\\components\\CodingPanel.tsx:810:19",onClick:()=>N({..._,language:P.value}),className:`p-2 rounded-md text-xs font-medium transition-all ${_.language===P.value?"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-2":"bg-muted hover:bg-muted/80"}`,children:P.label},P.value))})]}),u.jsxs("div",{"code-path":"src\\components\\CodingPanel.tsx:824:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\CodingPanel.tsx:825:15",children:""}),u.jsx(Bs,{"code-path":"src\\components\\CodingPanel.tsx:826:15",value:_.code,onChange:P=>N({..._,code:P.target.value}),placeholder:"...",rows:5,className:"font-mono text-sm"})]})]}),u.jsxs(Os,{"code-path":"src\\components\\CodingPanel.tsx:835:11",children:[u.jsx(ie,{"code-path":"src\\components\\CodingPanel.tsx:836:13",variant:"outline",onClick:()=>{d(!1),p(!1)},children:""}),u.jsx(ie,{"code-path":"src\\components\\CodingPanel.tsx:842:13",onClick:h?$:z,children:h?"":""})]})]})})]})}const P6=()=>{const i=new(window.AudioContext||window.webkitAudioContext),e=i.createOscillator(),t=i.createGain();e.connect(t),t.connect(i.destination),e.frequency.value=800,e.type="sine",t.gain.setValueAtTime(.3,i.currentTime),t.gain.exponentialRampToValueAtTime(.01,i.currentTime+.5),e.start(i.currentTime),e.stop(i.currentTime+.5),setTimeout(()=>{const s=i.createOscillator(),a=i.createGain();s.connect(a),a.connect(i.destination),s.frequency.value=1e3,s.type="sine",a.gain.setValueAtTime(.3,i.currentTime),a.gain.exponentialRampToValueAtTime(.01,i.currentTime+.5),s.start(i.currentTime),s.stop(i.currentTime+.5)},200),setTimeout(()=>{const s=i.createOscillator(),a=i.createGain();s.connect(a),a.connect(i.destination),s.frequency.value=1200,s.type="sine",a.gain.setValueAtTime(.3,i.currentTime),a.gain.exponentialRampToValueAtTime(.01,i.currentTime+1),s.start(i.currentTime),s.stop(i.currentTime+1)},400)},j6=i=>{if(i==="none")return null;const e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate,s=t*2,a=e.createBuffer(1,s,t),r=a.getChannelData(0);for(let h=0;h<s;h++)if(i==="rain"){const p=Math.random()*2-1;r[h]=(Hb+.02*p)/1.02,Hb=r[h],r[h]*=3.5}else if(i==="wind"){const p=Math.random()*2-1;r[h]=p*.3}else if(i==="waves"){const p=h/t,g=.1+Math.sin(p*.5)*.05;r[h]=Math.sin(p*g*Math.PI*2)*.3}const l=e.createBufferSource();l.buffer=a,l.loop=!0;const d=e.createGain();if(d.gain.value=.3,i==="wind"){const h=e.createBiquadFilter();h.type="lowpass",h.frequency.value=400,l.connect(h),h.connect(d)}else l.connect(d);return d.connect(e.destination),l.start(),{audioContext:e,noiseNode:l,gainNode:d}};let Hb=0;function D6(){const[i,e]=b.useState(!1),[t,s]=b.useState(!1),[a,r]=b.useState(!1),[l,d]=b.useState(0),[h,p]=b.useState({mode:"countdown",minutes:25,soundEnabled:!0,ambientSound:"none",ambientVolume:30}),[g,m]=b.useState(25),[v,w]=b.useState(null),[A,S]=b.useState(""),E=b.useRef(null),C=b.useRef(null),_=b.useRef(null);b.useEffect(()=>()=>{N(),E.current&&clearInterval(E.current)},[]);const N=()=>{if(C.current){try{C.current.noiseNode.stop(),C.current.audioContext.close()}catch{}C.current=null}_.current&&(_.current.pause(),_.current=null)},j=()=>{if(N(),v){const D=new Audio(v);D.loop=!0,D.volume=h.ambientVolume/100,D.play().catch(()=>{be.error("")}),_.current=D}else if(h.ambientSound!=="none"){const D=j6(h.ambientSound);D&&(D.gainNode.gain.value=h.ambientVolume/100,C.current=D)}},M=b.useCallback(()=>{h.soundEnabled&&P6()},[h.soundEnabled]),L=b.useCallback(()=>{h.mode==="countdown"||h.mode==="custom"?d(h.minutes*60):d(0),r(!0),j()},[h.mode,h.minutes,v,h.ambientSound,h.ambientVolume]),O=b.useCallback(()=>{r(!1),N(),E.current&&(clearInterval(E.current),E.current=null)},[]),I=b.useCallback(()=>{O(),h.mode==="countdown"||h.mode==="custom"?d(h.minutes*60):d(0)},[h.mode,h.minutes,O]),z=b.useCallback(()=>{O(),d(0)},[O]);b.useEffect(()=>(a&&(E.current=setInterval(()=>{d(D=>h.mode==="countdown"||h.mode==="custom"?D<=1?(O(),M(),be.success(" ",{duration:5e3,icon:""}),0):D-1:D+1)},1e3)),()=>{E.current&&clearInterval(E.current)}),[a,h.mode,O,M]);const $=D=>{const U=Math.floor(D/3600),H=Math.floor(D%3600/60),F=D%60;return U>0?`${U}:${H.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`:`${H.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`},Y=()=>!a&&l===0&&(h.mode==="countdown"||h.mode==="custom")?$(h.minutes*60):$(l),se=()=>{if(h.mode==="countup")return 0;const D=h.minutes*60;return D===0?0:(D-l)/D*100},re=()=>{p(D=>({...D,minutes:g})),a||d(g*60),s(!1),be.success("")},ae=D=>{const U=D.target.files?.[0];if(U){const H=URL.createObjectURL(U);w(H),S(U.name),be.success("")}},fe=()=>{v&&URL.revokeObjectURL(v),w(null),S(""),be.success("")};return u.jsxs(u.Fragment,{children:[u.jsxs(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:320:7",variant:"ghost",size:"sm",onClick:()=>e(!0),className:"gap-2",children:[u.jsx(Nj,{"code-path":"src\\components\\PomodoroTimer.tsx:326:9",className:"h-4 w-4"}),u.jsx("span",{"code-path":"src\\components\\PomodoroTimer.tsx:327:9",className:"hidden sm:inline",children:""}),a&&u.jsx("span",{"code-path":"src\\components\\PomodoroTimer.tsx:329:11",className:"ml-1 text-xs font-mono",children:Y()})]}),u.jsx(nn,{"code-path":"src\\components\\PomodoroTimer.tsx:334:7",open:i,onOpenChange:D=>{e(!D&&a?!1:D)},children:u.jsxs(sn,{"code-path":"src\\components\\PomodoroTimer.tsx:342:9",className:"max-w-sm",children:[u.jsx(on,{"code-path":"src\\components\\PomodoroTimer.tsx:343:11",children:u.jsxs(an,{"code-path":"src\\components\\PomodoroTimer.tsx:344:13",className:"flex items-center justify-between",children:[u.jsx("span",{"code-path":"src\\components\\PomodoroTimer.tsx:345:15",children:""}),u.jsx(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:346:15",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s(!0),children:u.jsx(Nu,{"code-path":"src\\components\\PomodoroTimer.tsx:352:17",className:"h-4 w-4"})})]})}),u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:357:11",className:"py-6",children:[u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:359:13",className:"relative flex items-center justify-center mb-8",children:[u.jsxs("svg",{"code-path":"src\\components\\PomodoroTimer.tsx:361:15",className:"w-56 h-56 transform -rotate-90",children:[u.jsx("circle",{"code-path":"src\\components\\PomodoroTimer.tsx:362:17",cx:"112",cy:"112",r:"100",fill:"none",stroke:"currentColor",strokeWidth:"12",className:"text-muted"}),u.jsx("circle",{"code-path":"src\\components\\PomodoroTimer.tsx:371:17",cx:"112",cy:"112",r:"100",fill:"none",stroke:"currentColor",strokeWidth:"12",strokeLinecap:"round",className:"text-primary transition-all duration-1000",strokeDasharray:`${2*Math.PI*100}`,strokeDashoffset:`${2*Math.PI*100*(1-se()/100)}`})]}),u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:386:15",className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("span",{"code-path":"src\\components\\PomodoroTimer.tsx:387:17",className:"text-5xl font-mono font-bold",children:Y()}),u.jsxs("span",{"code-path":"src\\components\\PomodoroTimer.tsx:388:17",className:"text-sm text-muted-foreground mt-2",children:[h.mode==="countdown"&&"",h.mode==="countup"&&"",h.mode==="custom"&&` ${h.minutes}`]}),h.ambientSound!=="none"&&u.jsxs("span",{"code-path":"src\\components\\PomodoroTimer.tsx:394:19",className:"text-xs text-primary mt-1 flex items-center gap-1",children:[h.ambientSound==="rain"&&u.jsx(i1,{"code-path":"src\\components\\PomodoroTimer.tsx:395:58",className:"h-3 w-3"}),h.ambientSound==="wind"&&u.jsx(g1,{"code-path":"src\\components\\PomodoroTimer.tsx:396:58",className:"h-3 w-3"}),h.ambientSound==="waves"&&u.jsx(m1,{"code-path":"src\\components\\PomodoroTimer.tsx:397:59",className:"h-3 w-3"}),""]}),v&&u.jsxs("span",{"code-path":"src\\components\\PomodoroTimer.tsx:402:19",className:"text-xs text-primary mt-1 flex items-center gap-1",children:[u.jsx(Dp,{"code-path":"src\\components\\PomodoroTimer.tsx:403:21",className:"h-3 w-3"}),""]})]})]}),u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:411:13",className:"flex items-center justify-center gap-3",children:[a?u.jsxs(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:418:17",size:"lg",variant:"outline",onClick:O,className:"gap-2 px-8",children:[u.jsx(kw,{"code-path":"src\\components\\PomodoroTimer.tsx:419:19",className:"h-5 w-5"}),""]}):u.jsxs(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:413:17",size:"lg",onClick:L,className:"gap-2 px-8",children:[u.jsx(Rw,{"code-path":"src\\components\\PomodoroTimer.tsx:414:19",className:"h-5 w-5"}),""]}),u.jsxs(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:424:15",size:"lg",variant:"outline",onClick:I,disabled:l===0&&!a,className:"gap-2",children:[u.jsx(dj,{"code-path":"src\\components\\PomodoroTimer.tsx:431:17",className:"h-5 w-5"}),""]}),u.jsx(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:435:15",size:"lg",variant:"ghost",onClick:()=>p(D=>({...D,soundEnabled:!D.soundEnabled})),className:"gap-2",children:h.soundEnabled?u.jsx(f1,{"code-path":"src\\components\\PomodoroTimer.tsx:441:42",className:"h-5 w-5"}):u.jsx(p1,{"code-path":"src\\components\\PomodoroTimer.tsx:441:76",className:"h-5 w-5"})})]}),u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:446:13",className:"flex justify-center gap-2 mt-6",children:[u.jsx(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:447:15",variant:h.mode==="countdown"?"default":"outline",size:"sm",onClick:()=>{p(D=>({...D,mode:"countdown",minutes:25})),m(25),z()},children:"25"}),u.jsx(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:458:15",variant:h.mode==="countup"?"default":"outline",size:"sm",onClick:()=>{p(D=>({...D,mode:"countup"})),z()},children:""}),u.jsx(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:468:15",variant:h.mode==="custom"?"default":"outline",size:"sm",onClick:()=>{p(D=>({...D,mode:"custom",minutes:g})),z()},children:""})]})]})]})}),u.jsx(nn,{"code-path":"src\\components\\PomodoroTimer.tsx:484:7",open:t,onOpenChange:s,children:u.jsxs(sn,{"code-path":"src\\components\\PomodoroTimer.tsx:485:9",className:"max-w-md max-h-[80vh] overflow-y-auto",children:[u.jsx(on,{"code-path":"src\\components\\PomodoroTimer.tsx:486:11",children:u.jsx(an,{"code-path":"src\\components\\PomodoroTimer.tsx:487:13",children:""})}),u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:489:11",className:"space-y-6 py-4",children:[u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:491:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\components\\PomodoroTimer.tsx:492:15",children:""}),u.jsx(ft,{"code-path":"src\\components\\PomodoroTimer.tsx:493:15",type:"number",min:1,max:180,value:g,onChange:D=>m(Math.max(1,Math.min(180,parseInt(D.target.value)||1)))})]}),u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:503:13",className:"flex items-center justify-between",children:[u.jsx(Be,{"code-path":"src\\components\\PomodoroTimer.tsx:504:15",children:""}),u.jsx(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:505:15",variant:"ghost",size:"sm",onClick:()=>p(D=>({...D,soundEnabled:!D.soundEnabled})),children:h.soundEnabled?u.jsx(f1,{"code-path":"src\\components\\PomodoroTimer.tsx:510:42",className:"h-4 w-4"}):u.jsx(p1,{"code-path":"src\\components\\PomodoroTimer.tsx:510:76",className:"h-4 w-4"})})]}),u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:515:13",className:"space-y-3",children:[u.jsx(Be,{"code-path":"src\\components\\PomodoroTimer.tsx:516:15",children:""}),u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:517:15",className:"grid grid-cols-4 gap-2",children:[u.jsx(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:518:17",variant:h.ambientSound==="none"?"default":"outline",size:"sm",onClick:()=>p(D=>({...D,ambientSound:"none"})),children:""}),u.jsxs(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:525:17",variant:h.ambientSound==="rain"?"default":"outline",size:"sm",onClick:()=>p(D=>({...D,ambientSound:"rain"})),className:"gap-1",children:[u.jsx(i1,{"code-path":"src\\components\\PomodoroTimer.tsx:531:19",className:"h-3 w-3"}),""]}),u.jsxs(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:534:17",variant:h.ambientSound==="wind"?"default":"outline",size:"sm",onClick:()=>p(D=>({...D,ambientSound:"wind"})),className:"gap-1",children:[u.jsx(g1,{"code-path":"src\\components\\PomodoroTimer.tsx:540:19",className:"h-3 w-3"}),""]}),u.jsxs(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:543:17",variant:h.ambientSound==="waves"?"default":"outline",size:"sm",onClick:()=>p(D=>({...D,ambientSound:"waves"})),className:"gap-1",children:[u.jsx(m1,{"code-path":"src\\components\\PomodoroTimer.tsx:549:19",className:"h-3 w-3"}),""]})]})]}),h.ambientSound!=="none"&&u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:557:15",className:"space-y-2",children:[u.jsxs(Be,{"code-path":"src\\components\\PomodoroTimer.tsx:558:17",children:[" (",h.ambientVolume,"%)"]}),u.jsx(Qa,{"code-path":"src\\components\\PomodoroTimer.tsx:559:17",value:[h.ambientVolume],onValueChange:D=>p(U=>({...U,ambientVolume:D[0]})),min:0,max:100,step:5})]}),u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:570:13",className:"space-y-3",children:[u.jsx(Be,{"code-path":"src\\components\\PomodoroTimer.tsx:571:15",children:""}),v?u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:573:17",className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[u.jsx(Dp,{"code-path":"src\\components\\PomodoroTimer.tsx:574:19",className:"h-4 w-4 text-primary"}),u.jsx("span",{"code-path":"src\\components\\PomodoroTimer.tsx:575:19",className:"flex-1 text-sm truncate",children:A}),u.jsx(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:576:19",variant:"ghost",size:"sm",onClick:fe,children:""})]}):u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:581:17",className:"flex gap-2",children:[u.jsx("input",{"code-path":"src\\components\\PomodoroTimer.tsx:582:19",type:"file",accept:"audio/*",onChange:ae,className:"hidden",id:"music-upload"}),u.jsx("label",{"code-path":"src\\components\\PomodoroTimer.tsx:589:19",htmlFor:"music-upload",className:"flex-1",children:u.jsx(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:590:21",variant:"outline",className:"w-full gap-2",asChild:!0,children:u.jsxs("span",{"code-path":"src\\components\\PomodoroTimer.tsx:591:23",children:[u.jsx(Dp,{"code-path":"src\\components\\PomodoroTimer.tsx:592:25",className:"h-4 w-4"}),""]})})})]}),u.jsx("p",{"code-path":"src\\components\\PomodoroTimer.tsx:599:15",className:"text-xs text-muted-foreground",children:" MP3, WAV, OGG "})]})]}),u.jsxs("div",{"code-path":"src\\components\\PomodoroTimer.tsx:604:11",className:"flex justify-end gap-2",children:[u.jsx(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:605:13",variant:"outline",onClick:()=>s(!1),children:""}),u.jsx(ie,{"code-path":"src\\components\\PomodoroTimer.tsx:608:13",onClick:re,children:""})]})]})})]})}const k6=[{id:"schedule",label:"",icon:gr},{id:"coding",label:"",icon:_w},{id:"library",label:"",icon:BP},{id:"projects",label:"",icon:Nw}];function R6(){const{categories:i,projects:e,notes:t,sync:s,isLoaded:a,addBook:r,updateBook:l,deleteBook:d,getBook:h,filterBooks:p,uploadFile:g,downloadFile:m,deleteBookFile:v,addPDFAnnotation:w,updatePDFAnnotation:A,deletePDFAnnotation:S,getBookPDFAnnotations:E,addProject:C,deleteProject:_,addProjectKnowledge:N,addProjectLesson:j,addProjectFile:M,deleteProjectFile:L,downloadProjectFile:O,addNote:I,updateNote:z,deleteNote:$,toggleNoteComplete:Y,addCategory:se,deleteCategory:re,getAllTags:ae,getStats:fe,exportData:D,importData:U,regenerateSyncCode:H,syncDataToCloud:F,syncDataFromCloud:K,mergeData:P}=TD(),[R,B]=b.useState(null),[q,X]=b.useState(!1),[le,Z]=b.useState({}),[ce,pe]=b.useState("schedule"),[Ae,ve]=b.useState(!1),[_e,Oe]=b.useState(null),[ke,Q]=b.useState(null),[Se,Le]=b.useState(!1),[Je,ct]=b.useState(!1),[mt,Bt]=b.useState(""),[gt,xe]=b.useState(!1),[te,Ne]=b.useState(""),He=R?h(R):null,dt=ke?h(ke):null,Ct=p(le),Jt=ae(),Rt=fe();b.useEffect(()=>()=>{_e&&URL.revokeObjectURL(_e)},[_e]);const ls=ge=>{B(ge.id)},cs=()=>{B(null)},ho=ge=>{Z(Fe=>({...Fe,searchQuery:ge}))},mn=ge=>{Z(Fe=>({...Fe,...ge}))},Yn=async(ge,Fe)=>{if(Fe.size>104857600){be.error("100MB");return}await g(ge,Fe),be.success("")},rn=async ge=>{const Fe=h(ge);if(!Fe?.fileId){be.error("");return}try{const Ue=await m(Fe.fileId);if(Ue){_e&&URL.revokeObjectURL(_e);const xt=new Blob([Ue.data],{type:Ue.type}),it=URL.createObjectURL(xt);Oe(it),Q(ge),ve(!0)}else be.error("")}catch{be.error("")}},Fr=async ge=>{const Fe=h(ge);if(!Fe?.fileId){be.error("");return}try{const Ue=await m(Fe.fileId);if(Ue){const it=new TextDecoder("utf-8").decode(Ue.data);Ne(it),Q(ge),xe(!0)}else be.error("")}catch{be.error("")}},ja=async(ge,Fe)=>{try{const Ue=await Fe.arrayBuffer(),xt=new Blob([Ue],{type:Fe.type}),it=URL.createObjectURL(xt);return l(ge,{coverUrl:it}),Promise.resolve()}catch(Ue){return be.error(""),Promise.reject(Ue)}},ds=ge=>{dt&&w({...ge,bookId:dt.id})},qo=ge=>{if(_e&&dt?.fileName){const Fe=document.createElement("a");if(Fe.href=_e,Fe.download=dt.fileName,Fe.click(),ge){const Ue=E(dt.id);if(Ue.length>0){const xt=Ue.sort((zt,_s)=>zt.page-_s.page||new Date(zt.createdAt).getTime()-new Date(_s.createdAt).getTime()).map((zt,_s)=>`[${_s+1}] ${zt.page}
${zt.content}
: ${new Date(zt.createdAt).toLocaleString()}
`).join(`
---

`),it=`${dt.title}
: ${dt.author}
: ${new Date().toLocaleString()}
 ${Ue.length} 

==================

${xt}`,Tn=new Blob([it],{type:"text/plain;charset=utf-8"}),Us=URL.createObjectURL(Tn),ln=document.createElement("a");ln.href=Us,ln.download=`${dt.title}_.txt`,ln.click(),URL.revokeObjectURL(Us)}}be.success("")}},Yo=()=>{const ge=D(),Fe=new Blob([ge],{type:"application/json"}),Ue=URL.createObjectURL(Fe),xt=document.createElement("a");xt.href=Ue,xt.download=`knowledge-library-backup-${new Date().toISOString().split("T")[0]}.json`,xt.click(),URL.revokeObjectURL(Ue),be.success("")},fo=ge=>U(ge)?(be.success(""),!0):(be.error(""),!1),us=()=>{const ge=s.syncCode||H();F(ge,{books:Ct,categories:i,pdfAnnotations:[],projects:e,notes:t,sync:{...s,syncCode:ge}})?be.success(""):be.error(""),ct(!0)},$e=()=>{if(!mt.trim()){be.error("");return}const ge=K(mt.toUpperCase());ge?(P(ge),be.success(""),ct(!1),Bt("")):be.error("")};return a?u.jsxs("div",{"code-path":"src\\App.tsx:316:5",className:"min-h-screen bg-background flex flex-col",children:[u.jsx("header",{"code-path":"src\\App.tsx:318:7",className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:u.jsxs("div",{"code-path":"src\\App.tsx:319:9",className:"container flex h-14 items-center justify-between px-4",children:[u.jsxs("div",{"code-path":"src\\App.tsx:320:11",className:"flex items-center gap-2",children:[u.jsx(kr,{"code-path":"src\\App.tsx:321:13",className:"h-6 w-6 text-primary"}),u.jsx("h1",{"code-path":"src\\App.tsx:322:13",className:"text-lg font-semibold",children:""}),u.jsx("span",{"code-path":"src\\App.tsx:323:13",className:"text-xs text-muted-foreground ml-2",children:"v1.4.0"})]}),u.jsxs("div",{"code-path":"src\\App.tsx:326:11",className:"flex items-center gap-2",children:[u.jsx(ie,{"code-path":"src\\App.tsx:328:13",variant:"ghost",size:"icon",onClick:()=>pe("stats"),className:ce==="stats"?"text-primary":"",title:"",children:u.jsx(oP,{"code-path":"src\\App.tsx:335:15",className:"h-5 w-5"})}),u.jsx(D6,{"code-path":"src\\App.tsx:339:13"}),u.jsxs(ie,{"code-path":"src\\App.tsx:342:13",variant:"ghost",size:"sm",onClick:us,className:"gap-2",children:[u.jsx(lj,{"code-path":"src\\App.tsx:343:15",className:"h-4 w-4"}),u.jsx("span",{"code-path":"src\\App.tsx:344:15",className:"hidden sm:inline",children:""})]}),u.jsxs(gS,{"code-path":"src\\App.tsx:348:13",open:Se,onOpenChange:Le,children:[u.jsx(xS,{"code-path":"src\\App.tsx:349:15",asChild:!0,children:u.jsx(ie,{"code-path":"src\\App.tsx:350:17",variant:"ghost",size:"icon",children:u.jsx(Nu,{"code-path":"src\\App.tsx:351:19",className:"h-5 w-5"})})}),u.jsxs(vS,{"code-path":"src\\App.tsx:354:15",side:"right",className:"w-full sm:max-w-md",children:[u.jsx(yS,{"code-path":"src\\App.tsx:355:17",children:u.jsx(bS,{"code-path":"src\\App.tsx:356:19",children:""})}),u.jsxs("div",{"code-path":"src\\App.tsx:358:17",className:"py-4 space-y-6",children:[u.jsxs("div",{"code-path":"src\\App.tsx:360:19",className:"space-y-3",children:[u.jsxs("h3",{"code-path":"src\\App.tsx:361:21",className:"text-sm font-medium flex items-center gap-2",children:[u.jsx(yj,{"code-path":"src\\App.tsx:362:23",className:"h-4 w-4"}),""]}),u.jsxs("div",{"code-path":"src\\App.tsx:365:21",className:"p-3 bg-muted rounded-lg",children:[u.jsx("p",{"code-path":"src\\App.tsx:366:23",className:"text-xs text-muted-foreground mb-2",children:""}),u.jsxs("div",{"code-path":"src\\App.tsx:367:23",className:"flex items-center gap-2",children:[u.jsx("code",{"code-path":"src\\App.tsx:368:25",className:"flex-1 p-2 bg-background rounded text-lg font-mono tracking-wider",children:s.syncCode}),u.jsx(ie,{"code-path":"src\\App.tsx:371:25",size:"sm",variant:"outline",onClick:()=>{const ge=H();be.success(": "+ge)},children:""})]}),u.jsx("p",{"code-path":"src\\App.tsx:378:23",className:"text-xs text-muted-foreground mt-2",children:""})]})]}),u.jsxs("div",{"code-path":"src\\App.tsx:385:19",className:"space-y-3",children:[u.jsx("h3",{"code-path":"src\\App.tsx:386:21",className:"text-sm font-medium",children:""}),u.jsxs("div",{"code-path":"src\\App.tsx:387:21",className:"space-y-2",children:[u.jsxs(ie,{"code-path":"src\\App.tsx:388:23",variant:"outline",className:"w-full gap-2",onClick:Yo,children:[u.jsx(vr,{"code-path":"src\\App.tsx:389:25",className:"h-4 w-4"}),""]}),u.jsxs("label",{"code-path":"src\\App.tsx:392:23",className:"flex",children:[u.jsx("input",{"code-path":"src\\App.tsx:393:25",type:"file",accept:".json",className:"hidden",onChange:ge=>{const Fe=ge.target.files?.[0];if(Fe){const Ue=new FileReader;Ue.onload=xt=>{fo(xt.target?.result)},Ue.readAsText(Fe)}}}),u.jsx(ie,{"code-path":"src\\App.tsx:408:25",variant:"outline",className:"w-full gap-2",asChild:!0,children:u.jsxs("span",{"code-path":"src\\App.tsx:409:27",children:[u.jsx(yP,{"code-path":"src\\App.tsx:409:33",className:"h-4 w-4"}),""]})})]})]})]}),u.jsx(B4,{"code-path":"src\\App.tsx:416:19",categories:i,onAddCategory:se,onDeleteCategory:re}),u.jsxs("div",{"code-path":"src\\App.tsx:423:19",className:"pt-4 border-t text-center",children:[u.jsx("p",{"code-path":"src\\App.tsx:424:21",className:"text-sm text-muted-foreground",children:" v1.4.0"}),u.jsx("p",{"code-path":"src\\App.tsx:425:21",className:"text-xs text-muted-foreground mt-1",children:""})]})]})]})]}),ce==="library"&&!He&&u.jsxs(ie,{"code-path":"src\\App.tsx:432:15",size:"sm",onClick:()=>X(!0),children:[u.jsx(Gl,{"code-path":"src\\App.tsx:433:17",className:"h-4 w-4 mr-1"}),""]})]})]})}),u.jsx("main",{"code-path":"src\\App.tsx:442:7",className:"flex-1 container px-4 py-4 pb-24",children:u.jsxs(Vm,{"code-path":"src\\App.tsx:443:9",value:ce,onValueChange:pe,className:"w-full",children:[u.jsx(Ms,{"code-path":"src\\App.tsx:445:11",value:"schedule",className:"mt-0 animate-in fade-in slide-in-from-bottom-4 duration-300",children:u.jsx(A6,{"code-path":"src\\App.tsx:446:13",notes:t,onAddNote:I,onUpdateNote:z,onDeleteNote:$,onToggleComplete:Y})}),u.jsx(Ms,{"code-path":"src\\App.tsx:456:11",value:"coding",className:"mt-0 animate-in fade-in slide-in-from-bottom-4 duration-300",children:u.jsx(N6,{"code-path":"src\\App.tsx:457:13"})}),u.jsx(Ms,{"code-path":"src\\App.tsx:461:11",value:"library",className:"mt-0 animate-in fade-in slide-in-from-bottom-4 duration-300",children:He?u.jsx(G5,{"code-path":"src\\App.tsx:463:15",book:He,categories:i,onBack:cs,onUpdate:l,onDelete:ge=>{d(ge),cs(),be.success("")},onAddAnnotation:(ge,Fe,Ue)=>{const xt=h(ge);xt&&(l(ge,{annotations:[...xt.annotations,{id:M6(),content:Fe,page:Ue,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]}),be.success(""))},onUpdateAnnotation:(ge,Fe,Ue)=>{const xt=h(ge);xt&&(l(ge,{annotations:xt.annotations.map(it=>it.id===Fe?{...it,content:Ue,updatedAt:new Date().toISOString()}:it)}),be.success(""))},onDeleteAnnotation:(ge,Fe)=>{const Ue=h(ge);Ue&&(l(ge,{annotations:Ue.annotations.filter(xt=>xt.id!==Fe)}),be.success(""))},onUploadFile:Yn,onDeleteFile:v,onReadPDF:()=>rn(He.id),onReadText:()=>Fr(He.id),hasFile:!!He.fileId,onUploadCover:ja}):u.jsxs("div",{"code-path":"src\\App.tsx:516:15",className:"space-y-4",children:[u.jsx(I4,{"code-path":"src\\App.tsx:517:17",value:le.searchQuery||"",onChange:ho,placeholder:"..."}),u.jsx(B5,{"code-path":"src\\App.tsx:522:17",books:Ct,categories:i,filter:le,onFilterChange:mn,onBookClick:ls,allTags:Jt,onEditBook:ge=>{B(ge.id)},onDeleteBook:ge=>{d(ge),be.success("")}})]})}),u.jsx(Ms,{"code-path":"src\\App.tsx:543:11",value:"projects",className:"mt-0 animate-in fade-in slide-in-from-bottom-4 duration-300",children:u.jsx(x6,{"code-path":"src\\App.tsx:544:13",projects:e,onAddProject:C,onDeleteProject:_,onAddKnowledge:N,onAddLesson:j,onAddFile:M,onDeleteFile:L,onDownloadFile:O})}),u.jsx(Ms,{"code-path":"src\\App.tsx:557:11",value:"stats",className:"mt-0 animate-in fade-in slide-in-from-bottom-4 duration-300",children:u.jsx(i4,{"code-path":"src\\App.tsx:558:13",stats:Rt})})]})}),u.jsx("nav",{"code-path":"src\\App.tsx:564:7",className:"fixed bottom-0 left-0 right-0 border-t bg-background/95 backdrop-blur safe-area-pb z-50",children:u.jsx("div",{"code-path":"src\\App.tsx:565:9",className:"flex justify-around h-16 items-center",children:k6.map(ge=>{const Fe=ge.icon,Ue=ce===ge.id;return u.jsxs("button",{"code-path":"src\\App.tsx:570:15",onClick:()=>{pe(ge.id),cs()},className:`flex flex-col items-center gap-1 px-4 py-2 transition-all duration-200 ${Ue?"text-primary":"text-muted-foreground"}`,children:[u.jsx(Fe,{"code-path":"src\\App.tsx:580:17",className:"h-5 w-5"}),u.jsx("span",{"code-path":"src\\App.tsx:581:17",className:"text-[10px]",children:ge.label}),Ue&&u.jsx("div",{"code-path":"src\\App.tsx:582:30",className:"absolute bottom-1 w-4 h-0.5 bg-primary rounded-full"})]},ge.id)})})}),u.jsx(Y5,{"code-path":"src\\App.tsx:590:7",open:q,onOpenChange:X,categories:i,onAdd:r,allTags:Jt}),u.jsx(nn,{"code-path":"src\\App.tsx:599:7",open:Ae,onOpenChange:ve,children:u.jsxs(sn,{"code-path":"src\\App.tsx:600:9",className:"max-w-5xl h-[90vh] p-0 flex flex-col",showCloseButton:!1,children:[u.jsx(on,{"code-path":"src\\App.tsx:601:11",className:"p-4 border-b flex flex-row items-center justify-between",children:u.jsxs(an,{"code-path":"src\\App.tsx:602:13",className:"flex items-center gap-2",children:[u.jsx(wa,{"code-path":"src\\App.tsx:603:15",className:"h-5 w-5"}),dt?.title||""]})}),u.jsx("div",{"code-path":"src\\App.tsx:607:11",className:"flex-1 overflow-hidden",children:_e&&dt&&u.jsx(MB,{"code-path":"src\\App.tsx:609:15",fileUrl:_e,book:dt,annotations:E(dt.id),onAddAnnotation:ds,onUpdateAnnotation:A,onDeleteAnnotation:S,onDownloadFile:qo})})]})}),gt&&dt&&u.jsx(p6,{"code-path":"src\\App.tsx:625:9",content:te,title:dt.title,bookId:dt.id,onClose:()=>{xe(!1),Ne("")}}),u.jsx(nn,{"code-path":"src\\App.tsx:637:7",open:Je,onOpenChange:ct,children:u.jsxs(sn,{"code-path":"src\\App.tsx:638:9",children:[u.jsx(on,{"code-path":"src\\App.tsx:639:11",children:u.jsx(an,{"code-path":"src\\App.tsx:640:13",children:""})}),u.jsxs("div",{"code-path":"src\\App.tsx:642:11",className:"space-y-4 py-4",children:[u.jsxs("div",{"code-path":"src\\App.tsx:643:13",className:"p-4 bg-primary/10 rounded-lg text-center",children:[u.jsx("p",{"code-path":"src\\App.tsx:644:15",className:"text-sm text-muted-foreground mb-2",children:""}),u.jsx("code",{"code-path":"src\\App.tsx:645:15",className:"text-2xl font-mono tracking-widest",children:s.syncCode})]}),u.jsxs("div",{"code-path":"src\\App.tsx:647:13",className:"space-y-2",children:[u.jsx(Be,{"code-path":"src\\App.tsx:648:15",children:""}),u.jsxs("div",{"code-path":"src\\App.tsx:649:15",className:"flex gap-2",children:[u.jsx(ft,{"code-path":"src\\App.tsx:650:17",placeholder:"",value:mt,onChange:ge=>Bt(ge.target.value.toUpperCase()),maxLength:6}),u.jsx(ie,{"code-path":"src\\App.tsx:656:17",onClick:$e,children:""})]})]})]})]})}),u.jsx(vD,{"code-path":"src\\App.tsx:663:7",position:"top-center",toastOptions:{duration:2e3},style:{top:"20%"}})]}):u.jsx("div",{"code-path":"src\\App.tsx:309:7",className:"flex items-center justify-center h-screen bg-background",children:u.jsx("div",{"code-path":"src\\App.tsx:310:9",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function M6(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}v_.createRoot(document.getElementById("root")).render(u.jsx(b.StrictMode,{"code-path":"src\\main.tsx:7:3",children:u.jsx(R6,{"code-path":"src\\main.tsx:8:5"})}));
